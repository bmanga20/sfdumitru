/*
	Copyright (C) 2010 Stack Ideas Private Limited. All rights reserved.
 @license		GNU/GPL, see LICENSE.php

 Komento is free software. This version may have been modified pursuant
 to the GNU General Public License, and as distributed it includes or
 is derivative of works licensed under the GNU General Public License or
 other free or open source software licenses.
 See COPYRIGHT.php for copyright notices and details.

 Lo-Dash 1.3.1 (Custom Build) <http://lodash.com/>
 Build: `lodash modern -o ./dist/lodash.js`
 Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 Based on Underscore.js 1.4.4 <http://underscorejs.org/>
 Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
 Available under MIT license <http://lodash.com/license>
*/
(function(f,d){function k(a){var b=a.length,c=l.type(a);return l.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||"function"!==c&&(0===b||"number"===typeof b&&0<b&&b-1 in a)}function a(a){var b=hb[a]={};l.each(a.match(ya)||[],function(a,c){b[c]=!0});return b}function b(a,b,c,e){if(l.acceptData(a)){var g=l.expando,h=a.nodeType,m=h?l.cache:a,k=h?a[g]:a[g]&&g;if(k&&m[k]&&(e||m[k].data)||c!==d||"string"!==typeof b){k||(k=h?a[g]=za.pop()||l.guid++:g);m[k]||(m[k]=h?{}:{toJSON:l.noop});if("object"===typeof b||
"function"===typeof b)e?m[k]=l.extend(m[k],b):m[k].data=l.extend(m[k].data,b);a=m[k];e||(a.data||(a.data={}),a=a.data);c!==d&&(a[l.camelCase(b)]=c);"string"===typeof b?(c=a[b],null==c&&(c=a[l.camelCase(b)])):c=a;return c}}}function c(a,b,c){if(l.acceptData(a)){var d,g,h=a.nodeType,m=h?l.cache:a,k=h?a[l.expando]:l.expando;if(m[k]){if(b&&(d=c?m[k]:m[k].data)){l.isArray(b)?b=b.concat(l.map(b,l.camelCase)):b in d?b=[b]:(b=l.camelCase(b),b=b in d?[b]:b.split(" "));for(g=b.length;g--;)delete d[b[g]];if(c?
!e(d):!l.isEmptyObject(d))return}if(!c&&(delete m[k].data,!e(m[k])))return;h?l.cleanData([a],!0):l.support.deleteExpando||m!=m.window?delete m[k]:m[k]=null}}}function g(a,b,c){if(c===d&&1===a.nodeType)if(c="data-"+b.replace(Ib,"-$1").toLowerCase(),c=a.getAttribute(c),"string"===typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:Jb.test(c)?l.parseJSON(c):c}catch(e){}l.data(a,b,c)}else c=d;return c}function e(a){for(var b in a)if(("data"!==b||!l.isEmptyObject(a[b]))&&"toJSON"!==
b)return!1;return!0}function h(){return!0}function m(){return!1}function r(){try{return F.activeElement}catch(a){}}function n(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function p(a,b,c){if(l.isFunction(b))return l.grep(a,function(a,e){return!!b.call(a,e,a)!==c});if(b.nodeType)return l.grep(a,function(a){return a===b!==c});if("string"===typeof b){if(Kb.test(b))return l.filter(b,a,c);b=l.filter(b,a)}return l.grep(a,function(a){return 0<=l.inArray(a,b)!==c})}function q(a){var b=wb.split("|");
a=a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function w(a,b){return l.nodeName(a,"table")&&l.nodeName(1===b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function u(a){a.type=(null!==l.find.attr(a,"type"))+"/"+a.type;return a}function v(a){var b=Aa.exec(a.type);b?a.type=b[1]:a.removeAttribute("type");return a}function s(a,b){for(var c,e=0;null!=(c=a[e]);e++)l._data(c,"globalEval",
!b||l._data(b[e],"globalEval"))}function x(a,b){if(1===b.nodeType&&l.hasData(a)){var c,e,d;e=l._data(a);var g=l._data(b,e),h=e.events;if(h)for(c in delete g.handle,g.events={},h)for(e=0,d=h[c].length;e<d;e++)l.event.add(b,c,h[c][e]);g.data&&(g.data=l.extend({},g.data))}}function t(a,b){var c,e,g=0,h=typeof a.getElementsByTagName!==V?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==V?a.querySelectorAll(b||"*"):d;if(!h)for(h=[],c=a.childNodes||a;null!=(e=c[g]);g++)!b||l.nodeName(e,b)?h.push(e):
l.merge(h,t(e,b));return b===d||b&&l.nodeName(a,b)?l.merge([a],h):h}function E(a){xb.test(a.type)&&(a.defaultChecked=a.checked)}function z(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),e=b,d=jb.length;d--;)if(b=jb[d]+c,b in a)return b;return e}function A(a,b){a=b||a;return"none"===l.css(a,"display")||!l.contains(a.ownerDocument,a)}function G(a,b){for(var c,e,d,g=[],h=0,m=a.length;h<m;h++)e=a[h],e.style&&(g[h]=l._data(e,"olddisplay"),c=e.style.display,b?(g[h]||"none"!==c||
(e.style.display=""),""===e.style.display&&A(e)&&(g[h]=l._data(e,"olddisplay",C(e.nodeName)))):g[h]||(d=A(e),(c&&"none"!==c||!d)&&l._data(e,"olddisplay",d?c:l.css(e,"display"))));for(h=0;h<m;h++)e=a[h],!e.style||b&&"none"!==e.style.display&&""!==e.style.display||(e.style.display=b?g[h]||"":"none");return a}function L(a,b,c){return(a=aa.exec(b))?Math.max(0,a[1]-(c||0))+(a[2]||"px"):b}function H(a,b,c,e,d){b=c===(e?"border":"content")?4:"width"===b?1:0;for(var g=0;4>b;b+=2)"margin"===c&&(g+=l.css(a,
c+Ba[b],!0,d)),e?("content"===c&&(g-=l.css(a,"padding"+Ba[b],!0,d)),"margin"!==c&&(g-=l.css(a,"border"+Ba[b]+"Width",!0,d))):(g+=l.css(a,"padding"+Ba[b],!0,d),"padding"!==c&&(g+=l.css(a,"border"+Ba[b]+"Width",!0,d)));return g}function D(a,b,c){var e=!0,d="width"===b?a.offsetWidth:a.offsetHeight,g=ka(a),h=l.support.boxSizing&&"border-box"===l.css(a,"boxSizing",!1,g);if(0>=d||null==d){d=Na(a,b,g);if(0>d||null==d)d=a.style[b];if(Oa.test(d))return d;e=h&&(l.support.boxSizingReliable||d===a.style[b]);
d=parseFloat(d)||0}return d+H(a,b,c||(h?"border":"content"),e,g)+"px"}function C(a){var b=F,c=$a[a];c||(c=I(a,b),"none"!==c&&c||(ab=(ab||l("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b.documentElement),b=(ab[0].contentWindow||ab[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),c=I(a,b),ab.detach()),$a[a]=c);return c}function I(a,b){var c=l(b.createElement(a)).appendTo(b.body),e=l.css(c[0],"display");c.remove();
return e}function B(a,b,c,e){var d;if(l.isArray(b))l.each(b,function(b,d){c||Yb.test(a)?e(a,d):B(a+"["+("object"===typeof d?b:"")+"]",d,c,e)});else if(c||"object"!==l.type(b))e(a,b);else for(d in b)B(a+"["+d+"]",b[d],c,e)}function S(a){return function(b,c){"string"!==typeof b&&(c=b,b="*");var e,d=0,g=b.toLowerCase().match(ya)||[];if(l.isFunction(c))for(;e=g[d++];)"+"===e[0]?(e=e.slice(1)||"*",(a[e]=a[e]||[]).unshift(c)):(a[e]=a[e]||[]).push(c)}}function K(a,b,c,e){function d(m){var k;g[m]=!0;l.each(a[m]||
[],function(a,y){var m=y(b,c,e);if("string"===typeof m&&!h&&!g[m])return b.dataTypes.unshift(m),d(m),!1;if(h)return!(k=m)});return k}var g={},h=a===T;return d(b.dataTypes[0])||!g["*"]&&d("*")}function M(a,b){var c,e,g=l.ajaxSettings.flatOptions||{};for(e in b)b[e]!==d&&((g[e]?a:c||(c={}))[e]=b[e]);c&&l.extend(!0,a,c);return a}function P(){try{return new f.XMLHttpRequest}catch(a){}}function R(){setTimeout(function(){ba=d});return ba=l.now()}function ta(a,b,c){for(var e,d=(Pa[b]||[]).concat(Pa["*"]),
g=0,h=d.length;g<h;g++)if(e=d[g].call(c,b,a))return e}function Qa(a,b,c){var e,d=0,g=qa.length,h=l.Deferred().always(function(){delete m.elem}),m=function(){if(e)return!1;for(var b=ba||R(),b=Math.max(0,k.startTime+k.duration-b),c=1-(b/k.duration||0),d=0,g=k.tweens.length;d<g;d++)k.tweens[d].run(c);h.notifyWith(a,[k,c,b]);if(1>c&&g)return b;h.resolveWith(a,[k]);return!1},k=h.promise({elem:a,props:l.extend({},b),opts:l.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:ba||
R(),duration:c.duration,tweens:[],createTween:function(b,c){var e=l.Tween(a,k.opts,b,c,k.opts.specialEasing[b]||k.opts.easing);k.tweens.push(e);return e},stop:function(b){var c=0,d=b?k.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)k.tweens[c].run(1);b?h.resolveWith(a,[k,b]):h.rejectWith(a,[k,b]);return this}});c=k.props;for($(c,k.opts.specialEasing);d<g;d++)if(b=qa[d].call(k,a,c,k.opts))return b;l.map(c,ta,k);l.isFunction(k.opts.start)&&k.opts.start.call(a,k);l.fx.timer(l.extend(m,{elem:a,anim:k,
queue:k.opts.queue}));return k.progress(k.opts.progress).done(k.opts.done,k.opts.complete).fail(k.opts.fail).always(k.opts.always)}function $(a,b){var c,e,d,g,h;for(c in a)if(e=l.camelCase(c),d=b[e],g=a[c],l.isArray(g)&&(d=g[1],g=a[c]=g[0]),c!==e&&(a[e]=g,delete a[c]),(h=l.cssHooks[e])&&"expand"in h)for(c in g=h.expand(g),delete a[e],g)c in a||(a[c]=g[c],b[c]=d);else b[e]=d}function J(a,b,c,e,d){return new J.prototype.init(a,b,c,e,d)}function U(a,b){var c,e={height:a},d=0;for(b=b?1:0;4>d;d+=2-b)c=
Ba[d],e["margin"+c]=e["padding"+c]=a;b&&(e.opacity=e.width=a);return e}function Ca(a){return l.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var Ra,la,V=typeof d,Ia=f.location,F=f.document,ma=F.documentElement,da={},za=[],ea=za.concat,yb=za.push,ua=za.slice,Ta=za.indexOf,fa=da.toString,Sa=da.hasOwnProperty,Ua="1.10.2".trim,l=function(a,b){return new l.fn.init(a,b,la)},Lb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ya=/\S+/g,fc=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Zb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,
Mb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,zb=/^[\],:{}\s]*$/,kb=/(?:^|:|,)(?:\s*\[)+/g,Nb=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,Va=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,Ja=/^-ms-/,Da=/-([\da-z])/gi,Ob=function(a,b){return b.toUpperCase()},W=function(a){if(F.addEventListener||"load"===a.type||"complete"===F.readyState)Ab(),l.ready()},Ab=function(){F.addEventListener?(F.removeEventListener("DOMContentLoaded",W,!1),f.removeEventListener("load",W,!1)):(F.detachEvent("onreadystatechange",
W),f.detachEvent("onload",W))};l.fn=l.prototype={jquery:"1.10.2",constructor:l,init:function(a,b,c){var e;if(!a)return this;if("string"===typeof a){e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:Zb.exec(a);if(!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof l?b[0]:b,l.merge(this,l.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:F,!0)),Mb.test(e[1])&&l.isPlainObject(b))for(e in b)if(l.isFunction(this[e]))this[e](b[e]);
else this.attr(e,b[e])}else{if((b=F.getElementById(e[2]))&&b.parentNode){if(b.id!==e[2])return c.find(a);this.length=1;this[0]=b}this.context=F;this.selector=a}return this}if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(l.isFunction(a))return c.ready(a);a.selector!==d&&(this.selector=a.selector,this.context=a.context);return l.makeArray(a,this)},selector:"",length:0,toArray:function(){return ua.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},
pushStack:function(a){a=l.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;return a},each:function(a,b){return l.each(this,a,b)},ready:function(a){l.ready.promise().done(a);return this},slice:function(){return this.pushStack(ua.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},map:function(a){return this.pushStack(l.map(this,function(b,c){return a.call(b,
c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:yb,sort:[].sort,splice:[].splice};l.fn.init.prototype=l.fn;l.extend=l.fn.extend=function(){var a,b,c,e,g,h=arguments[0]||{},m=1,k=arguments.length,f=!1;"boolean"===typeof h&&(f=h,h=arguments[1]||{},m=2);"object"===typeof h||l.isFunction(h)||(h={});k===m&&(h=this,--m);for(;m<k;m++)if(null!=(g=arguments[m]))for(e in g)a=h[e],c=g[e],h!==c&&(f&&c&&(l.isPlainObject(c)||(b=l.isArray(c)))?(b?(b=!1,a=a&&l.isArray(a)?a:[]):a=a&&l.isPlainObject(a)?
a:{},h[e]=l.extend(f,a,c)):c!==d&&(h[e]=c));return h};l.extend({expando:"jQuery"+("1.10.2"+Math.random()).replace(/\D/g,""),noConflict:function(a){return l},isReady:!1,readyWait:1,holdReady:function(a){a?l.readyWait++:l.ready(!0)},ready:function(a){if(!0===a?!--l.readyWait:!l.isReady){if(!F.body)return setTimeout(l.ready);l.isReady=!0;!0!==a&&0<--l.readyWait||(Ra.resolveWith(F,[l]),l.fn.trigger&&l(F).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===l.type(a)},isArray:Array.isArray||
function(a){return"array"===l.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):"object"===typeof a||"function"===typeof a?da[fa.call(a)]||"object":typeof a},isPlainObject:function(a){var b;if(!a||"object"!==l.type(a)||a.nodeType||l.isWindow(a))return!1;try{if(a.constructor&&!Sa.call(a,"constructor")&&!Sa.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(l.support.ownLast)for(b in a)return Sa.call(a,
b);for(b in a);return b===d||Sa.call(a,b)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw Error(a);},parseHTML:function(a,b,c){if(!a||"string"!==typeof a)return null;"boolean"===typeof b&&(c=b,b=!1);b=b||F;var e=Mb.exec(a);c=!c&&[];if(e)return[b.createElement(e[1])];e=l.buildFragment([a],b,c);c&&l(c).remove();return l.merge([],e.childNodes)},parseJSON:function(a){if(f.JSON&&f.JSON.parse)return f.JSON.parse(a);if(null===a)return a;if("string"===typeof a&&(a=l.trim(a))&&
zb.test(a.replace(Nb,"@").replace(Va,"]").replace(kb,"")))return(new Function("return "+a))();l.error("Invalid JSON: "+a)},parseXML:function(a){var b,c;if(!a||"string"!==typeof a)return null;try{f.DOMParser?(c=new DOMParser,b=c.parseFromString(a,"text/xml")):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a))}catch(e){b=d}b&&b.documentElement&&!b.getElementsByTagName("parsererror").length||l.error("Invalid XML: "+a);return b},noop:function(){},globalEval:function(a){a&&l.trim(a)&&
(f.execScript||function(a){f.eval.call(f,a)})(a)},camelCase:function(a){return a.replace(Ja,"ms-").replace(Da,Ob)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var e,d=0,g=a.length;e=k(a);if(c)if(e)for(;d<g&&(e=b.apply(a[d],c),!1!==e);d++);else for(d in a){if(e=b.apply(a[d],c),!1===e)break}else if(e)for(;d<g&&(e=b.call(a[d],d,a[d]),!1!==e);d++);else for(d in a)if(e=b.call(a[d],d,a[d]),!1===e)break;return a},trim:Ua&&!Ua.call("\ufeff\u00a0")?
function(a){return null==a?"":Ua.call(a)}:function(a){return null==a?"":(a+"").replace(fc,"")},makeArray:function(a,b){var c=b||[];null!=a&&(k(Object(a))?l.merge(c,"string"===typeof a?[a]:a):yb.call(c,a));return c},inArray:function(a,b,c){var e;if(b){if(Ta)return Ta.call(b,a,c);e=b.length;for(c=c?0>c?Math.max(0,e+c):c:0;c<e;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=b.length,e=a.length,g=0;if("number"===typeof c)for(;g<c;g++)a[e++]=b[g];else for(;b[g]!==d;)a[e++]=b[g++];
a.length=e;return a},grep:function(a,b,c){var e,d=[],g=0,h=a.length;for(c=!!c;g<h;g++)e=!!b(a[g],g),c!==e&&d.push(a[g]);return d},map:function(a,b,c){var e,d=0,g=a.length,h=[];if(k(a))for(;d<g;d++)e=b(a[d],d,c),null!=e&&(h[h.length]=e);else for(d in a)e=b(a[d],d,c),null!=e&&(h[h.length]=e);return ea.apply([],h)},guid:1,proxy:function(a,b){var c,e;"string"===typeof b&&(e=a[b],b=a,a=e);if(!l.isFunction(a))return d;c=ua.call(arguments,2);e=function(){return a.apply(b||this,c.concat(ua.call(arguments)))};
e.guid=a.guid=a.guid||l.guid++;return e},access:function(a,b,c,e,g,h,m){var k=0,f=a.length,r=null==c;if("object"===l.type(c))for(k in g=!0,c)l.access(a,b,k,c[k],!0,h,m);else if(e!==d&&(g=!0,l.isFunction(e)||(m=!0),r&&(m?(b.call(a,e),b=null):(r=b,b=function(a,b,c){return r.call(l(a),c)})),b))for(;k<f;k++)b(a[k],c,m?e:e.call(a[k],k,b(a[k],c)));return g?a:r?b.call(a):f?b(a[0],c):h},now:function(){return(new Date).getTime()},swap:function(a,b,c,e){var d,g={};for(d in b)g[d]=a.style[d],a.style[d]=b[d];
c=c.apply(a,e||[]);for(d in b)a.style[d]=g[d];return c}});l.ready.promise=function(a){if(!Ra)if(Ra=l.Deferred(),"complete"===F.readyState)setTimeout(l.ready);else if(F.addEventListener)F.addEventListener("DOMContentLoaded",W,!1),f.addEventListener("load",W,!1);else{F.attachEvent("onreadystatechange",W);f.attachEvent("onload",W);var b=!1;try{b=null==f.frameElement&&F.documentElement}catch(c){}b&&b.doScroll&&function ec(){if(!l.isReady){try{b.doScroll("left")}catch(a){return setTimeout(ec,50)}Ab();
l.ready()}}()}return Ra.promise(a)};l.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){da["[object "+b+"]"]=b.toLowerCase()});la=l(F);(function(a,b){function c(a,b,e,d){var g,y,h,m,l;(b?b.ownerDocument||b:pa)!==ba&&S(b);b=b||ba;e=e||[];if(!a||"string"!==typeof a)return e;if(1!==(m=b.nodeType)&&9!==m)return[];if(H&&!d){if(g=ya.exec(a))if(h=g[1])if(9===m)if((y=b.getElementById(h))&&y.parentNode){if(y.id===h)return e.push(y),e}else return e;else{if(b.ownerDocument&&
(y=b.ownerDocument.getElementById(h))&&L(b,y)&&y.id===h)return e.push(y),e}else{if(g[2])return qa.apply(e,b.getElementsByTagName(a)),e;if((h=g[3])&&u.getElementsByClassName&&b.getElementsByClassName)return qa.apply(e,b.getElementsByClassName(h)),e}if(u.qsa&&(!R||!R.test(a))){y=g=D;h=b;l=9===m&&a;if(1===m&&"object"!==b.nodeName.toLowerCase()){m=q(a);(g=b.getAttribute("id"))?y=g.replace(ka,"\\$&"):b.setAttribute("id",y);y="[id='"+y+"'] ";for(h=m.length;h--;)m[h]=y+O(m[h]);h=T.test(a)&&b.parentNode||
b;l=m.join(",")}if(l)try{return qa.apply(e,h.querySelectorAll(l)),e}catch(k){}finally{g||b.removeAttribute("id")}}}var f;a:{a=a.replace(Ua,"$1");y=q(a);if(!d&&1===y.length){g=y[0]=y[0].slice(0);if(2<g.length&&"ID"===(f=g[0]).type&&u.getById&&9===b.nodeType&&H&&B.relative[g[1].type]){b=(B.find.ID(f.matches[0].replace(W,Y),b)||[])[0];if(!b){f=e;break a}a=a.slice(g.shift().value.length)}for(m=aa.needsContext.test(a)?0:g.length;m--;){f=g[m];if(B.relative[h=f.type])break;if(h=B.find[h])if(d=h(f.matches[0].replace(W,
Y),T.test(g[0].type)&&b.parentNode||b)){g.splice(m,1);a=d.length&&O(g);if(!a){qa.apply(e,d);f=e;break a}break}}}fa(a,y)(d,b,!H,e,T.test(a));f=e}return f}function e(a){return ha.test(a+"")}function d(){function a(c,e){b.push(c+=" ")>B.cacheLength&&delete a[b.shift()];return a[c]=e}var b=[];return a}function g(a){a[D]=!0;return a}function h(a){var b=ba.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function m(a,b,c){a=a.split("|");var e,d=
a.length;for(c=c?null:b;d--;)(e=B.attrHandle[a[d]])&&e!==b||(B.attrHandle[a[d]]=c)}function k(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:!0===a[b]?b.toLowerCase():null}function f(a,b){return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}function r(a){if("input"===a.nodeName.toLowerCase())return a.defaultValue}function s(a,b){var c=b&&a,e=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||F)-(~a.sourceIndex||F);if(e)return e;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?
1:-1}function n(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function p(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function t(a){return g(function(b){b=+b;return g(function(c,e){for(var d,g=a([],c.length,b),y=g.length;y--;)c[d=g[y]]&&(c[d]=!(e[d]=c[d]))})})}function q(a,b){var e,d,g,y,h,m,l;if(h=ta[a+" "])return b?0:h.slice(0);h=a;m=[];for(l=B.preFilter;h;){if(!e||(d=Q.exec(h)))d&&(h=h.slice(d[0].length)||h),m.push(g=
[]);e=!1;if(d=X.exec(h))e=d.shift(),g.push({value:e,type:d[0].replace(Ua," ")}),h=h.slice(e.length);for(y in B.filter)!(d=aa[y].exec(h))||l[y]&&!(d=l[y](d))||(e=d.shift(),g.push({value:e,type:y,matches:d}),h=h.slice(e.length));if(!e)break}return b?h.length:h?c.error(a):ta(a,m).slice(0)}function O(a){for(var b=0,c=a.length,e="";b<c;b++)e+=a[b].value;return e}function x(a,b,c){var e=b.dir,d=c&&"parentNode"===e,g=Xb++;return b.first?function(b,c,g){for(;b=b[e];)if(1===b.nodeType||d)return a(b,c,g)}:
function(b,c,y){var h,m,l,k=xa+" "+g;if(y)for(;b=b[e];){if((1===b.nodeType||d)&&a(b,c,y))return!0}else for(;b=b[e];)if(1===b.nodeType||d)if(l=b[D]||(b[D]={}),(m=l[e])&&m[0]===k){if(!0===(h=m[1])||h===na)return!0===h}else if(m=l[e]=[k],m[1]=a(b,c,y)||na,!0===m[1])return!0}}function ga(a){return 1<a.length?function(b,c,e){for(var d=a.length;d--;)if(!a[d](b,c,e))return!1;return!0}:a[0]}function v(a,b,c,e,d){for(var g,y=[],h=0,m=a.length,l=null!=b;h<m;h++)if(g=a[h])if(!c||c(g,e,d))y.push(g),l&&b.push(h);
return y}function E(a,b,e,d,y,h){d&&!d[D]&&(d=E(d));y&&!y[D]&&(y=E(y,h));return g(function(g,h,m,l){var k,f,r=[],ia=[],s=h.length,n;if(!(n=g)){n=b||"*";for(var t=m.nodeType?[m]:m,p=[],ib=0,q=t.length;ib<q;ib++)c(n,t[ib],p);n=p}n=!a||!g&&b?n:v(n,r,a,m,l);t=e?y||(g?a:s||d)?[]:h:n;e&&e(n,t,m,l);if(d)for(k=v(t,ia),d(k,[],m,l),m=k.length;m--;)if(f=k[m])t[ia[m]]=!(n[ia[m]]=f);if(g){if(y||a){if(y){k=[];for(m=t.length;m--;)(f=t[m])&&k.push(n[m]=f);y(null,t=[],k,l)}for(m=t.length;m--;)(f=t[m])&&-1<(k=y?la.call(g,
f):r[m])&&(g[k]=!(h[k]=f))}}else t=v(t===h?t.splice(s,t.length):t),y?y(null,h,t,l):qa.apply(h,t)})}function Z(a){var b,c,e,d=a.length,g=B.relative[a[0].type];c=g||B.relative[" "];for(var y=g?1:0,h=x(function(a){return a===b},c,!0),m=x(function(a){return-1<la.call(b,a)},c,!0),l=[function(a,c,e){return!g&&(e||c!==A)||((b=c).nodeType?h(a,c,e):m(a,c,e))}];y<d;y++)if(c=B.relative[a[y].type])l=[x(ga(l),c)];else{c=B.filter[a[y].type].apply(null,a[y].matches);if(c[D]){for(e=++y;e<d&&!B.relative[a[e].type];e++);
return E(1<y&&ga(l),1<y&&O(a.slice(0,y-1).concat({value:" "===a[y-2].type?"*":""})).replace(Ua,"$1"),c,y<e&&Z(a.slice(y,e)),e<d&&Z(a=a.slice(e)),e<d&&O(a))}l.push(c)}return ga(l)}function w(a,b){var e=0,d=0<b.length,y=0<a.length,h=function(g,h,m,l,k){var f,r,ia=[],s=0,n="0",t=g&&[],p=null!=k,ib=A,q=g||y&&B.find.TAG("*",k&&h.parentNode||h),O=xa+=null==ib?1:Math.random()||0.1;p&&(A=h!==ba&&h,na=e);for(;null!=(k=q[n]);n++){if(y&&k){for(f=0;r=a[f++];)if(r(k,h,m)){l.push(k);break}p&&(xa=O,na=++e)}d&&((k=
!r&&k)&&s--,g&&t.push(k))}s+=n;if(d&&n!==s){for(f=0;r=b[f++];)r(t,ia,h,m);if(g){if(0<s)for(;n--;)t[n]||ia[n]||(ia[n]=J.call(l));ia=v(ia)}qa.apply(l,ia);p&&!g&&0<ia.length&&1<s+b.length&&c.uniqueSort(l)}p&&(xa=O,A=ib);return t};return d?g(h):h}function z(){}var N,u,na,B,G,K,fa,A,sa,S,ba,M,H,R,C,P,L,D="sizzle"+-new Date,pa=a.document,xa=0,Xb=0,I=d(),ta=d(),Ca=d(),Ta=!1,V=function(){return 0},$=typeof b,F=-2147483648,Ra={}.hasOwnProperty,Ma=[],J=Ma.pop,Qa=Ma.push,qa=Ma.push,Sa=Ma.slice,la=Ma.indexOf||
function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1},U="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),Ia="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+U+")|)|)[\\x20\\t\\r\\n\\f]*\\]",Pa=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+Ia.replace(3,8)+")*)|.*)\\)|)",Ua=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,
Q=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,X=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,T=/[\x20\t\r\n\f]*[+~]/,ma=/=[\x20\t\r\n\f]*([^\]'"]*)[\x20\t\r\n\f]*\]/g,da=RegExp(Pa),ca=RegExp("^"+U+"$"),aa={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+Ia),PSEUDO:RegExp("^"+Pa),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)",
"i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},ha=/^[^{]+\{\s*\[native \w/,ya=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ea=/^(?:input|select|textarea|button)$/i,ja=/^h\d$/i,ka=/'|\\/g,W=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,
Y=function(a,b,c){a="0x"+b-65536;return a!==a||c?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)};try{qa.apply(Ma=Sa.call(pa.childNodes),pa.childNodes),Ma[pa.childNodes.length].nodeType}catch(oa){qa={apply:Ma.length?function(a,b){Qa.apply(a,Sa.call(b))}:function(a,b){for(var c=a.length,e=0;a[c++]=b[e++];);a.length=c-1}}}K=c.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};u=c.support={};S=c.setDocument=function(a){var b=a?
a.ownerDocument||a:pa;a=b.parentWindow;if(b===ba||9!==b.nodeType||!b.documentElement)return ba;ba=b;M=b.documentElement;H=!K(b);a&&a.frameElement&&a.attachEvent("onbeforeunload",function(){S()});u.attributes=h(function(a){a.innerHTML="<a href='#'></a>";m("type|href|height|width",f,"#"===a.firstChild.getAttribute("href"));m("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",k,null==a.getAttribute("disabled"));a.className="i";
return!a.getAttribute("className")});u.input=h(function(a){a.innerHTML="<input>";a.firstChild.setAttribute("value","");return""===a.firstChild.getAttribute("value")});m("value",r,u.attributes&&u.input);u.getElementsByTagName=h(function(a){a.appendChild(b.createComment(""));return!a.getElementsByTagName("*").length});u.getElementsByClassName=h(function(a){a.innerHTML="<div class='a'></div><div class='a i'></div>";a.firstChild.className="i";return 2===a.getElementsByClassName("i").length});u.getById=
h(function(a){M.appendChild(a).id=D;return!b.getElementsByName||!b.getElementsByName(D).length});u.getById?(B.find.ID=function(a,b){if(typeof b.getElementById!==$&&H){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},B.filter.ID=function(a){var b=a.replace(W,Y);return function(a){return a.getAttribute("id")===b}}):(delete B.find.ID,B.filter.ID=function(a){var b=a.replace(W,Y);return function(a){return(a=typeof a.getAttributeNode!==$&&a.getAttributeNode("id"))&&a.value===b}});B.find.TAG=u.getElementsByTagName?
function(a,b){if(typeof b.getElementsByTagName!==$)return b.getElementsByTagName(a)}:function(a,b){var c,e=[],d=0,g=b.getElementsByTagName(a);if("*"===a){for(;c=g[d++];)1===c.nodeType&&e.push(c);return e}return g};B.find.CLASS=u.getElementsByClassName&&function(a,b){if(typeof b.getElementsByClassName!==$&&H)return b.getElementsByClassName(a)};C=[];R=[];if(u.qsa=e(b.querySelectorAll))h(function(a){a.innerHTML="<select><option selected=''></option></select>";a.querySelectorAll("[selected]").length||
R.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll(":checked").length||R.push(":checked")}),h(function(a){var c=b.createElement("input");c.setAttribute("type","hidden");a.appendChild(c).setAttribute("t","");a.querySelectorAll("[t^='']").length&&R.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll(":enabled").length||R.push(":enabled",":disabled");a.querySelectorAll("*,:x");
R.push(",.*:")});(u.matchesSelector=e(P=M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&h(function(a){u.disconnectedMatch=P.call(a,"div");P.call(a,"[s!='']:x");C.push("!=",Pa)});R=R.length&&RegExp(R.join("|"));C=C.length&&RegExp(C.join("|"));L=e(M.contains)||M.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,e=b&&b.parentNode;return a===e||!!(e&&1===e.nodeType&&(c.contains?c.contains(e):a.compareDocumentPosition&&a.compareDocumentPosition(e)&
16))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};u.sortDetached=h(function(a){return a.compareDocumentPosition(b.createElement("div"))&1});V=M.compareDocumentPosition?function(a,c){if(a===c)return Ta=!0,0;var e=c.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(c);return e?e&1||!u.sortDetached&&c.compareDocumentPosition(a)===e?a===b||L(pa,a)?-1:c===b||L(pa,c)?1:sa?la.call(sa,a)-la.call(sa,c):0:e&4?-1:1:a.compareDocumentPosition?-1:1}:function(a,
c){var e,d=0;e=a.parentNode;var g=c.parentNode,y=[a],h=[c];if(a===c)return Ta=!0,0;if(!e||!g)return a===b?-1:c===b?1:e?-1:g?1:sa?la.call(sa,a)-la.call(sa,c):0;if(e===g)return s(a,c);for(e=a;e=e.parentNode;)y.unshift(e);for(e=c;e=e.parentNode;)h.unshift(e);for(;y[d]===h[d];)d++;return d?s(y[d],h[d]):y[d]===pa?-1:h[d]===pa?1:0};return b};c.matches=function(a,b){return c(a,null,null,b)};c.matchesSelector=function(a,b){(a.ownerDocument||a)!==ba&&S(a);b=b.replace(ma,"='$1']");if(u.matchesSelector&&H&&
!(C&&C.test(b)||R&&R.test(b)))try{var e=P.call(a,b);if(e||u.disconnectedMatch||a.document&&11!==a.document.nodeType)return e}catch(d){}return 0<c(b,ba,null,[a]).length};c.contains=function(a,b){(a.ownerDocument||a)!==ba&&S(a);return L(a,b)};c.attr=function(a,c){(a.ownerDocument||a)!==ba&&S(a);var e=B.attrHandle[c.toLowerCase()],e=e&&Ra.call(B.attrHandle,c.toLowerCase())?e(a,c,!H):b;return e===b?u.attributes||!H?a.getAttribute(c):(e=a.getAttributeNode(c))&&e.specified?e.value:null:e};c.error=function(a){throw Error("Syntax error, unrecognized expression: "+
a);};c.uniqueSort=function(a){var b,c=[],e=0,d=0;Ta=!u.detectDuplicates;sa=!u.sortStable&&a.slice(0);a.sort(V);if(Ta){for(;b=a[d++];)b===a[d]&&(e=c.push(d));for(;e--;)a.splice(c[e],1)}return a};G=c.getText=function(a){var b,c="",e=0;b=a.nodeType;if(!b)for(;b=a[e];e++)c+=G(b);else if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=G(a)}else if(3===b||4===b)return a.nodeValue;return c};B=c.selectors={cacheLength:50,createPseudo:g,
match:aa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(W,Y);a[3]=(a[4]||a[5]||"").replace(W,Y);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||c.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&c.error(a[0]);
return a},PSEUDO:function(a){var c,e=!a[5]&&a[2];if(aa.CHILD.test(a[0]))return null;a[3]&&a[4]!==b?a[2]=a[4]:e&&da.test(e)&&(c=q(e,!0))&&(c=e.indexOf(")",e.length-c)-e.length)&&(a[0]=a[0].slice(0,c),a[2]=e.slice(0,c));return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(W,Y).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=I[a+" "];return b||(b=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&
I(a,function(a){return b.test("string"===typeof a.className&&a.className||typeof a.getAttribute!==$&&a.getAttribute("class")||"")})},ATTR:function(a,b,e){return function(d){d=c.attr(d,a);if(null==d)return"!="===b;if(!b)return!0;d+="";return"="===b?d===e:"!="===b?d!==e:"^="===b?e&&0===d.indexOf(e):"*="===b?e&&-1<d.indexOf(e):"$="===b?e&&d.slice(-e.length)===e:"~="===b?-1<(" "+d+" ").indexOf(e):"|="===b?d===e||d.slice(0,e.length+1)===e+"-":!1}},CHILD:function(a,b,c,e,d){var g="nth"!==a.slice(0,3),y=
"last"!==a.slice(-4),h="of-type"===b;return 1===e&&0===d?function(a){return!!a.parentNode}:function(b,c,m){var l,k,f,r,ia;c=g!==y?"nextSibling":"previousSibling";var s=b.parentNode,dc=h&&b.nodeName.toLowerCase();m=!m&&!h;if(s){if(g){for(;c;){for(k=b;k=k[c];)if(h?k.nodeName.toLowerCase()===dc:1===k.nodeType)return!1;ia=c="only"===a&&!ia&&"nextSibling"}return!0}ia=[y?s.firstChild:s.lastChild];if(y&&m)for(m=s[D]||(s[D]={}),l=m[a]||[],r=l[0]===xa&&l[1],f=l[0]===xa&&l[2],k=r&&s.childNodes[r];k=++r&&k&&
k[c]||(f=r=0)||ia.pop();){if(1===k.nodeType&&++f&&k===b){m[a]=[xa,r,f];break}}else if(m&&(l=(b[D]||(b[D]={}))[a])&&l[0]===xa)f=l[1];else for(;(k=++r&&k&&k[c]||(f=r=0)||ia.pop())&&((h?k.nodeName.toLowerCase()!==dc:1!==k.nodeType)||!++f||(m&&((k[D]||(k[D]={}))[a]=[xa,f]),k!==b)););f-=d;return f===e||0===f%e&&0<=f/e}}},PSEUDO:function(a,b){var e,d=B.pseudos[a]||B.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return d[D]?d(b):1<d.length?(e=[a,a,"",b],B.setFilters.hasOwnProperty(a.toLowerCase())?
g(function(a,c){for(var e,g=d(a,b),y=g.length;y--;)e=la.call(a,g[y]),a[e]=!(c[e]=g[y])}):function(a){return d(a,0,e)}):d}},pseudos:{not:g(function(a){var b=[],c=[],e=fa(a.replace(Ua,"$1"));return e[D]?g(function(a,b,c,d){d=e(a,null,d,[]);for(var g=a.length;g--;)if(c=d[g])a[g]=!(b[g]=c)}):function(a,d,g){b[0]=a;e(b,null,g,c);return!c.pop()}}),has:g(function(a){return function(b){return 0<c(a,b).length}}),contains:g(function(a){return function(b){return-1<(b.textContent||b.innerText||G(b)).indexOf(a)}}),
lang:g(function(a){ca.test(a||"")||c.error("unsupported lang: "+a);a=a.replace(W,Y).toLowerCase();return function(b){var c;do if(c=H?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===M},focus:function(a){return a===ba.activeElement&&(!ba.hasFocus||ba.hasFocus())&&!!(a.type||a.href||
~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if("@"<a.nodeName||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!B.pseudos.empty(a)},header:function(a){return ja.test(a.nodeName)},
input:function(a){return ea.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:t(function(){return[0]}),last:t(function(a,b){return[b-1]}),eq:t(function(a,b,c){return[0>c?c+b:c]}),even:t(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:t(function(a,b){for(var c=1;c<b;c+=
2)a.push(c);return a}),lt:t(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:t(function(a,b,c){for(c=0>c?c+b:c;++c<b;)a.push(c);return a})}};for(N in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})B.pseudos[N]=n(N);for(N in{submit:!0,reset:!0})B.pseudos[N]=p(N);fa=c.compile=function(a,b){var c,e=[],d=[],g=Ca[a+" "];if(!g){b||(b=q(a));for(c=b.length;c--;)g=Z(b[c]),g[D]?e.push(g):d.push(g);g=Ca(a,w(d,e))}return g};B.pseudos.nth=B.pseudos.eq;z.prototype=B.filters=B.pseudos;B.setFilters=
new z;u.sortStable=D.split("").sort(V).join("")===D;S();[0,0].sort(V);u.detectDuplicates=Ta;l.find=c;l.expr=c.selectors;l.expr[":"]=l.expr.pseudos;l.unique=c.uniqueSort;l.text=c.getText;l.isXMLDoc=c.isXML;l.contains=c.contains})(f);var hb={};l.Callbacks=function(b){b="string"===typeof b?hb[b]||a(b):l.extend({},b);var c,e,g,h,m,k,f=[],r=!b.once&&[],s=function(a){e=b.memory&&a;g=!0;m=k||0;k=0;h=f.length;for(c=!0;f&&m<h;m++)if(!1===f[m].apply(a[0],a[1])&&b.stopOnFalse){e=!1;break}c=!1;f&&(r?r.length&&
s(r.shift()):e?f=[]:n.disable())},n={add:function(){if(f){var a=f.length;(function gc(a){l.each(a,function(a,c){var e=l.type(c);"function"===e?b.unique&&n.has(c)||f.push(c):c&&c.length&&"string"!==e&&gc(c)})})(arguments);c?h=f.length:e&&(k=a,s(e))}return this},remove:function(){f&&l.each(arguments,function(a,b){for(var e;-1<(e=l.inArray(b,f,e));)f.splice(e,1),c&&(e<=h&&h--,e<=m&&m--)});return this},has:function(a){return a?-1<l.inArray(a,f):!(!f||!f.length)},empty:function(){f=[];h=0;return this},
disable:function(){f=r=e=d;return this},disabled:function(){return!f},lock:function(){r=d;e||n.disable();return this},locked:function(){return!r},fireWith:function(a,b){!f||g&&!r||(b=b||[],b=[a,b.slice?b.slice():b],c?r.push(b):s(b));return this},fire:function(){n.fireWith(this,arguments);return this},fired:function(){return!!g}};return n};l.extend({Deferred:function(a){var b=[["resolve","done",l.Callbacks("once memory"),"resolved"],["reject","fail",l.Callbacks("once memory"),"rejected"],["notify",
"progress",l.Callbacks("memory")]],c="pending",e={state:function(){return c},always:function(){d.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return l.Deferred(function(c){l.each(b,function(b,g){var y=g[0],h=l.isFunction(a[b])&&a[b];d[g[1]](function(){var a=h&&h.apply(this,arguments);if(a&&l.isFunction(a.promise))a.promise().done(c.resolve).fail(c.reject).progress(c.notify);else c[y+"With"](this===e?c.promise():this,h?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=
a?l.extend(a,e):e}},d={};e.pipe=e.then;l.each(b,function(a,g){var y=g[2],h=g[3];e[g[1]]=y.add;h&&y.add(function(){c=h},b[a^1][2].disable,b[2][2].lock);d[g[0]]=function(){d[g[0]+"With"](this===d?e:this,arguments);return this};d[g[0]+"With"]=y.fireWith});e.promise(d);a&&a.call(d,d);return d},when:function(a){var b=0,c=ua.call(arguments),e=c.length,d=1!==e||a&&l.isFunction(a.promise)?e:0,g=1===d?a:l.Deferred(),h=function(a,b,c){return function(e){b[a]=this;c[a]=1<arguments.length?ua.call(arguments):
e;c===m?g.notifyWith(b,c):--d||g.resolveWith(b,c)}},m,k,f;if(1<e)for(m=Array(e),k=Array(e),f=Array(e);b<e;b++)c[b]&&l.isFunction(c[b].promise)?c[b].promise().done(h(b,f,c)).fail(g.reject).progress(h(b,k,m)):--d;d||g.resolveWith(f,c);return g.promise()}});l.support=function(a){var b,c,e,d,g,h,m=F.createElement("div");m.setAttribute("className","t");m.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";b=m.getElementsByTagName("*")||[];c=m.getElementsByTagName("a")[0];if(!c||
!c.style||!b.length)return a;e=F.createElement("select");d=e.appendChild(F.createElement("option"));b=m.getElementsByTagName("input")[0];c.style.cssText="top:1px;float:left;opacity:.5";a.getSetAttribute="t"!==m.className;a.leadingWhitespace=3===m.firstChild.nodeType;a.tbody=!m.getElementsByTagName("tbody").length;a.htmlSerialize=!!m.getElementsByTagName("link").length;a.style=/top/.test(c.getAttribute("style"));a.hrefNormalized="/a"===c.getAttribute("href");a.opacity=/^0.5/.test(c.style.opacity);
a.cssFloat=!!c.style.cssFloat;a.checkOn=!!b.value;a.optSelected=d.selected;a.enctype=!!F.createElement("form").enctype;a.html5Clone="<:nav></:nav>"!==F.createElement("nav").cloneNode(!0).outerHTML;a.inlineBlockNeedsLayout=!1;a.shrinkWrapBlocks=!1;a.pixelPosition=!1;a.deleteExpando=!0;a.noCloneEvent=!0;a.reliableMarginRight=!0;a.boxSizingReliable=!0;b.checked=!0;a.noCloneChecked=b.cloneNode(!0).checked;e.disabled=!0;a.optDisabled=!d.disabled;try{delete m.test}catch(k){a.deleteExpando=!1}b=F.createElement("input");
b.setAttribute("value","");a.input=""===b.getAttribute("value");b.value="t";b.setAttribute("type","radio");a.radioValue="t"===b.value;b.setAttribute("checked","t");b.setAttribute("name","t");c=F.createDocumentFragment();c.appendChild(b);a.appendChecked=b.checked;a.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked;m.attachEvent&&(m.attachEvent("onclick",function(){a.noCloneEvent=!1}),m.cloneNode(!0).click());for(h in{submit:!0,change:!0,focusin:!0})m.setAttribute(c="on"+h,"t"),a[h+"Bubbles"]=
c in f||!1===m.attributes[c].expando;m.style.backgroundClip="content-box";m.cloneNode(!0).style.backgroundClip="";a.clearCloneStyle="content-box"===m.style.backgroundClip;for(h in l(a))break;a.ownLast="0"!==h;l(function(){var b,c,e=F.getElementsByTagName("body")[0];e&&(b=F.createElement("div"),b.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",e.appendChild(b).appendChild(m),m.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c=m.getElementsByTagName("td"),
c[0].style.cssText="padding:0;margin:0;border:0;display:none",g=0===c[0].offsetHeight,c[0].style.display="",c[1].style.display="none",a.reliableHiddenOffsets=g&&0===c[0].offsetHeight,m.innerHTML="",m.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",l.swap(e,null!=e.style.zoom?{zoom:1}:{},function(){a.boxSizing=4===m.offsetWidth}),f.getComputedStyle&&(a.pixelPosition=
"1%"!==(f.getComputedStyle(m,null)||{}).top,a.boxSizingReliable="4px"===(f.getComputedStyle(m,null)||{width:"4px"}).width,c=m.appendChild(F.createElement("div")),c.style.cssText=m.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",c.style.marginRight=c.style.width="0",m.style.width="1px",a.reliableMarginRight=!parseFloat((f.getComputedStyle(c,null)||{}).marginRight)),typeof m.style.zoom!==V&&(m.innerHTML="",
m.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;width:1px;padding:1px;display:inline;zoom:1",a.inlineBlockNeedsLayout=3===m.offsetWidth,m.style.display="block",m.innerHTML="<div></div>",m.firstChild.style.width="5px",a.shrinkWrapBlocks=3!==m.offsetWidth,a.inlineBlockNeedsLayout&&(e.style.zoom=1)),e.removeChild(b),b=m=c=c=null)});b=e=c=d=c=b=null;return a}({});var Jb=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Ib=/([A-Z])/g;
l.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){a=a.nodeType?l.cache[a[l.expando]]:a[l.expando];return!!a&&!e(a)},data:function(a,c,e){return b(a,c,e)},removeData:function(a,b){return c(a,b)},_data:function(a,c,e){return b(a,c,e,!0)},_removeData:function(a,b){return c(a,b,!0)},acceptData:function(a){if(a.nodeType&&1!==a.nodeType&&9!==a.nodeType)return!1;var b=a.nodeName&&l.noData[a.nodeName.toLowerCase()];return!b||!0!==b&&a.getAttribute("classid")===
b}});l.fn.extend({data:function(a,b){var c,e,h=null,m=0,k=this[0];if(a===d){if(this.length&&(h=l.data(k),1===k.nodeType&&!l._data(k,"parsedAttrs"))){for(c=k.attributes;m<c.length;m++)e=c[m].name,0===e.indexOf("data-")&&(e=l.camelCase(e.slice(5)),g(k,e,h[e]));l._data(k,"parsedAttrs",!0)}return h}return"object"===typeof a?this.each(function(){l.data(this,a)}):1<arguments.length?this.each(function(){l.data(this,a,b)}):k?g(k,a,l.data(k,a)):null},removeData:function(a){return this.each(function(){l.removeData(this,
a)})}});l.extend({queue:function(a,b,c){var e;if(a)return b=(b||"fx")+"queue",e=l._data(a,b),c&&(!e||l.isArray(c)?e=l._data(a,b,l.makeArray(c)):e.push(c)),e||[]},dequeue:function(a,b){b=b||"fx";var c=l.queue(a,b),e=c.length,d=c.shift(),g=l._queueHooks(a,b),h=function(){l.dequeue(a,b)};"inprogress"===d&&(d=c.shift(),e--);d&&("fx"===b&&c.unshift("inprogress"),delete g.stop,d.call(a,h,g));!e&&g&&g.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return l._data(a,c)||l._data(a,c,{empty:l.Callbacks("once memory").add(function(){l._removeData(a,
b+"queue");l._removeData(a,c)})})}});l.fn.extend({queue:function(a,b){var c=2;"string"!==typeof a&&(b=a,a="fx",c--);return arguments.length<c?l.queue(this[0],a):b===d?this:this.each(function(){var c=l.queue(this,a,b);l._queueHooks(this,a);"fx"===a&&"inprogress"!==c[0]&&l.dequeue(this,a)})},dequeue:function(a){return this.each(function(){l.dequeue(this,a)})},delay:function(a,b){a=l.fx?l.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,c){var e=setTimeout(b,a);c.stop=function(){clearTimeout(e)}})},
clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,e=1,g=l.Deferred(),h=this,m=this.length,k=function(){--e||g.resolveWith(h,[h])};"string"!==typeof a&&(b=a,a=d);for(a=a||"fx";m--;)(c=l._data(h[m],a+"queueHooks"))&&c.empty&&(e++,c.empty.add(k));k();return g.promise(b)}});var Ea,lb,X=/[\t\r\n\f]/g,Bb=/\r/g,Pb=/^(?:input|select|textarea|button|object)$/i,Cb=/^(?:a|area)$/i,bb=/^(?:checked|selected)$/i,Ka=l.support.getSetAttribute,cb=l.support.input;l.fn.extend({attr:function(a,
b){return l.access(this,l.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){l.removeAttr(this,a)})},prop:function(a,b){return l.access(this,l.prop,a,b,1<arguments.length)},removeProp:function(a){a=l.propFix[a]||a;return this.each(function(){try{this[a]=d,delete this[a]}catch(b){}})},addClass:function(a){var b,c,e,d,g,h=0,m=this.length;b="string"===typeof a&&a;if(l.isFunction(a))return this.each(function(b){l(this).addClass(a.call(this,b,this.className))});if(b)for(b=
(a||"").match(ya)||[];h<m;h++)if(c=this[h],e=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(X," "):" ")){for(g=0;d=b[g++];)0>e.indexOf(" "+d+" ")&&(e+=d+" ");c.className=l.trim(e)}return this},removeClass:function(a){var b,c,e,d,g,h=0,m=this.length;b=0===arguments.length||"string"===typeof a&&a;if(l.isFunction(a))return this.each(function(b){l(this).removeClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(ya)||[];h<m;h++)if(c=this[h],e=1===c.nodeType&&(c.className?(" "+c.className+
" ").replace(X," "):"")){for(g=0;d=b[g++];)for(;0<=e.indexOf(" "+d+" ");)e=e.replace(" "+d+" "," ");c.className=a?l.trim(e):""}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"===typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):l.isFunction(a)?this.each(function(c){l(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var b,e=0,d=l(this),g=a.match(ya)||[];b=g[e++];)d.hasClass(b)?d.removeClass(b):d.addClass(b);else if(c===
V||"boolean"===c)this.className&&l._data(this,"__className__",this.className),this.className=this.className||!1===a?"":l._data(this,"__className__")||""})},hasClass:function(a){a=" "+a+" ";for(var b=0,c=this.length;b<c;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(X," ").indexOf(a))return!0;return!1},val:function(a){var b,c,e,g=this[0];if(arguments.length)return e=l.isFunction(a),this.each(function(b){1===this.nodeType&&(b=e?a.call(this,b,l(this).val()):a,null==b?b="":"number"===
typeof b?b+="":l.isArray(b)&&(b=l.map(b,function(a){return null==a?"":a+""})),c=l.valHooks[this.type]||l.valHooks[this.nodeName.toLowerCase()],c&&"set"in c&&c.set(this,b,"value")!==d||(this.value=b))});if(g){if((c=l.valHooks[g.type]||l.valHooks[g.nodeName.toLowerCase()])&&"get"in c&&(b=c.get(g,"value"))!==d)return b;b=g.value;return"string"===typeof b?b.replace(Bb,""):null==b?"":b}}});l.extend({valHooks:{option:{get:function(a){var b=l.find.attr(a,"value");return null!=b?b:a.text}},select:{get:function(a){for(var b,
c=a.options,e=a.selectedIndex,d=(a="select-one"===a.type||0>e)?null:[],g=a?e+1:c.length,h=0>e?g:a?e:0;h<g;h++)if(b=c[h],!(!b.selected&&h!==e||(l.support.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&l.nodeName(b.parentNode,"optgroup"))){b=l(b).val();if(a)return b;d.push(b)}return d},set:function(a,b){for(var c,e,d=a.options,g=l.makeArray(b),h=d.length;h--;)if(e=d[h],e.selected=0<=l.inArray(l(e).val(),g))c=!0;c||(a.selectedIndex=-1);return g}}},attr:function(a,b,
c){var e,g,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h){if(typeof a.getAttribute===V)return l.prop(a,b,c);1===h&&l.isXMLDoc(a)||(b=b.toLowerCase(),e=l.attrHooks[b]||(l.expr.match.bool.test(b)?lb:Ea));if(c!==d)if(null===c)l.removeAttr(a,b);else{if(e&&"set"in e&&(g=e.set(a,c,b))!==d)return g;a.setAttribute(b,c+"");return c}else{if(e&&"get"in e&&null!==(g=e.get(a,b)))return g;g=l.find.attr(a,b);return null==g?d:g}}},removeAttr:function(a,b){var c,e,d=0,g=b&&b.match(ya);if(g&&1===a.nodeType)for(;c=g[d++];)e=
l.propFix[c]||c,l.expr.match.bool.test(c)?cb&&Ka||!bb.test(c)?a[e]=!1:a[l.camelCase("default-"+c)]=a[e]=!1:l.attr(a,c,""),a.removeAttribute(Ka?c:e)},attrHooks:{type:{set:function(a,b){if(!l.support.radioValue&&"radio"===b&&l.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b);c&&(a.value=c);return b}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var e,g,h;h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h){if(h=1!==h||!l.isXMLDoc(a))b=l.propFix[b]||b,g=l.propHooks[b];return c!==
d?g&&"set"in g&&(e=g.set(a,c,b))!==d?e:a[b]=c:g&&"get"in g&&null!==(e=g.get(a,b))?e:a[b]}},propHooks:{tabIndex:{get:function(a){var b=l.find.attr(a,"tabindex");return b?parseInt(b,10):Pb.test(a.nodeName)||Cb.test(a.nodeName)&&a.href?0:-1}}}});lb={set:function(a,b,c){!1===b?l.removeAttr(a,c):cb&&Ka||!bb.test(c)?a.setAttribute(!Ka&&l.propFix[c]||c,c):a[l.camelCase("default-"+c)]=a[c]=!0;return c}};l.each(l.expr.match.bool.source.match(/\w+/g),function(a,b){var c=l.expr.attrHandle[b]||l.find.attr;l.expr.attrHandle[b]=
cb&&Ka||!bb.test(b)?function(a,b,e){var g=l.expr.attrHandle[b];a=e?d:(l.expr.attrHandle[b]=d)!=c(a,b,e)?b.toLowerCase():null;l.expr.attrHandle[b]=g;return a}:function(a,b,c){return c?d:a[l.camelCase("default-"+b)]?b.toLowerCase():null}});cb&&Ka||(l.attrHooks.value={set:function(a,b,c){if(l.nodeName(a,"input"))a.defaultValue=b;else return Ea&&Ea.set(a,b,c)}});Ka||(Ea={set:function(a,b,c){var e=a.getAttributeNode(c);e||a.setAttributeNode(e=a.ownerDocument.createAttribute(c));e.value=b+="";return"value"===
c||b===a.getAttribute(c)?b:d}},l.expr.attrHandle.id=l.expr.attrHandle.name=l.expr.attrHandle.coords=function(a,b,c){var e;return c?d:(e=a.getAttributeNode(b))&&""!==e.value?e.value:null},l.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:d},set:Ea.set},l.attrHooks.contenteditable={set:function(a,b,c){Ea.set(a,""===b?!1:b,c)}},l.each(["width","height"],function(a,b){l.attrHooks[b]={set:function(a,c){if(""===c)return a.setAttribute(b,"auto"),c}}}));l.support.hrefNormalized||
l.each(["href","src"],function(a,b){l.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}});l.support.style||(l.attrHooks.style={get:function(a){return a.style.cssText||d},set:function(a,b){return a.style.cssText=b+""}});l.support.optSelected||(l.propHooks.selected={get:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex;return null}});l.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),
function(){l.propFix[this.toLowerCase()]=this});l.support.enctype||(l.propFix.enctype="encoding");l.each(["radio","checkbox"],function(){l.valHooks[this]={set:function(a,b){if(l.isArray(b))return a.checked=0<=l.inArray(l(a).val(),b)}};l.support.checkOn||(l.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var mb=/^(?:input|select|textarea)$/i,Db=/^key/,Qb=/^(?:mouse|contextmenu)|click/,nb=/^(?:focusinfocus|focusoutblur)$/,Eb=/^([^.]*)(?:\.(.+)|)$/;l.event={global:{},
add:function(a,b,c,e,g){var h,m,k,f,r,s,n,t,p;if(k=l._data(a)){c.handler&&(f=c,c=f.handler,g=f.selector);c.guid||(c.guid=l.guid++);(m=k.events)||(m=k.events={});(r=k.handle)||(r=k.handle=function(a){return typeof l===V||a&&l.event.triggered===a.type?d:l.event.dispatch.apply(r.elem,arguments)},r.elem=a);b=(b||"").match(ya)||[""];for(k=b.length;k--;)h=Eb.exec(b[k])||[],t=s=h[1],p=(h[2]||"").split(".").sort(),t&&(h=l.event.special[t]||{},t=(g?h.delegateType:h.bindType)||t,h=l.event.special[t]||{},s=
l.extend({type:t,origType:s,data:e,handler:c,guid:c.guid,selector:g,needsContext:g&&l.expr.match.needsContext.test(g),namespace:p.join(".")},f),(n=m[t])||(n=m[t]=[],n.delegateCount=0,h.setup&&!1!==h.setup.call(a,e,p,r)||(a.addEventListener?a.addEventListener(t,r,!1):a.attachEvent&&a.attachEvent("on"+t,r))),h.add&&(h.add.call(a,s),s.handler.guid||(s.handler.guid=c.guid)),g?n.splice(n.delegateCount++,0,s):n.push(s),l.event.global[t]=!0);a=null}},remove:function(a,b,c,e,d){var g,h,m,k,f,r,s,n,t,p,q,
O=l.hasData(a)&&l._data(a);if(O&&(r=O.events)){b=(b||"").match(ya)||[""];for(f=b.length;f--;)if(m=Eb.exec(b[f])||[],t=q=m[1],p=(m[2]||"").split(".").sort(),t){s=l.event.special[t]||{};t=(e?s.delegateType:s.bindType)||t;n=r[t]||[];m=m[2]&&RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)");for(k=g=n.length;g--;)h=n[g],!d&&q!==h.origType||c&&c.guid!==h.guid||m&&!m.test(h.namespace)||e&&!(e===h.selector||"**"===e&&h.selector)||(n.splice(g,1),h.selector&&n.delegateCount--,s.remove&&s.remove.call(a,h));
k&&!n.length&&(s.teardown&&!1!==s.teardown.call(a,p,O.handle)||l.removeEvent(a,t,O.handle),delete r[t])}else for(t in r)l.event.remove(a,t+b[f],c,e,!0);l.isEmptyObject(r)&&(delete O.handle,l._removeData(a,"events"))}},trigger:function(a,b,c,e){var g,h,m,k,r,s,n=[c||F],t=Sa.call(a,"type")?a.type:a;r=Sa.call(a,"namespace")?a.namespace.split("."):[];m=g=c=c||F;if(3!==c.nodeType&&8!==c.nodeType&&!nb.test(t+l.event.triggered)&&(0<=t.indexOf(".")&&(r=t.split("."),t=r.shift(),r.sort()),h=0>t.indexOf(":")&&
"on"+t,a=a[l.expando]?a:new l.Event(t,"object"===typeof a&&a),a.isTrigger=e?2:3,a.namespace=r.join("."),a.namespace_re=a.namespace?RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=d,a.target||(a.target=c),b=null==b?[a]:l.makeArray(b,[a]),r=l.event.special[t]||{},e||!r.trigger||!1!==r.trigger.apply(c,b))){if(!e&&!r.noBubble&&!l.isWindow(c)){k=r.delegateType||t;nb.test(k+t)||(m=m.parentNode);for(;m;m=m.parentNode)n.push(m),g=m;g===(c.ownerDocument||F)&&n.push(g.defaultView||g.parentWindow||
f)}for(s=0;(m=n[s++])&&!a.isPropagationStopped();)a.type=1<s?k:r.bindType||t,(g=(l._data(m,"events")||{})[a.type]&&l._data(m,"handle"))&&g.apply(m,b),(g=h&&m[h])&&l.acceptData(m)&&g.apply&&!1===g.apply(m,b)&&a.preventDefault();a.type=t;if(!(e||a.isDefaultPrevented()||r._default&&!1!==r._default.apply(n.pop(),b))&&l.acceptData(c)&&h&&c[t]&&!l.isWindow(c)){(g=c[h])&&(c[h]=null);l.event.triggered=t;try{c[t]()}catch(p){}l.event.triggered=d;g&&(c[h]=g)}return a.result}},dispatch:function(a){a=l.event.fix(a);
var b,c,e,g,h=[],m=ua.call(arguments);b=(l._data(this,"events")||{})[a.type]||[];var k=l.event.special[a.type]||{};m[0]=a;a.delegateTarget=this;if(!k.preDispatch||!1!==k.preDispatch.call(this,a)){h=l.event.handlers.call(this,a,b);for(b=0;(e=h[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,g=0;(c=e.handlers[g++])&&!a.isImmediatePropagationStopped();)if(!a.namespace_re||a.namespace_re.test(c.namespace))a.handleObj=c,a.data=c.data,c=((l.event.special[c.origType]||{}).handle||c.handler).apply(e.elem,
m),c!==d&&!1===(a.result=c)&&(a.preventDefault(),a.stopPropagation());k.postDispatch&&k.postDispatch.call(this,a);return a.result}},handlers:function(a,b){var c,e,g,h,m=[],k=b.delegateCount,f=a.target;if(k&&f.nodeType&&(!a.button||"click"!==a.type))for(;f!=this;f=f.parentNode||this)if(1===f.nodeType&&(!0!==f.disabled||"click"!==a.type)){g=[];for(h=0;h<k;h++)e=b[h],c=e.selector+" ",g[c]===d&&(g[c]=e.needsContext?0<=l(c,this).index(f):l.find(c,this,null,[f]).length),g[c]&&g.push(e);g.length&&m.push({elem:f,
handlers:g})}k<b.length&&m.push({elem:this,handlers:b.slice(k)});return m},fix:function(a){if(a[l.expando])return a;var b,c,e;b=a.type;var d=a,g=this.fixHooks[b];g||(this.fixHooks[b]=g=Qb.test(b)?this.mouseHooks:Db.test(b)?this.keyHooks:{});e=g.props?this.props.concat(g.props):this.props;a=new l.Event(d);for(b=e.length;b--;)c=e[b],a[c]=d[c];a.target||(a.target=d.srcElement||F);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey=!!a.metaKey;return g.filter?g.filter(a,d):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,g=b.button,h=b.fromElement;null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||F,e=c.documentElement,c=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||
c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0));!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?b.toElement:h);a.which||g===d||(a.which=g&1?1:g&2?3:g&4?2:0);return a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==r()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){if(this===r()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(l.nodeName(this,
"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(a){return l.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){a.result!==d&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,e){a=l.extend(new l.Event,c,{type:a,isSimulated:!0,originalEvent:{}});e?l.event.trigger(a,null,b):l.event.dispatch.call(b,a);a.isDefaultPrevented()&&c.preventDefault()}};l.removeEvent=F.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,
c,!1)}:function(a,b,c){b="on"+b;a.detachEvent&&(typeof a[b]===V&&(a[b]=null),a.detachEvent(b,c))};l.Event=function(a,b){if(!(this instanceof l.Event))return new l.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?h:m):this.type=a;b&&l.extend(this,b);this.timeStamp=a&&a.timeStamp||l.now();this[l.expando]=!0};l.Event.prototype={isDefaultPrevented:m,isPropagationStopped:m,isImmediatePropagationStopped:m,
preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=h;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=h;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=h;this.stopPropagation()}};l.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){l.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,
e=a.relatedTarget,d=a.handleObj;if(!e||e!==this&&!l.contains(this,e))a.type=d.origType,c=d.handler.apply(this,arguments),a.type=b;return c}}});l.support.submitBubbles||(l.event.special.submit={setup:function(){if(l.nodeName(this,"form"))return!1;l.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=l.nodeName(a,"input")||l.nodeName(a,"button")?a.form:d)&&!l._data(a,"submitBubbles")&&(l.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),l._data(a,"submitBubbles",!0))})},
postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&l.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(l.nodeName(this,"form"))return!1;l.event.remove(this,"._submit")}});l.support.changeBubbles||(l.event.special.change={setup:function(){if(mb.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)l.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),
l.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);l.event.simulate("change",this,a,!0)});return!1}l.event.add(this,"beforeactivate._change",function(a){a=a.target;mb.test(a.nodeName)&&!l._data(a,"changeBubbles")&&(l.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||l.event.simulate("change",this.parentNode,a,!0)}),l._data(a,"changeBubbles",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||
a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){l.event.remove(this,"._change");return!mb.test(this.nodeName)}});l.support.focusinBubbles||l.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,e=function(a){l.event.simulate(b,a.target,l.event.fix(a),!0)};l.event.special[b]={setup:function(){0===c++&&F.addEventListener(a,e,!0)},teardown:function(){0===--c&&F.removeEventListener(a,e,!0)}}});l.fn.extend({on:function(a,
b,c,e,g){var h,k;if("object"===typeof a){"string"!==typeof b&&(c=c||b,b=d);for(h in a)this.on(h,b,c,a[h],g);return this}null==c&&null==e?(e=b,c=b=d):null==e&&("string"===typeof b?(e=c,c=d):(e=c,c=b,b=d));if(!1===e)e=m;else if(!e)return this;1===g&&(k=e,e=function(a){l().off(a);return k.apply(this,arguments)},e.guid=k.guid||(k.guid=l.guid++));return this.each(function(){l.event.add(this,a,e,c,b)})},one:function(a,b,c,e){return this.on(a,b,c,e,1)},off:function(a,b,c){var e;if(a&&a.preventDefault&&a.handleObj)return e=
a.handleObj,l(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"===typeof a){for(e in a)this.off(e,b,a[e]);return this}if(!1===b||"function"===typeof b)c=b,b=d;!1===c&&(c=m);return this.each(function(){l.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){l.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return l.event.trigger(a,b,c,!0)}});var Kb=/^.[^:#\[\.,]*$/,Rb=/^(?:parents|prev(?:Until|All))/,
ob=l.expr.match.needsContext,Sb={children:!0,contents:!0,next:!0,prev:!0};l.fn.extend({find:function(a){var b,c=[],e=this,d=e.length;if("string"!==typeof a)return this.pushStack(l(a).filter(function(){for(b=0;b<d;b++)if(l.contains(e[b],this))return!0}));for(b=0;b<d;b++)l.find(a,e[b],c);c=this.pushStack(1<d?l.unique(c):c);c.selector=this.selector?this.selector+" "+a:a;return c},has:function(a){var b,c=l(a,this),e=c.length;return this.filter(function(){for(b=0;b<e;b++)if(l.contains(this,c[b]))return!0})},
not:function(a){return this.pushStack(p(this,a||[],!0))},filter:function(a){return this.pushStack(p(this,a||[],!1))},is:function(a){return!!p(this,"string"===typeof a&&ob.test(a)?l(a):a||[],!1).length},closest:function(a,b){for(var c,e=0,d=this.length,g=[],h=ob.test(a)||"string"!==typeof a?l(a,b||this.context):0;e<d;e++)for(c=this[e];c&&c!==b;c=c.parentNode)if(11>c.nodeType&&(h?-1<h.index(c):1===c.nodeType&&l.find.matchesSelector(c,a))){g.push(c);break}return this.pushStack(1<g.length?l.unique(g):
g)},index:function(a){return a?"string"===typeof a?l.inArray(this[0],l(a)):l.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){var c="string"===typeof a?l(a,b):l.makeArray(a&&a.nodeType?[a]:a),c=l.merge(this.get(),c);return this.pushStack(l.unique(c))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});l.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return l.dir(a,
"parentNode")},parentsUntil:function(a,b,c){return l.dir(a,"parentNode",c)},next:function(a){return n(a,"nextSibling")},prev:function(a){return n(a,"previousSibling")},nextAll:function(a){return l.dir(a,"nextSibling")},prevAll:function(a){return l.dir(a,"previousSibling")},nextUntil:function(a,b,c){return l.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return l.dir(a,"previousSibling",c)},siblings:function(a){return l.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return l.sibling(a.firstChild)},
contents:function(a){return l.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:l.merge([],a.childNodes)}},function(a,b){l.fn[a]=function(c,e){var d=l.map(this,b,c);"Until"!==a.slice(-5)&&(e=c);e&&"string"===typeof e&&(d=l.filter(e,d));1<this.length&&(Sb[a]||(d=l.unique(d)),Rb.test(a)&&(d=d.reverse()));return this.pushStack(d)}});l.extend({filter:function(a,b,c){var e=b[0];c&&(a=":not("+a+")");return 1===b.length&&1===e.nodeType?l.find.matchesSelector(e,a)?[e]:[]:l.find.matches(a,l.grep(b,
function(a){return 1===a.nodeType}))},dir:function(a,b,c){var e=[];for(a=a[b];a&&9!==a.nodeType&&(c===d||1!==a.nodeType||!l(a).is(c));)1===a.nodeType&&e.push(a),a=a[b];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var wb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Fb=/ jQuery\d+="(?:null|\d+)"/g,Gb=RegExp("<(?:"+wb+")[\\s/>]",
"i"),pb=/^\s+/,ha=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Wa=/<([\w:]+)/,db=/<tbody/i,Hb=/<|&#?\w+;/,va=/<(?:script|style|link)/i,xb=/^(?:checkbox|radio)$/i,eb=/checked\s*(?:[^=]|=\s*.checked.)/i,qb=/^$|\/(?:java|ecma)script/i,Aa=/^true\/(.*)/,$b=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Q={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],
tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:l.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},fb=q(F).appendChild(F.createElement("div"));Q.optgroup=Q.option;Q.tbody=Q.tfoot=Q.colgroup=Q.caption=Q.thead;Q.th=Q.td;l.fn.extend({text:function(a){return l.access(this,function(a){return a===d?l.text(this):this.empty().append((this[0]&&this[0].ownerDocument||F).createTextNode(a))},
null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||w(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=w(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,
function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,e=a?l.filter(a,this):this,d=0;null!=(c=e[d]);d++)b||1!==c.nodeType||l.cleanData(t(c)),c.parentNode&&(b&&l.contains(c.ownerDocument,c)&&s(t(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&l.cleanData(t(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&l.nodeName(a,"select")&&(a.options.length=0)}return this},
clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return l.clone(this,a,b)})},html:function(a){return l.access(this,function(a){var b=this[0]||{},c=0,e=this.length;if(a===d)return 1===b.nodeType?b.innerHTML.replace(Fb,""):d;if("string"===typeof a&&!(va.test(a)||!l.support.htmlSerialize&&Gb.test(a)||!l.support.leadingWhitespace&&pb.test(a)||Q[(Wa.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(ha,"<$1></$2>");try{for(;c<e;c++)b=this[c]||{},1===b.nodeType&&(l.cleanData(t(b,
!1)),b.innerHTML=a);b=0}catch(g){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=l.map(this,function(a){return[a.nextSibling,a.parentNode]}),b=0;this.domManip(arguments,function(c){var e=a[b++],d=a[b++];d&&(e&&e.parentNode!==d&&(e=this.nextSibling),l(this).remove(),d.insertBefore(c,e))},!0);return b?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,c){a=ea.apply([],a);var e,d,g,h,m=0,k=this.length,f=this,r=k-1,s=a[0],n=l.isFunction(s);
if(n||!(1>=k||"string"!==typeof s||l.support.checkClone)&&eb.test(s))return this.each(function(e){var d=f.eq(e);n&&(a[0]=s.call(this,e,d.html()));d.domManip(a,b,c)});if(k&&(h=l.buildFragment(a,this[0].ownerDocument,!1,!c&&this),e=h.firstChild,1===h.childNodes.length&&(h=e),e)){g=l.map(t(h,"script"),u);for(d=g.length;m<k;m++)e=h,m!==r&&(e=l.clone(e,!0,!0),d&&l.merge(g,t(e,"script"))),b.call(this[m],e,m);if(d)for(h=g[g.length-1].ownerDocument,l.map(g,v),m=0;m<d;m++)e=g[m],qb.test(e.type||"")&&!l._data(e,
"globalEval")&&l.contains(h,e)&&(e.src?l._evalUrl(e.src):l.globalEval((e.text||e.textContent||e.innerHTML||"").replace($b,"")));h=e=null}return this}});l.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){l.fn[a]=function(a){for(var c=0,e=[],d=l(a),g=d.length-1;c<=g;c++)a=c===g?this:this.clone(!0),l(d[c])[b](a),yb.apply(e,a.get());return this.pushStack(e)}});l.extend({clone:function(a,b,c){var e,d,g,h,m,k=l.contains(a.ownerDocument,
a);l.support.html5Clone||l.isXMLDoc(a)||!Gb.test("<"+a.nodeName+">")?g=a.cloneNode(!0):(fb.innerHTML=a.outerHTML,fb.removeChild(g=fb.firstChild));if(!(l.support.noCloneEvent&&l.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||l.isXMLDoc(a)))for(e=t(g),m=t(a),h=0;null!=(d=m[h]);++h)if(e[h]){var f=e[h],r=void 0,n=void 0,p=void 0;if(1===f.nodeType){r=f.nodeName.toLowerCase();if(!l.support.noCloneEvent&&f[l.expando]){p=l._data(f);for(n in p.events)l.removeEvent(f,n,p.handle);f.removeAttribute(l.expando)}if("script"===
r&&f.text!==d.text)u(f).text=d.text,v(f);else if("object"===r)f.parentNode&&(f.outerHTML=d.outerHTML),l.support.html5Clone&&d.innerHTML&&!l.trim(f.innerHTML)&&(f.innerHTML=d.innerHTML);else if("input"===r&&xb.test(d.type))f.defaultChecked=f.checked=d.checked,f.value!==d.value&&(f.value=d.value);else if("option"===r)f.defaultSelected=f.selected=d.defaultSelected;else if("input"===r||"textarea"===r)f.defaultValue=d.defaultValue}}if(b)if(c)for(m=m||t(a),e=e||t(g),h=0;null!=(d=m[h]);h++)x(d,e[h]);else x(a,
g);e=t(g,"script");0<e.length&&s(e,!k&&t(a,"script"));return g},buildFragment:function(a,b,c,e){for(var d,g,h,m,k,f,r=a.length,n=q(b),p=[],O=0;O<r;O++)if((g=a[O])||0===g)if("object"===l.type(g))l.merge(p,g.nodeType?[g]:g);else if(Hb.test(g)){h=h||n.appendChild(b.createElement("div"));m=(Wa.exec(g)||["",""])[1].toLowerCase();f=Q[m]||Q._default;h.innerHTML=f[1]+g.replace(ha,"<$1></$2>")+f[2];for(d=f[0];d--;)h=h.lastChild;!l.support.leadingWhitespace&&pb.test(g)&&p.push(b.createTextNode(pb.exec(g)[0]));
if(!l.support.tbody)for(d=(g="table"!==m||db.test(g)?"<table>"!==f[1]||db.test(g)?0:h:h.firstChild)&&g.childNodes.length;d--;)l.nodeName(k=g.childNodes[d],"tbody")&&!k.childNodes.length&&g.removeChild(k);l.merge(p,h.childNodes);for(h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=n.lastChild}else p.push(b.createTextNode(g));h&&n.removeChild(h);l.support.appendChecked||l.grep(t(p,"input"),E);for(O=0;g=p[O++];)if(!e||-1===l.inArray(g,e))if(a=l.contains(g.ownerDocument,g),h=t(n.appendChild(g),
"script"),a&&s(h),c)for(d=0;g=h[d++];)qb.test(g.type||"")&&c.push(g);return n},cleanData:function(a,b){for(var c,e,d,g,h=0,m=l.expando,k=l.cache,f=l.support.deleteExpando,r=l.event.special;null!=(c=a[h]);h++)if(b||l.acceptData(c))if(g=(d=c[m])&&k[d]){if(g.events)for(e in g.events)r[e]?l.event.remove(c,e):l.removeEvent(c,e,g.handle);k[d]&&(delete k[d],f?delete c[m]:typeof c.removeAttribute!==V?c.removeAttribute(m):c[m]=null,za.push(d))}},_evalUrl:function(a){return l.ajax({url:a,type:"GET",dataType:"script",
async:!1,global:!1,"throws":!0})}});l.fn.extend({wrapAll:function(a){if(l.isFunction(a))return this.each(function(b){l(this).wrapAll(a.call(this,b))});if(this[0]){var b=l(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return l.isFunction(a)?this.each(function(b){l(this).wrapInner(a.call(this,b))}):this.each(function(){var b=
l(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=l.isFunction(a);return this.each(function(c){l(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){l.nodeName(this,"body")||l(this).replaceWith(this.childNodes)}).end()}});var ab,ka,Na,Xa=/alpha\([^)]*\)/i,Ya=/opacity\s*=\s*([^)]*)/,Tb=/^(top|right|bottom|left)$/,ac=/^(none|table(?!-c[ea]).+)/,Za=/^margin/,aa=RegExp("^("+Lb+")(.*)$","i"),Oa=RegExp("^("+Lb+")(?!px)[a-z%]+$","i"),
rb=RegExp("^([+-])=("+Lb+")","i"),$a={BODY:"block"},ja={position:"absolute",visibility:"hidden",display:"block"},Fa={letterSpacing:0,fontWeight:400},Ba=["Top","Right","Bottom","Left"],jb=["Webkit","O","Moz","ms"];l.fn.extend({css:function(a,b){return l.access(this,function(a,b,c){var e,g={},h=0;if(l.isArray(b)){e=ka(a);for(c=b.length;h<c;h++)g[b[h]]=l.css(a,b[h],!1,e);return g}return c!==d?l.style(a,b,c):l.css(a,b)},a,b,1<arguments.length)},show:function(){return G(this,!0)},hide:function(){return G(this)},
toggle:function(a){return"boolean"===typeof a?a?this.show():this.hide():this.each(function(){A(this)?l(this).show():l(this).hide()})}});l.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Na(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":l.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var g,
h,m,k=l.camelCase(b),f=a.style;b=l.cssProps[k]||(l.cssProps[k]=z(f,k));m=l.cssHooks[b]||l.cssHooks[k];if(c!==d){if(h=typeof c,"string"===h&&(g=rb.exec(c))&&(c=(g[1]+1)*g[2]+parseFloat(l.css(a,b)),h="number"),!(null==c||"number"===h&&isNaN(c)||("number"!==h||l.cssNumber[k]||(c+="px"),l.support.clearCloneStyle||""!==c||0!==b.indexOf("background")||(f[b]="inherit"),m&&"set"in m&&(c=m.set(a,c,e))===d)))try{f[b]=c}catch(r){}}else return m&&"get"in m&&(g=m.get(a,!1,e))!==d?g:f[b]}},css:function(a,b,c,e){var g,
h;h=l.camelCase(b);b=l.cssProps[h]||(l.cssProps[h]=z(a.style,h));(h=l.cssHooks[b]||l.cssHooks[h])&&"get"in h&&(g=h.get(a,!0,c));g===d&&(g=Na(a,b,e));"normal"===g&&b in Fa&&(g=Fa[b]);return""===c||c?(a=parseFloat(g),!0===c||l.isNumeric(a)?a||0:g):g}});f.getComputedStyle?(ka=function(a){return f.getComputedStyle(a,null)},Na=function(a,b,c){var e,g=(c=c||ka(a))?c.getPropertyValue(b)||c[b]:d,h=a.style;c&&(""!==g||l.contains(a.ownerDocument,a)||(g=l.style(a,b)),Oa.test(g)&&Za.test(b)&&(a=h.width,b=h.minWidth,
e=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=a,h.minWidth=b,h.maxWidth=e));return g}):F.documentElement.currentStyle&&(ka=function(a){return a.currentStyle},Na=function(a,b,c){var e,g,h=(c=c||ka(a))?c[b]:d,m=a.style;null==h&&m&&m[b]&&(h=m[b]);if(Oa.test(h)&&!Tb.test(b)){c=m.left;if(g=(e=a.runtimeStyle)&&e.left)e.left=a.currentStyle.left;m.left="fontSize"===b?"1em":h;h=m.pixelLeft+"px";m.left=c;g&&(e.left=g)}return""===h?"auto":h});l.each(["height","width"],function(a,b){l.cssHooks[b]=
{get:function(a,c,e){if(c)return 0===a.offsetWidth&&ac.test(l.css(a,"display"))?l.swap(a,ja,function(){return D(a,b,e)}):D(a,b,e)},set:function(a,c,e){var d=e&&ka(a);return L(a,c,e?H(a,b,e,l.support.boxSizing&&"border-box"===l.css(a,"boxSizing",!1,d),d):0)}}});l.support.opacity||(l.cssHooks.opacity={get:function(a,b){return Ya.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,e=a.currentStyle,d=l.isNumeric(b)?
"alpha(opacity="+100*b+")":"",g=e&&e.filter||c.filter||"";c.zoom=1;if((1<=b||""===b)&&""===l.trim(g.replace(Xa,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||e&&!e.filter))return;c.filter=Xa.test(g)?g.replace(Xa,d):g+" "+d}});l(function(){l.support.reliableMarginRight||(l.cssHooks.marginRight={get:function(a,b){if(b)return l.swap(a,{display:"inline-block"},Na,[a,"marginRight"])}});!l.support.pixelPosition&&l.fn.position&&l.each(["top","left"],function(a,b){l.cssHooks[b]={get:function(a,
c){if(c)return c=Na(a,b),Oa.test(c)?l(a).position()[b]+"px":c}}})});l.expr&&l.expr.filters&&(l.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!l.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||l.css(a,"display"))},l.expr.filters.visible=function(a){return!l.expr.filters.hidden(a)});l.each({margin:"",padding:"",border:"Width"},function(a,b){l.cssHooks[a+b]={expand:function(c){var e=0,d={};for(c="string"===typeof c?c.split(" "):[c];4>e;e++)d[a+Ba[e]+b]=
c[e]||c[e-2]||c[0];return d}};Za.test(a)||(l.cssHooks[a+b].set=L)});var bc=/%20/g,Yb=/\[\]$/,gb=/\r?\n/g,wa=/^(?:submit|button|image|reset|file)$/i,sb=/^(?:input|select|textarea|keygen)/i;l.fn.extend({serialize:function(){return l.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=l.prop(this,"elements");return a?l.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!l(this).is(":disabled")&&sb.test(this.nodeName)&&!wa.test(a)&&(this.checked||
!xb.test(a))}).map(function(a,b){var c=l(this).val();return null==c?null:l.isArray(c)?l.map(c,function(a){return{name:b.name,value:a.replace(gb,"\r\n")}}):{name:b.name,value:c.replace(gb,"\r\n")}}).get()}});l.param=function(a,b){var c,e=[],g=function(a,b){b=l.isFunction(b)?b():null==b?"":b;e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};b===d&&(b=l.ajaxSettings&&l.ajaxSettings.traditional);if(l.isArray(a)||a.jquery&&!l.isPlainObject(a))l.each(a,function(){g(this.name,this.value)});else for(c in a)B(c,
a[c],b,g);return e.join("&").replace(bc,"+")};l.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){l.fn[b]=function(a,c){return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)}});l.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,
b){return this.off(a,null,b)},delegate:function(a,b,c,e){return this.on(b,a,c,e)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Ga,Ha,ca=l.now(),oa=/\?/,Ub=/#.*$/,Y=/([?&])_=[^&]*/,ra=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Vb=/^(?:GET|HEAD)$/,cc=/^\/\//,tb=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,ub=l.fn.load,La={},T={},vb="*/".concat("*");try{Ha=Ia.href}catch(Wb){Ha=F.createElement("a"),Ha.href="",Ha=Ha.href}Ga=tb.exec(Ha.toLowerCase())||[];l.fn.load=
function(a,b,c){if("string"!==typeof a&&ub)return ub.apply(this,arguments);var e,g,h,m=this,k=a.indexOf(" ");0<=k&&(e=a.slice(k,a.length),a=a.slice(0,k));l.isFunction(b)?(c=b,b=d):b&&"object"===typeof b&&(h="POST");0<m.length&&l.ajax({url:a,type:h,dataType:"html",data:b}).done(function(a){g=arguments;m.html(e?l("<div>").append(l.parseHTML(a)).find(e):a)}).complete(c&&function(a,b){m.each(c,g||[a.responseText,b,a])});return this};l.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),
function(a,b){l.fn[b]=function(a){return this.on(b,a)}});l.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ha,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ga[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":vb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",
text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":l.parseJSON,"text xml":l.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?M(M(a,l.ajaxSettings),b):M(l.ajaxSettings,a)},ajaxPrefilter:S(La),ajaxTransport:S(T),ajax:function(a,b){function c(a,b,e,g){var s,ga,v,y;y=b;if(2!==E){E=2;k&&clearTimeout(k);r=d;m=g||"";u.readyState=0<a?4:0;g=200<=a&&300>a||304===a;if(e){v=n;for(var Z=u,B,w,z,N,na=v.contents,G=v.dataTypes;"*"===G[0];)G.shift(),
w===d&&(w=v.mimeType||Z.getResponseHeader("Content-Type"));if(w)for(N in na)if(na[N]&&na[N].test(w)){G.unshift(N);break}if(G[0]in e)z=G[0];else{for(N in e){if(!G[0]||v.converters[N+" "+G[0]]){z=N;break}B||(B=N)}z=z||B}z?(z!==G[0]&&G.unshift(z),v=e[z]):v=void 0}a:{e=n;B=v;w=u;z=g;var K,fa,A,Z={},na=e.dataTypes.slice();if(na[1])for(fa in e.converters)Z[fa.toLowerCase()]=e.converters[fa];for(N=na.shift();N;)if(e.responseFields[N]&&(w[e.responseFields[N]]=B),!A&&z&&e.dataFilter&&(B=e.dataFilter(B,e.dataType)),
A=N,N=na.shift())if("*"===N)N=A;else if("*"!==A&&A!==N){fa=Z[A+" "+N]||Z["* "+N];if(!fa)for(K in Z)if(v=K.split(" "),v[1]===N&&(fa=Z[A+" "+v[0]]||Z["* "+v[0]])){!0===fa?fa=Z[K]:!0!==Z[K]&&(N=v[0],na.unshift(v[1]));break}if(!0!==fa)if(fa&&e["throws"])B=fa(B);else try{B=fa(B)}catch(sa){v={state:"parsererror",error:fa?sa:"No conversion from "+A+" to "+N};break a}}v={state:"success",data:B}}if(g)n.ifModified&&((y=u.getResponseHeader("Last-Modified"))&&(l.lastModified[h]=y),(y=u.getResponseHeader("etag"))&&
(l.etag[h]=y)),204===a||"HEAD"===n.type?y="nocontent":304===a?y="notmodified":(y=v.state,s=v.data,ga=v.error,g=!ga);else if(ga=y,a||!y)y="error",0>a&&(a=0);u.status=a;u.statusText=(b||y)+"";g?O.resolveWith(t,[s,y,u]):O.rejectWith(t,[u,y,ga]);u.statusCode(x);x=d;f&&p.trigger(g?"ajaxSuccess":"ajaxError",[u,n,g?s:ga]);q.fireWith(t,[u,y]);f&&(p.trigger("ajaxComplete",[u,n]),--l.active||l.event.trigger("ajaxStop"))}}"object"===typeof a&&(b=a,a=d);b=b||{};var e,g,h,m,k,f,r,s,n=l.ajaxSetup({},b),t=n.context||
n,p=n.context&&(t.nodeType||t.jquery)?l(t):l.event,O=l.Deferred(),q=l.Callbacks("once memory"),x=n.statusCode||{},ga={},v={},E=0,Z="canceled",u={readyState:0,getResponseHeader:function(a){var b;if(2===E){if(!s)for(s={};b=ra.exec(m);)s[b[1].toLowerCase()]=b[2];b=s[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===E?m:null},setRequestHeader:function(a,b){var c=a.toLowerCase();E||(a=v[c]=v[c]||a,ga[a]=b);return this},overrideMimeType:function(a){E||(n.mimeType=a);return this},
statusCode:function(a){var b;if(a)if(2>E)for(b in a)x[b]=[x[b],a[b]];else u.always(a[u.status]);return this},abort:function(a){a=a||Z;r&&r.abort(a);c(0,a);return this}};O.promise(u).complete=q.add;u.success=u.done;u.error=u.fail;n.url=((a||n.url||Ha)+"").replace(Ub,"").replace(cc,Ga[1]+"//");n.type=b.method||b.type||n.method||n.type;n.dataTypes=l.trim(n.dataType||"*").toLowerCase().match(ya)||[""];null==n.crossDomain&&(e=tb.exec(n.url.toLowerCase()),n.crossDomain=!(!e||e[1]===Ga[1]&&e[2]===Ga[2]&&
(e[3]||("http:"===e[1]?"80":"443"))===(Ga[3]||("http:"===Ga[1]?"80":"443"))));n.data&&n.processData&&"string"!==typeof n.data&&(n.data=l.param(n.data,n.traditional));K(La,n,b,u);if(2===E)return u;(f=n.global)&&0===l.active++&&l.event.trigger("ajaxStart");n.type=n.type.toUpperCase();n.hasContent=!Vb.test(n.type);h=n.url;n.hasContent||(n.data&&(h=n.url+=(oa.test(h)?"&":"?")+n.data,delete n.data),!1===n.cache&&(n.url=Y.test(h)?h.replace(Y,"$1_="+ca++):h+(oa.test(h)?"&":"?")+"_="+ca++));n.ifModified&&
(l.lastModified[h]&&u.setRequestHeader("If-Modified-Since",l.lastModified[h]),l.etag[h]&&u.setRequestHeader("If-None-Match",l.etag[h]));(n.data&&n.hasContent&&!1!==n.contentType||b.contentType)&&u.setRequestHeader("Content-Type",n.contentType);u.setRequestHeader("Accept",n.dataTypes[0]&&n.accepts[n.dataTypes[0]]?n.accepts[n.dataTypes[0]]+("*"!==n.dataTypes[0]?", "+vb+"; q=0.01":""):n.accepts["*"]);for(g in n.headers)u.setRequestHeader(g,n.headers[g]);if(n.beforeSend&&(!1===n.beforeSend.call(t,u,n)||
2===E))return u.abort();Z="abort";for(g in{success:1,error:1,complete:1})u[g](n[g]);if(r=K(T,n,b,u)){u.readyState=1;f&&p.trigger("ajaxSend",[u,n]);n.async&&0<n.timeout&&(k=setTimeout(function(){u.abort("timeout")},n.timeout));try{E=1,r.send(ga,c)}catch(B){if(2>E)c(-1,B);else throw B;}}else c(-1,"No Transport");return u},getJSON:function(a,b,c){return l.get(a,b,c,"json")},getScript:function(a,b){return l.get(a,d,b,"script")}});l.each(["get","post"],function(a,b){l[b]=function(a,c,e,g){l.isFunction(c)&&
(g=g||e,e=c,c=d);return l.ajax({url:a,type:b,dataType:g,data:c,success:e})}});l.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){l.globalEval(a);return a}}});l.ajaxPrefilter("script",function(a){a.cache===d&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});l.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=F.head||l("head")[0]||F.documentElement;
return{send:function(e,d){b=F.createElement("script");b.async=!0;a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,c){if(c||!b.readyState||/loaded|complete/.test(b.readyState))b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||d(200,"success")};c.insertBefore(b,c.firstChild)},abort:function(){if(b)b.onload(d,!0)}}}});var N=[],O=/(=)\?(?=&|$)|\?\?/;l.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=N.pop()||
l.expando+"_"+ca++;this[a]=!0;return a}});l.ajaxPrefilter("json jsonp",function(a,b,c){var e,g,h,m=!1!==a.jsonp&&(O.test(a.url)?"url":"string"===typeof a.data&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&O.test(a.data)&&"data");if(m||"jsonp"===a.dataTypes[0])return e=a.jsonpCallback=l.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,m?a[m]=a[m].replace(O,"$1"+e):!1!==a.jsonp&&(a.url+=(oa.test(a.url)?"&":"?")+a.jsonp+"="+e),a.converters["script json"]=function(){h||
l.error(e+" was not called");return h[0]},a.dataTypes[0]="json",g=f[e],f[e]=function(){h=arguments},c.always(function(){f[e]=g;a[e]&&(a.jsonpCallback=b.jsonpCallback,N.push(e));h&&l.isFunction(g)&&g(h[0]);h=g=d}),"script"});var ga,Z,na=0,sa=f.ActiveXObject&&function(){for(var a in ga)ga[a](d,!0)};l.ajaxSettings.xhr=f.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&P()))a:{try{a=new f.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}a=void 0}return a}:P;Z=l.ajaxSettings.xhr();l.support.cors=
!!Z&&"withCredentials"in Z;(Z=l.support.ajax=!!Z)&&l.ajaxTransport(function(a){if(!a.crossDomain||l.support.cors){var b;return{send:function(c,e){var g,h,m=a.xhr();a.username?m.open(a.type,a.url,a.async,a.username,a.password):m.open(a.type,a.url,a.async);if(a.xhrFields)for(h in a.xhrFields)m[h]=a.xhrFields[h];a.mimeType&&m.overrideMimeType&&m.overrideMimeType(a.mimeType);a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");try{for(h in c)m.setRequestHeader(h,c[h])}catch(k){}m.send(a.hasContent&&
a.data||null);b=function(c,h){var k,f,r,n;try{if(b&&(h||4===m.readyState))if(b=d,g&&(m.onreadystatechange=l.noop,sa&&delete ga[g]),h)4!==m.readyState&&m.abort();else{n={};k=m.status;f=m.getAllResponseHeaders();"string"===typeof m.responseText&&(n.text=m.responseText);try{r=m.statusText}catch(s){r=""}k||!a.isLocal||a.crossDomain?1223===k&&(k=204):k=n.text?200:404}}catch(t){h||e(-1,t)}n&&e(k,r,n,f)};a.async?4===m.readyState?setTimeout(b):(g=++na,sa&&(ga||(ga={},l(f).unload(sa)),ga[g]=b),m.onreadystatechange=
b):b()},abort:function(){b&&b(d,!0)}}}});var ba,pa,xa=/^(?:toggle|show|hide)$/,Xb=RegExp("^(?:([+-])=|)("+Lb+")([a-z%]*)$","i"),Ma=/queueHooks$/,qa=[function(a,b,c){var e,d,g,h,m,k=this,f={},r=a.style,n=a.nodeType&&A(a),s=l._data(a,"fxshow");c.queue||(h=l._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,m=h.empty.fire,h.empty.fire=function(){h.unqueued||m()}),h.unqueued++,k.always(function(){k.always(function(){h.unqueued--;l.queue(a,"fx").length||h.empty.fire()})}));1===a.nodeType&&("height"in
b||"width"in b)&&(c.overflow=[r.overflow,r.overflowX,r.overflowY],"inline"===l.css(a,"display")&&"none"===l.css(a,"float")&&(l.support.inlineBlockNeedsLayout&&"inline"!==C(a.nodeName)?r.zoom=1:r.display="inline-block"));c.overflow&&(r.overflow="hidden",l.support.shrinkWrapBlocks||k.always(function(){r.overflow=c.overflow[0];r.overflowX=c.overflow[1];r.overflowY=c.overflow[2]}));for(e in b)d=b[e],xa.exec(d)&&(delete b[e],g=g||"toggle"===d,d!==(n?"hide":"show")&&(f[e]=s&&s[e]||l.style(a,e)));if(!l.isEmptyObject(f))for(e in s?
"hidden"in s&&(n=s.hidden):s=l._data(a,"fxshow",{}),g&&(s.hidden=!n),n?l(a).show():k.done(function(){l(a).hide()}),k.done(function(){var b;l._removeData(a,"fxshow");for(b in f)l.style(a,b,f[b])}),f)b=ta(n?s[e]:0,e,k),e in s||(s[e]=b.start,n&&(b.end=b.start,b.start="width"===e||"height"===e?1:0))}],Pa={"*":[function(a,b){var c=this.createTween(a,b),e=c.cur(),d=Xb.exec(b),g=d&&d[3]||(l.cssNumber[a]?"":"px"),h=(l.cssNumber[a]||"px"!==g&&+e)&&Xb.exec(l.css(c.elem,a)),m=1,k=20;if(h&&h[3]!==g){g=g||h[3];
d=d||[];h=+e||1;do m=m||".5",h/=m,l.style(c.elem,a,h+g);while(m!==(m=c.cur()/e)&&1!==m&&--k)}d&&(h=c.start=+h||+e||0,c.unit=g,c.end=d[1]?h+(d[1]+1)*d[2]:+d[2]);return c}]};l.Animation=l.extend(Qa,{tweener:function(a,b){l.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,e=0,d=a.length;e<d;e++)c=a[e],Pa[c]=Pa[c]||[],Pa[c].unshift(b)},prefilter:function(a,b){b?qa.unshift(a):qa.push(a)}});l.Tween=J;J.prototype={constructor:J,init:function(a,b,c,e,d,g){this.elem=a;this.prop=c;this.easing=d||"swing";
this.options=b;this.start=this.now=this.cur();this.end=e;this.unit=g||(l.cssNumber[c]?"":"px")},cur:function(){var a=J.propHooks[this.prop];return a&&a.get?a.get(this):J.propHooks._default.get(this)},run:function(a){var b,c=J.propHooks[this.prop];this.pos=this.options.duration?b=l.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);c&&c.set?c.set(this):J.propHooks._default.set(this);
return this}};J.prototype.init.prototype=J.prototype;J.propHooks={_default:{get:function(a){return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(a=l.css(a.elem,a.prop,""))&&"auto"!==a?a:0:a.elem[a.prop]},set:function(a){if(l.fx.step[a.prop])l.fx.step[a.prop](a);else a.elem.style&&(null!=a.elem.style[l.cssProps[a.prop]]||l.cssHooks[a.prop])?l.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};J.propHooks.scrollTop=J.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&
(a.elem[a.prop]=a.now)}};l.each(["toggle","show","hide"],function(a,b){var c=l.fn[b];l.fn[b]=function(a,e,d){return null==a||"boolean"===typeof a?c.apply(this,arguments):this.animate(U(b,!0),a,e,d)}});l.fn.extend({fadeTo:function(a,b,c,e){return this.filter(A).css("opacity",0).show().end().animate({opacity:b},a,c,e)},animate:function(a,b,c,e){var d=l.isEmptyObject(a),g=l.speed(b,c,e);b=function(){var b=Qa(this,l.extend({},a),g);(d||l._data(this,"finish"))&&b.stop(!0)};b.finish=b;return d||!1===g.queue?
this.each(b):this.queue(g.queue,b)},stop:function(a,b,c){var e=function(a){var b=a.stop;delete a.stop;b(c)};"string"!==typeof a&&(c=b,b=a,a=d);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,d=null!=a&&a+"queueHooks",g=l.timers,h=l._data(this);if(d)h[d]&&h[d].stop&&e(h[d]);else for(d in h)h[d]&&h[d].stop&&Ma.test(d)&&e(h[d]);for(d=g.length;d--;)g[d].elem!==this||null!=a&&g[d].queue!==a||(g[d].anim.stop(c),b=!1,g.splice(d,1));!b&&c||l.dequeue(this,a)})},finish:function(a){!1!==
a&&(a=a||"fx");return this.each(function(){var b,c=l._data(this),e=c[a+"queue"];b=c[a+"queueHooks"];var d=l.timers,g=e?e.length:0;c.finish=!0;l.queue(this,a,[]);b&&b.stop&&b.stop.call(this,!0);for(b=d.length;b--;)d[b].elem===this&&d[b].queue===a&&(d[b].anim.stop(!0),d.splice(b,1));for(b=0;b<g;b++)e[b]&&e[b].finish&&e[b].finish.call(this);delete c.finish})}});l.each({slideDown:U("show"),slideUp:U("hide"),slideToggle:U("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},
function(a,b){l.fn[a]=function(a,c,e){return this.animate(b,a,c,e)}});l.speed=function(a,b,c){var e=a&&"object"===typeof a?l.extend({},a):{complete:c||!c&&b||l.isFunction(a)&&a,duration:a,easing:c&&b||b&&!l.isFunction(b)&&b};e.duration=l.fx.off?0:"number"===typeof e.duration?e.duration:e.duration in l.fx.speeds?l.fx.speeds[e.duration]:l.fx.speeds._default;if(null==e.queue||!0===e.queue)e.queue="fx";e.old=e.complete;e.complete=function(){l.isFunction(e.old)&&e.old.call(this);e.queue&&l.dequeue(this,
e.queue)};return e};l.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}};l.timers=[];l.fx=J.prototype.init;l.fx.tick=function(){var a,b=l.timers,c=0;for(ba=l.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||l.fx.stop();ba=d};l.fx.timer=function(a){a()&&l.timers.push(a)&&l.fx.start()};l.fx.interval=13;l.fx.start=function(){pa||(pa=setInterval(l.fx.tick,l.fx.interval))};l.fx.stop=function(){clearInterval(pa);pa=null};l.fx.speeds={slow:600,fast:200,
_default:400};l.fx.step={};l.expr&&l.expr.filters&&(l.expr.filters.animated=function(a){return l.grep(l.timers,function(b){return a===b.elem}).length});l.fn.offset=function(a){if(arguments.length)return a===d?this:this.each(function(b){l.offset.setOffset(this,a,b)});var b,c,e={top:0,left:0},g=(c=this[0])&&c.ownerDocument;if(g){b=g.documentElement;if(!l.contains(b,c))return e;typeof c.getBoundingClientRect!==V&&(e=c.getBoundingClientRect());c=Ca(g);return{top:e.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||
0),left:e.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}}};l.offset={setOffset:function(a,b,c){var e=l.css(a,"position");"static"===e&&(a.style.position="relative");var d=l(a),g=d.offset(),h=l.css(a,"top"),m=l.css(a,"left"),k={},f={};("absolute"===e||"fixed"===e)&&-1<l.inArray("auto",[h,m])?(f=d.position(),e=f.top,m=f.left):(e=parseFloat(h)||0,m=parseFloat(m)||0);l.isFunction(b)&&(b=b.call(a,c,g));null!=b.top&&(k.top=b.top-g.top+e);null!=b.left&&(k.left=b.left-g.left+m);"using"in b?b.using.call(a,
k):d.css(k)}};l.fn.extend({position:function(){if(this[0]){var a,b,c={top:0,left:0},e=this[0];"fixed"===l.css(e,"position")?b=e.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),l.nodeName(a[0],"html")||(c=a.offset()),c.top+=l.css(a[0],"borderTopWidth",!0),c.left+=l.css(a[0],"borderLeftWidth",!0));return{top:b.top-c.top-l.css(e,"marginTop",!0),left:b.left-c.left-l.css(e,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||ma;a&&!l.nodeName(a,
"html")&&"static"===l.css(a,"position");)a=a.offsetParent;return a||ma})}});l.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);l.fn[a]=function(e){return l.access(this,function(a,e,g){var h=Ca(a);if(g===d)return h?b in h?h[b]:h.document.documentElement[e]:a[e];h?h.scrollTo(c?l(h).scrollLeft():g,c?g:l(h).scrollTop()):a[e]=g},a,e,arguments.length,null)}});l.each({Height:"height",Width:"width"},function(a,b){l.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,
e){l.fn[e]=function(e,g){var h=arguments.length&&(c||"boolean"!==typeof e),m=c||(!0===e||!0===g?"margin":"border");return l.access(this,function(b,c,e){return l.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(c=b.documentElement,Math.max(b.body["scroll"+a],c["scroll"+a],b.body["offset"+a],c["offset"+a],c["client"+a])):e===d?l.css(b,c,m):l.style(b,c,e,m)},b,h?e:d,h,null)}})});l.fn.size=function(){return this.length};l.fn.andSelf=l.fn.addBack;(function(){var a,b;l.uaMatch=function(a){a=
a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}};a=l.uaMatch(navigator.userAgent);b={};a.browser&&(b[a.browser]=!0,b.version=a.version);b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0);l.browser=b})();l.version="3.1";l.long_version="3.1.11";l.uid=function(a,b){return(a?a:"")+Math.random().toString().replace(".",
"")+(b?b:"")};l.globalNamespace=l.uid("Foundry");f[l.globalNamespace]=l;l.run=function(a){return l.isFunction(a)?a(l):null};l.initialize=function(a){l.initialized||(l.extend(l,a),"development"==l.environment&&(f.F=l),l.initialized=!0,FD31.module.execute())};FD31.jquery(l)})(window);
FD31.plugin("lodash",function(f){function d(a,b,c){c=(c||0)-1;for(var e=a.length;++c<e;)if(a[c]===b)return c;return-1}function k(a,b){var c=typeof b;a=a.cache;if("boolean"==c||null==b)return a[b];"number"!=c&&"string"!=c&&(c="object");var e="number"==c?b:t+b;a=a[c]||(a[c]={});return"object"==c?a[e]&&-1<d(a[e],b)?0:-1:a[e]?0:-1}function a(a){var b=this.cache,c=typeof a;if("boolean"==c||null==a)b[a]=!0;else{"number"!=c&&"string"!=c&&(c="object");var e="number"==c?a:t+a,d=b[c]||(b[c]={});"object"==c?
(d[e]||(d[e]=[])).push(a)==this.array.length&&(b[c]=!1):d[e]=!0}}function b(a){return a.charCodeAt(0)}function c(a,b){var c=a.index,e=b.index;a=a.criteria;b=b.criteria;if(a!==b){if(a>b||"undefined"==typeof a)return 1;if(a<b||"undefined"==typeof b)return-1}return c<e?-1:1}function g(b){var c=-1,e=b.length,d=m();d["false"]=d["null"]=d["true"]=d.undefined=!1;var g=m();g.array=b;g.cache=d;for(g.push=a;++c<e;)g.push(b[c]);return!1===d.object?(n(g),null):g}function e(a){return"\\"+za[a]}function h(){return u.pop()||
[]}function m(){return v.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,leading:!1,maxWait:0,"null":!1,number:null,object:null,push:null,string:null,trailing:!1,"true":!1,undefined:!1,value:null}}function r(a){a.length=0;u.length<z&&u.push(a)}function n(a){var b=a.cache;b&&n(b);a.array=a.cache=a.criteria=a.object=a.number=a.string=a.value=null;v.length<z&&v.push(a)}function p(a,b,c){b||(b=0);"undefined"==typeof c&&(c=a?a.length:0);var e=-1;c=c-b||0;for(var d=Array(0>c?0:c);++e<c;)d[e]=
a[b+e];return d}function q(a){function f(a){return a&&"object"==typeof a&&!Y(a)&&aa.call(a,"__wrapped__")?a:new v(a)}function v(a){this.__wrapped__=a}function u(a,b,c,e){function d(){var e=arguments,k=h?this:b;g||(a=b[m]);c.length&&(e=e.length?(e=ca.call(e),f?e.concat(c):c.concat(e)):c);return this instanceof d?(k=l(a.prototype),e=a.apply(k,e),Da(e)?e:k):a.apply(k,e)}var g=Ja(a),h=!c,m=b;if(h){var f=e;c=b}else if(!g){if(!e)throw new $b;b=a}return d}function l(a){return Da(a)?Ba(a):{}}function z(a){return Vb[a]}
function ea(a,b,c){var e=(e=f.indexOf)===Qb?d:e;return e}function za(a){return function(b,c,e,d){"boolean"!=typeof c&&null!=c&&(e=(d=e)&&d[c]===b?w:c,c=!1);null!=e&&(e=f.createCallback(e,d));return a(b,c,e,d)}}function Zb(a){var b,c;if(!a||ja.call(a)!=V||(b=a.constructor,Ja(b)&&!(b instanceof b)))return!1;La(a,function(a,b){c=b});return c===w||aa.call(a,c)}function Mb(a){return cc[a]}function zb(a,b,c,e,d,g){var m=a;"boolean"!=typeof b&&null!=b&&(e=c,c=b,b=!1);if("function"==typeof c){c="undefined"==
typeof e?c:f.createCallback(c,e,1);m=c(m);if("undefined"!=typeof m)return m;m=a}if(e=Da(m)){var k=ja.call(m);if(!ma[k])return m;var l=Y(m)}if(!e||!b)return e?l?p(m):tb({},m):m;e=oa[k];switch(k){case U:case Ca:return new e(+m);case la:case F:return new e(m);case Ia:return e(m.source,C.exec(m))}k=!d;d||(d=h());g||(g=h());for(var n=d.length;n--;)if(d[n]==a)return g[n];m=l?e(m.length):{};l&&(aa.call(a,"index")&&(m.index=a.index),aa.call(a,"input")&&(m.input=a.input));d.push(a);g.push(m);(l?X:T)(a,function(a,
e){m[e]=zb(a,b,c,w,d,g)});k&&(r(d),r(g));return m}function kb(a){var b=[];La(a,function(a,c){Ja(a)&&b.push(c)});return b.sort()}function Nb(a){for(var b=-1,c=ra(a),e=c.length,d={};++b<e;){var g=c[b];d[a[g]]=g}return d}function Va(a,b,c,e,d,g){var m=c===x;if("function"==typeof c&&!m){c=f.createCallback(c,e,2);var k=c(a,b);if("undefined"!=typeof k)return!!k}if(a===b)return 0!==a||1/a==1/b;var l=typeof a,n=typeof b;if(a===a&&(!a||"function"!=l&&"object"!=l)&&(!b||"function"!=n&&"object"!=n))return!1;
if(null==a||null==b)return a===b;n=ja.call(a);l=ja.call(b);n==$&&(n=V);l==$&&(l=V);if(n!=l)return!1;switch(n){case U:case Ca:return+a==+b;case la:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case Ia:case F:return a==Aa(b)}l=n==J;if(!l){if(aa.call(a,"__wrapped__ ")||aa.call(b,"__wrapped__"))return Va(a.__wrapped__||a,b.__wrapped__||b,c,e,d,g);if(n!=V)return!1;var n=a.constructor,s=b.constructor;if(n!=s&&!(Ja(n)&&n instanceof n&&Ja(s)&&s instanceof s))return!1}s=!d;d||(d=h());g||(g=h());for(n=d.length;n--;)if(d[n]==
a)return g[n]==b;var t=0,k=!0;d.push(a);g.push(b);if(l){n=a.length;t=b.length;k=t==a.length;if(!k&&!m)return k;for(;t--;)if(l=n,s=b[t],m)for(;l--&&!(k=Va(a[l],s,c,e,d,g)););else if(!(k=Va(a[t],s,c,e,d,g)))break;return k}La(b,function(b,h,m){if(aa.call(m,h))return t++,k=aa.call(a,h)&&Va(a[h],b,c,e,d,g)});k&&!m&&La(a,function(a,b,c){if(aa.call(c,b))return k=-1<--t});s&&(r(d),r(g));return k}function Ja(a){return"function"==typeof a}function Da(a){return!(!a||!da[typeof a])}function Ob(a){return"number"==
typeof a||ja.call(a)==la}function W(a){return"string"==typeof a||ja.call(a)==F}function Ab(a,b,c){var e=arguments,d=0,g=2;if(!Da(a))return a;if(c===x)var m=e[3],k=e[4],l=e[5];else{var n=!0,k=h(),l=h();"number"!=typeof c&&(g=e.length);3<g&&"function"==typeof e[g-2]?m=f.createCallback(e[--g-1],e[g--],2):2<g&&"function"==typeof e[g-1]&&(m=e[--g])}for(;++d<g;)(Y(e[d])?X:T)(e[d],function(b,c){var e,d,g=b,h=a[c];if(b&&((d=Y(b))||vb(b))){for(g=k.length;g--;)if(e=k[g]==b){h=l[g];break}if(!e){var f;m&&(g=
m(h,b),f="undefined"!=typeof g)&&(h=g);f||(h=d?Y(h)?h:[]:vb(h)?h:{});k.push(b);l.push(h);f||(h=Ab(h,b,x,m,k,l))}}else m&&(g=m(h,b),"undefined"==typeof g&&(g=b)),"undefined"!=typeof g&&(h=g);a[c]=h});n&&(r(k),r(l));return a}function hb(a){for(var b=-1,c=ra(a),e=c.length,d=ha(e);++b<e;)d[b]=a[c[b]];return d}function Jb(a,b,c){var e=-1,d=ea(),g=a?a.length:0,h=!1;c=(0>c?wa(0,g+c):c)||0;g&&"number"==typeof g?h=-1<(W(a)?a.indexOf(b,c):d(a,b,c)):T(a,function(a){if(++e>=c)return!(h=a===b)});return h}function Ib(a,
b,c){var e=!0;b=f.createCallback(b,c);c=-1;var d=a?a.length:0;if("number"==typeof d)for(;++c<d&&(e=!!b(a[c],c,a)););else T(a,function(a,c,d){return e=!!b(a,c,d)});return e}function Ea(a,b,c){var e=[];b=f.createCallback(b,c);c=-1;var d=a?a.length:0;if("number"==typeof d)for(;++c<d;){var g=a[c];b(g,c,a)&&e.push(g)}else T(a,function(a,c,d){b(a,c,d)&&e.push(a)});return e}function lb(a,b,c){b=f.createCallback(b,c);c=-1;var e=a?a.length:0;if("number"==typeof e)for(;++c<e;){var d=a[c];if(b(d,c,a))return d}else{var g;
T(a,function(a,c,e){if(b(a,c,e))return g=a,!1});return g}}function X(a,b,c){var e=-1,d=a?a.length:0;b=b&&"undefined"==typeof c?b:f.createCallback(b,c);if("number"==typeof d)for(;++e<d&&!1!==b(a[e],e,a););else T(a,b);return a}function Bb(a,b,c){var e=-1,d=a?a.length:0;b=f.createCallback(b,c);if("number"==typeof d)for(var g=ha(d);++e<d;)g[e]=b(a[e],e,a);else g=[],T(a,function(a,c,d){g[++e]=b(a,c,d)});return g}function Pb(a,c,e){var d=-Infinity,g=d;if(!c&&Y(a)){e=-1;for(var h=a.length;++e<h;){var m=
a[e];m>g&&(g=m)}}else c=!c&&W(a)?b:f.createCallback(c,e),X(a,function(a,b,e){b=c(a,b,e);b>d&&(d=b,g=a)});return g}function Cb(a,b){var c=-1,e=a?a.length:0;if("number"==typeof e)for(var d=ha(e);++c<e;)d[c]=a[c][b];return d||Bb(a,b)}function bb(a,b,c,e){if(!a)return c;var d=3>arguments.length;b=f.createCallback(b,e,4);var g=-1,h=a.length;if("number"==typeof h)for(d&&(c=a[++g]);++g<h;)c=b(c,a[g],g,a);else T(a,function(a,e,g){c=d?(d=!1,a):b(c,a,e,g)});return c}function Ka(a,b,c,e){var d=a?a.length:0,
g=3>arguments.length;if("number"!=typeof d)var h=ra(a),d=h.length;b=f.createCallback(b,e,4);X(a,function(e,m,f){m=h?h[--d]:--d;c=g?(g=!1,a[m]):b(c,a[m],m,f)});return c}function cb(a,b,c){var e;b=f.createCallback(b,c);c=-1;var d=a?a.length:0;if("number"==typeof d)for(;++c<d&&!(e=b(a[c],c,a)););else T(a,function(a,c,d){return!(e=b(a,c,d))});return!!e}function mb(a){var b=-1,c=ea(),e=a?a.length:0,h=Ya.apply(Q,ca.call(arguments,1)),m=[],f=e>=E&&c===d;if(f){var l=g(h);l?(c=k,h=l):f=!1}for(;++b<e;)l=a[b],
0>c(h,l)&&m.push(l);f&&n(h);return m}function Db(a,b,c){if(a){var e=0,d=a.length;if("number"!=typeof b&&null!=b){var g=-1;for(b=f.createCallback(b,c);++g<d&&b(a[g],g,a);)e++}else if(e=b,null==e||c)return a[0];return p(a,0,sb(wa(0,e),d))}}function Qb(a,b,c){if("number"==typeof c){var e=a?a.length:0;c=0>c?wa(0,e+c):c||0}else if(c)return c=Eb(a,b),a[c]===b?c:-1;return a?d(a,b,c):-1}function nb(a,b,c){if("number"!=typeof b&&null!=b){var e=0,d=-1,g=a?a.length:0;for(b=f.createCallback(b,c);++d<g&&b(a[d],
d,a);)e++}else e=null==b||c?1:wa(0,b);return p(a,e)}function Eb(a,b,c,e){var d=0,g=a?a.length:d;c=c?f.createCallback(c,e,1):Fb;for(b=c(b);d<g;)e=d+g>>>1,c(a[e])<b?d=e+1:g=e;return d}function Kb(a){for(var b=-1,c=a?Pb(Cb(a,"length")):0,e=ha(0>c?0:c);++b<c;)e[b]=Cb(a,b);return e}function Rb(a,b){for(var c=-1,e=a?a.length:0,d={};++c<e;){var g=a[c];b?d[g]=b[c]:d[g[0]]=g[1]}return d}function ob(a,b){return Ub.fastBind||Fa&&2<arguments.length?Fa.call.apply(Fa,arguments):u(a,b,ca.call(arguments,2))}function Sb(a,
b,c){function e(){Xa(n);Xa(s);k=0;n=s=null}function d(){var b=t&&(!p||1<k);e();b&&(!1!==r&&(l=new db),m=a.apply(f,h))}function g(){e();if(t||r!==b)l=new db,m=a.apply(f,h)}var h,m,f,k=0,l=0,r=!1,n=null,s=null,t=!0;b=wa(0,b||0);if(!0===c)var p=!0,t=!1;else Da(c)&&(p=c.leading,r="maxWait"in c&&wa(b,c.maxWait||0),t="trailing"in c?c.trailing:t);return function(){h=arguments;f=this;k++;Xa(s);if(!1===r)p&&2>k&&(m=a.apply(f,h));else{var c=new db;n||p||(l=c);var e=r-(c-l);0>=e?(Xa(n),n=null,l=c,m=a.apply(f,
h)):n||(n=$a(g,e))}b!==r&&(s=$a(d,b));return m}}function wb(a){var b=ca.call(arguments,1);return $a(function(){a.apply(w,b)},1)}function Fb(a){return a}function Gb(a){X(kb(a),function(b){var c=f[b]=a[b];f.prototype[b]=function(){var a=this.__wrapped__,b=[a];Oa.apply(b,arguments);b=c.apply(f,b);return a&&"object"==typeof a&&a===b?this:new v(b)}})}function pb(){return this.__wrapped__}a=a?ua.defaults(window.Object(),a,ua.pick(window,ta)):window;var ha=a.Array,Wa=a.Boolean,db=a.Date,Hb=a.Function,va=
a.Math,xb=a.Number,eb=a.Object,qb=a.RegExp,Aa=a.String,$b=a.TypeError,Q=[],fb=eb.prototype,ab=a._,ka=qb("^"+Aa(fb.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),Na=va.ceil,Xa=a.clearTimeout,Ya=Q.concat,Tb=va.floor,ac=Hb.prototype.toString,Za=ka.test(Za=eb.getPrototypeOf)&&Za,aa=fb.hasOwnProperty,Oa=Q.push,rb=a.setImmediate,$a=a.setTimeout,ja=fb.toString,Fa=ka.test(Fa=ja.bind)&&Fa,Ba=ka.test(Ba=eb.create)&&Ba,jb=ka.test(jb=ha.isArray)&&jb,bc=a.isFinite,Yb=
a.isNaN,gb=ka.test(gb=eb.keys)&&gb,wa=va.max,sb=va.min,Ga=a.parseInt,Ha=va.random,ca=Q.slice,va=ka.test(a.attachEvent),va=Fa&&!/\n|true/.test(Fa+va),oa={};oa[J]=ha;oa[U]=Wa;oa[Ca]=db;oa[Ra]=Hb;oa[V]=eb;oa[la]=xb;oa[Ia]=qb;oa[F]=Aa;v.prototype=f.prototype;var Ub=f.support={};Ub.fastBind=Fa&&!va;f.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:I,variable:"",imports:{_:f}};var Y=jb,Wa=function(a){var b,c=[];if(!a||!da[typeof a])return c;for(b in a)aa.call(a,b)&&c.push(b);
return c},ra=gb?function(a){return Da(a)?gb(a):[]}:Wa,Vb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},cc=Nb(Vb),tb=function(a,b,c){var e,d=a,g=d;if(!d)return g;var h=arguments,m=0,k="number"==typeof c?2:h.length;if(3<k&&"function"==typeof h[k-2])var l=f.createCallback(h[--k-1],h[k--],2);else 2<k&&"function"==typeof h[k-1]&&(l=h[--k]);for(;++m<k;)if((d=h[m])&&da[typeof d])for(var r=-1,n=da[typeof d]&&ra(d),s=n?n.length:0;++r<s;)e=n[r],g[e]=l?l(g[e],d[e]):d[e];return g},ub=function(a,
b,c){var e,d=a,g=d;if(!d)return g;for(var h=arguments,m=0,f="number"==typeof c?2:h.length;++m<f;)if((d=h[m])&&da[typeof d])for(var k=-1,l=da[typeof d]&&ra(d),r=l?l.length:0;++k<r;)e=l[k],"undefined"==typeof g[e]&&(g[e]=d[e]);return g},La=function(a,b,c){var e;if(!a||!da[typeof a])return a;b=b&&"undefined"==typeof c?b:f.createCallback(b,c);for(e in a)if(!1===b(a[e],e,a))break;return a},T=function(a,b,c){if(!a||!da[typeof a])return a;b=b&&"undefined"==typeof c?b:f.createCallback(b,c);for(var e=-1,d=
da[typeof a]&&ra(a),g=d?d.length:0;++e<g&&(c=d[e],!1!==b(a[c],c,a)););return a},vb=function(a){if(!a||ja.call(a)!=V)return!1;var b=a.valueOf,c="function"==typeof b&&(c=Za(b))&&Za(c);return c?a==c||Za(a)==c:Zb(a)},Wa=za(function O(a,b,c){for(var e=-1,d=a?a.length:0,g=[];++e<d;){var h=a[e];c&&(h=c(h,e,a));Y(h)?Oa.apply(g,b?h:O(h)):g.push(h)}return g}),Wb=za(function(a,b,c){var e=-1,m=ea(),f=a?a.length:0,l=[],s=!b&&f>=E&&m===d,t=c||s?h():l;if(s){var p=g(t);p?(m=k,t=p):(s=!1,t=c?t:(r(t),l))}for(;++e<
f;){var p=a[e],q=c?c(p,e,a):p;if(b?!e||t[t.length-1]!==q:0>m(t,q))(c||s)&&t.push(q),l.push(p)}s?(r(t.array),n(t)):c&&r(t);return l});va&&yb&&"function"==typeof rb&&(wb=ob(rb,a));rb=8==Ga(S+"08")?Ga:function(a,b){return Ga(W(a)?a.replace(K,""):a,b||0)};f.after=function(a,b){return 1>a?b():function(){if(1>--a)return b.apply(this,arguments)}};f.assign=tb;f.at=function(a){for(var b=-1,c=Ya.apply(Q,ca.call(arguments,1)),e=c.length,d=ha(e);++b<e;)d[b]=a[c[b]];return d};f.bind=ob;f.bindAll=function(a){for(var b=
1<arguments.length?Ya.apply(Q,ca.call(arguments,1)):kb(a),c=-1,e=b.length;++c<e;){var d=b[c];a[d]=ob(a[d],a)}return a};f.bindKey=function(a,b){return u(a,b,ca.call(arguments,2),x)};f.compact=function(a){for(var b=-1,c=a?a.length:0,e=[];++b<c;){var d=a[b];d&&e.push(d)}return e};f.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}};f.countBy=function(a,b,c){var e={};b=f.createCallback(b,c);X(a,function(a,c,d){c=Aa(b(a,c,d));aa.call(e,
c)?e[c]++:e[c]=1});return e};f.createCallback=function(a,b,c){if(null==a)return Fb;var e=typeof a;if("function"!=e){if("object"!=e)return function(b){return b[a]};var d=ra(a);return function(b){for(var c=d.length,e=!1;c--&&(e=Va(b[d[c]],a[d[c]],x)););return e}}return"undefined"==typeof b||B&&!B.test(ac.call(a))?a:1===c?function(c){return a.call(b,c)}:2===c?function(c,e){return a.call(b,c,e)}:4===c?function(c,e,d,g){return a.call(b,c,e,d,g)}:function(c,e,d){return a.call(b,c,e,d)}};f.debounce=Sb;f.defaults=
ub;f.defer=wb;f.delay=function(a,b){var c=ca.call(arguments,2);return $a(function(){a.apply(w,c)},b)};f.difference=mb;f.filter=Ea;f.flatten=Wa;f.forEach=X;f.forIn=La;f.forOwn=T;f.functions=kb;f.groupBy=function(a,b,c){var e={};b=f.createCallback(b,c);X(a,function(a,c,d){c=Aa(b(a,c,d));(aa.call(e,c)?e[c]:e[c]=[]).push(a)});return e};f.initial=function(a,b,c){if(!a)return[];var e=0,d=a.length;if("number"!=typeof b&&null!=b){var g=d;for(b=f.createCallback(b,c);g--&&b(a[g],g,a);)e++}else e=null==b||c?
1:b||e;return p(a,0,sb(wa(0,d-e),d))};f.intersection=function(a){for(var b=arguments,c=b.length,e=-1,m=h(),f=-1,l=ea(),s=a?a.length:0,t=[],p=h();++e<c;){var q=b[e];m[e]=l===d&&(q?q.length:0)>=E&&g(e?b[e]:p)}a:for(;++f<s;){var x=m[0],q=a[f];if(0>(x?k(x,q):l(p,q))){e=c;for((x||p).push(q);--e;)if(x=m[e],0>(x?k(x,q):l(b[e],q)))continue a;t.push(q)}}for(;c--;)(x=m[c])&&n(x);r(m);r(p);return t};f.invert=Nb;f.invoke=function(a,b){var c=ca.call(arguments,2),e=-1,d="function"==typeof b,g=a?a.length:0,h=ha("number"==
typeof g?g:0);X(a,function(a){h[++e]=(d?b:a[b]).apply(a,c)});return h};f.keys=ra;f.map=Bb;f.max=Pb;f.memoize=function(a,b){function c(){var e=c.cache,d=t+(b?b.apply(this,arguments):arguments[0]);return aa.call(e,d)?e[d]:e[d]=a.apply(this,arguments)}c.cache={};return c};f.merge=Ab;f.min=function(a,c,e){var d=Infinity,g=d;if(!c&&Y(a)){e=-1;for(var h=a.length;++e<h;){var m=a[e];m<g&&(g=m)}}else c=!c&&W(a)?b:f.createCallback(c,e),X(a,function(a,b,e){b=c(a,b,e);b<d&&(d=b,g=a)});return g};f.omit=function(a,
b,c){var e=ea(),d="function"==typeof b,g={};if(d)b=f.createCallback(b,c);else var h=Ya.apply(Q,ca.call(arguments,1));La(a,function(a,c,m){if(d?!b(a,c,m):0>e(h,c))g[c]=a});return g};f.once=function(a){var b,c;return function(){if(b)return c;b=!0;c=a.apply(this,arguments);a=null;return c}};f.pairs=function(a){for(var b=-1,c=ra(a),e=c.length,d=ha(e);++b<e;){var g=c[b];d[b]=[g,a[g]]}return d};f.partial=function(a){return u(a,ca.call(arguments,1))};f.partialRight=function(a){return u(a,ca.call(arguments,
1),null,x)};f.pick=function(a,b,c){var e={};if("function"!=typeof b)for(var d=-1,g=Ya.apply(Q,ca.call(arguments,1)),h=Da(a)?g.length:0;++d<h;){var m=g[d];m in a&&(e[m]=a[m])}else b=f.createCallback(b,c),La(a,function(a,c,d){b(a,c,d)&&(e[c]=a)});return e};f.pluck=Cb;f.range=function(a,b,c){a=+a||0;c=+c||1;null==b&&(b=a,a=0);var e=-1;b=wa(0,Na((b-a)/c));for(var d=ha(b);++e<b;)d[e]=a,a+=c;return d};f.reject=function(a,b,c){b=f.createCallback(b,c);return Ea(a,function(a,c,e){return!b(a,c,e)})};f.rest=
nb;f.shuffle=function(a){var b=-1,c=a?a.length:0,e=ha("number"==typeof c?c:0);X(a,function(a){var c=Tb(Ha()*(++b+1));e[b]=e[c];e[c]=a});return e};f.sortBy=function(a,b,e){var d=-1,g=a?a.length:0,h=ha("number"==typeof g?g:0);b=f.createCallback(b,e);X(a,function(a,c,e){var g=h[++d]=m();g.criteria=b(a,c,e);g.index=d;g.value=a});g=h.length;for(h.sort(c);g--;)a=h[g],h[g]=a.value,n(a);return h};f.tap=function(a,b){b(a);return a};f.throttle=function(a,b,c){var e=!0,d=!0;!1===c?e=!1:Da(c)&&(e="leading"in
c?c.leading:e,d="trailing"in c?c.trailing:d);c=m();c.leading=e;c.maxWait=b;c.trailing=d;a=Sb(a,b,c);n(c);return a};f.times=function(a,b,c){a=-1<(a=+a)?a:0;var e=-1,d=ha(a);for(b=f.createCallback(b,c,1);++e<a;)d[e]=b(e);return d};f.toArray=function(a){return a&&"number"==typeof a.length?p(a):hb(a)};f.transform=function(a,b,c,e){var d=Y(a);b=f.createCallback(b,e,4);null==c&&(d?c=[]:(e=a&&a.constructor,c=l(e&&e.prototype)));(d?X:T)(a,function(a,e,d){return b(c,a,e,d)});return c};f.union=function(a){Y(a)||
(arguments[0]=a?ca.call(a):Q);return Wb(Ya.apply(Q,arguments))};f.uniq=Wb;f.unzip=Kb;f.values=hb;f.where=Ea;f.without=function(a){return mb(a,ca.call(arguments,1))};f.wrap=function(a,b){return function(){var c=[a];Oa.apply(c,arguments);return b.apply(this,c)}};f.zip=function(a){return a?Kb(arguments):[]};f.zipObject=Rb;f.collect=Bb;f.drop=nb;f.each=X;f.extend=tb;f.methods=kb;f.object=Rb;f.select=Ea;f.tail=nb;f.unique=Wb;Gb(f);f.chain=f;f.prototype.chain=function(){return this};f.clone=zb;f.cloneDeep=
function(a,b,c){return zb(a,!0,b,c)};f.contains=Jb;f.escape=function(a){return null==a?"":Aa(a).replace(P,z)};f.every=Ib;f.find=lb;f.findIndex=function(a,b,c){var e=-1,d=a?a.length:0;for(b=f.createCallback(b,c);++e<d;)if(b(a[e],e,a))return e;return-1};f.findKey=function(a,b,c){var e;b=f.createCallback(b,c);T(a,function(a,c,d){if(b(a,c,d))return e=c,!1});return e};f.has=function(a,b){return a?aa.call(a,b):!1};f.identity=Fb;f.indexOf=Qb;f.isArguments=function(a){return ja.call(a)==$};f.isArray=Y;f.isBoolean=
function(a){return!0===a||!1===a||ja.call(a)==U};f.isDate=function(a){return a?"object"==typeof a&&ja.call(a)==Ca:!1};f.isElement=function(a){return a?1===a.nodeType:!1};f.isEmpty=function(a){var b=!0;if(!a)return b;var c=ja.call(a),e=a.length;if(c==J||c==F||c==$||c==V&&"number"==typeof e&&Ja(a.splice))return!e;T(a,function(){return b=!1});return b};f.isEqual=Va;f.isFinite=function(a){return bc(a)&&!Yb(parseFloat(a))};f.isFunction=Ja;f.isNaN=function(a){return Ob(a)&&a!=+a};f.isNull=function(a){return null===
a};f.isNumber=Ob;f.isObject=Da;f.isPlainObject=vb;f.isRegExp=function(a){return a?"object"==typeof a&&ja.call(a)==Ia:!1};f.isString=W;f.isUndefined=function(a){return"undefined"==typeof a};f.lastIndexOf=function(a,b,c){var e=a?a.length:0;for("number"==typeof c&&(e=(0>c?wa(0,e+c):sb(c,e-1))+1);e--;)if(a[e]===b)return e;return-1};f.mixin=Gb;f.noConflict=function(){a._=ab;return this};f.parseInt=rb;f.random=function(a,b){null==a&&null==b&&(b=1);a=+a||0;null==b?(b=a,a=0):b=+b||0;var c=Ha();return a%1||
b%1?a+sb(c*(b-a+parseFloat("1e-"+((c+"").length-1))),b):a+Tb(c*(b-a+1))};f.reduce=bb;f.reduceRight=Ka;f.result=function(a,b){var c=a?a[b]:w;return Ja(c)?a[b]():c};f.runInContext=q;f.size=function(a){var b=a?a.length:0;return"number"==typeof b?b:ra(a).length};f.some=cb;f.sortedIndex=Eb;f.template=function(a,b,c){var d=f.templateSettings;a||(a="");c=ub({},c,d);var g=ub({},c.imports,d.imports),d=ra(g),g=hb(g),h,m=0,k=c.interpolate||M,l="__p += '",k=qb((c.escape||M).source+"|"+k.source+"|"+(k===I?D:M).source+
"|"+(c.evaluate||M).source+"|$","g");a.replace(k,function(b,c,d,g,f,k){d||(d=g);l+=a.slice(m,k).replace(R,e);c&&(l+="' +\n__e("+c+") +\n'");f&&(h=!0,l+="';\n"+f+";\n__p += '");d&&(l+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'");m=k+b.length;return b});var l=l+"';\n",r=k=c.variable;r||(k="obj",l="with ("+k+") {\n"+l+"\n}\n");l=(h?l.replace(A,""):l).replace(G,"$1").replace(L,"$1;");l="function("+k+") {\n"+(r?"":k+" || ("+k+" = {});\n")+"var __t, __p = '', __e = _.escape"+(h?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":
";\n")+l+"return __p\n}";c="\n/*\n//@ sourceURL="+(c.sourceURL||"/lodash/template/source["+Qa++ +"]")+"\n*/";try{var n=Hb(d,"return "+l+c).apply(w,g)}catch(s){throw s.source=l,s;}if(b)return n(b);n.source=l;return n};f.unescape=function(a){return null==a?"":Aa(a).replace(H,Mb)};f.uniqueId=function(a){var b=++s;return Aa(null==a?"":a)+b};f.all=Ib;f.any=cb;f.detect=lb;f.findWhere=lb;f.foldl=bb;f.foldr=Ka;f.include=Jb;f.inject=bb;T(f,function(a,b){f.prototype[b]||(f.prototype[b]=function(){var b=[this.__wrapped__];
Oa.apply(b,arguments);return a.apply(f,b)})});f.first=Db;f.last=function(a,b,c){if(a){var e=0,d=a.length;if("number"!=typeof b&&null!=b){var g=d;for(b=f.createCallback(b,c);g--&&b(a[g],g,a);)e++}else if(e=b,null==e||c)return a[d-1];return p(a,wa(0,d-e))}};f.take=Db;f.head=Db;T(f,function(a,b){f.prototype[b]||(f.prototype[b]=function(b,c){var e=a(this.__wrapped__,b,c);return null==b||c&&"function"!=typeof b?e:new v(e)})});f.VERSION="1.3.1";f.prototype.toString=function(){return Aa(this.__wrapped__)};
f.prototype.value=pb;f.prototype.valueOf=pb;X(["join","pop","shift"],function(a){var b=Q[a];f.prototype[a]=function(){return b.apply(this.__wrapped__,arguments)}});X(["push","reverse","sort","unshift"],function(a){var b=Q[a];f.prototype[a]=function(){b.apply(this.__wrapped__,arguments);return this}});X(["concat","slice","splice"],function(a){var b=Q[a];f.prototype[a]=function(){return new v(b.apply(this.__wrapped__,arguments))}});return f}var w,u=[],v=[],s=0,x={},t=+new Date+"",E=75,z=40,A=/\b__p \+= '';/g,
G=/\b(__p \+=) '' \+/g,L=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,D=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,C=/\w*$/,I=/<%=([\s\S]+?)%>/g,B=(B=/\bthis\b/)&&B.test(q)&&B,S=" \t\x0B\f\u00a0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000",K=RegExp("^["+S+"]*0+(?=.$)"),M=/($^)/,P=/[&<>"']/g,R=/['\n\r\t\u2028\u2029\\]/g,ta="Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setImmediate setTimeout".split(" "),
Qa=0,$="[object Arguments]",J="[object Array]",U="[object Boolean]",Ca="[object Date]",Ra="[object Function]",la="[object Number]",V="[object Object]",Ia="[object RegExp]",F="[object String]",ma={};ma[Ra]=!1;ma[$]=ma[J]=ma[U]=ma[Ca]=ma[la]=ma[V]=ma[Ia]=ma[F]=!0;var da={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},za={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},ea=da[typeof exports]&&exports,yb=da[typeof module]&&module&&module.exports==
ea&&module,ea=da[typeof global]&&global;!ea||ea.global!==ea&&ea.window!==ea||(window=ea);var ua=f._=q();f.each(ua,function(a,b){Object.hasOwnProperty.call(ua,a)&&!/VERSION/.test(name)&&(f[a]||(f[a]=b))})});
FD31.plugin("bootstrap",function(f){!function(d){d(function(){var f=d.support,a;a:{a=document.createElement("bootstrap");var b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},c;for(c in b)if(void 0!==a.style[c]){a=b[c];break a}a=void 0}f.transition=a&&{end:a}})}(f);!function(d){var f=function(a){d(a).on("click",'[data-foundry-dismiss="alert"]',this.close)};f.prototype.close=function(a){function b(){e.trigger("closed").remove()}
var c=d(this),g=c.attr("data-target"),e;g||(g=(g=c.attr("href"))&&g.replace(/.*(?=#[^\s]*$)/,""));e=d(g);a&&a.preventDefault();e.length||(e=c.hasClass("alert")?c:c.parent());e.trigger(a=d.Event("close"));a.isDefaultPrevented()||(e.removeClass("in"),d.support.transition&&e.hasClass("fade")?e.on(d.support.transition.end,b):b())};d.fn.alert=function(a){return this.each(function(){var b=d(this),c=b.data("alert");c||b.data("alert",c=new f(this));"string"==typeof a&&c[a].call(b)})};d.fn.alert.Constructor=
f;d(document).on("click.alert.data-api",'[data-foundry-dismiss="alert"]',f.prototype.close)}(f);!function(d){var f=function(a,b){this.$element=d(a);this.options=d.extend({},d.fn.button.defaults,b)};f.prototype.setState=function(a){var b=this.$element,c=b.data(),d=b.is("input")?"val":"html";a+="Text";c.resetText||b.data("resetText",b[d]());b[d](c[a]||this.options[a]);setTimeout(function(){"loadingText"==a?b.addClass("disabled").attr("disabled","disabled"):b.removeClass("disabled").removeAttr("disabled")},
0)};f.prototype.toggle=function(){var a=this.$element.closest('[data-foundry-toggle="buttons-radio"]');a.hasClass("disabled")||(a&&a.find(".active").removeClass("active"),this.$element.toggleClass("active"))};d.fn.button=function(a){return this.each(function(){var b=d(this),c=b.data("button"),g="object"==typeof a&&a;c||b.data("button",c=new f(this,g));"toggle"==a?c.toggle():a&&c.setState(a)})};d.fn.button.defaults={loadingText:"loading..."};d.fn.button.Constructor=f;d(document).on("click.button.data-api",
"[data-foundry-toggle^=button]",function(a){a=d(a.target);a.hasClass("btn")||(a=a.closest(".btn"));a.button("toggle")})}(f);!function(d){var f=function(a,b){this.$element=d(a);this.options=b;this.options.slide&&this.slide(this.options.slide);"hover"==this.options.pause&&this.$element.on("mouseenter",d.proxy(this.pause,this)).on("mouseleave",d.proxy(this.cycle,this))};f.prototype={cycle:function(a){a||(this.paused=!1);this.options.interval&&!this.paused&&(this.interval=setInterval(d.proxy(this.next,
this),this.options.interval));return this},to:function(a){var b=this.$element.find(".item.active"),c=b.parent().children(),b=c.index(b),g=this;if(!(a>c.length-1||0>a))return this.sliding?this.$element.one("slid",function(){g.to(a)}):b==a?this.pause().cycle():this.slide(a>b?"next":"prev",d(c[a]))},pause:function(a){a||(this.paused=!0);this.$element.find(".next, .prev").length&&d.support.transition.end&&(this.$element.trigger(d.support.transition.end),this.cycle());clearInterval(this.interval);this.interval=
null;return this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(a,b){var c=this.$element.find(".item.active"),g=b||c[a](),e=this.interval,h="next"==a?"left":"right",m="next"==a?"first":"last",f=this;this.sliding=!0;e&&this.pause();g=g.length?g:this.$element.find(".item")[m]();m=d.Event("slide",{relatedTarget:g[0]});if(!g.hasClass("active")){if(d.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(m);
if(m.isDefaultPrevented())return;g.addClass(a);g[0].offsetWidth;c.addClass(h);g.addClass(h);this.$element.one(d.support.transition.end,function(){g.removeClass([a,h].join(" ")).addClass("active");c.removeClass(["active",h].join(" "));f.sliding=!1;setTimeout(function(){f.$element.trigger("slid")},0)})}else{this.$element.trigger(m);if(m.isDefaultPrevented())return;c.removeClass("active");g.addClass("active");this.sliding=!1;this.$element.trigger("slid")}e&&this.cycle();return this}}};d.fn.carousel=
function(a){return this.each(function(){var b=d(this),c=b.data("carousel"),g=d.extend({},d.fn.carousel.defaults,"object"==typeof a&&a),e="string"==typeof a?a:g.slide;c||b.data("carousel",c=new f(this,g));if("number"==typeof a)c.to(a);else if(e)c[e]();else g.interval&&c.cycle()})};d.fn.carousel.defaults={interval:5E3,pause:"hover"};d.fn.carousel.Constructor=f;d(document).on("click.carousel.data-api","[data-foundry-slide]",function(a){var b=d(this),c,g=d(b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,
"")),b=d.extend({},g.data(),b.data());g.carousel(b);a.preventDefault()})}(f);!function(d){var f=function(a,b){this.$element=d(a);this.options=d.extend({},d.fn.collapse.defaults,b);this.options.parent&&(this.$parent=d(this.options.parent));this.options.toggle&&this.toggle()};f.prototype={constructor:f,dimension:function(){return this.$element.hasClass("width")?"width":"height"},show:function(){var a,b,c,g;if(!this.transitioning){a=this.dimension();b=d.camelCase(["scroll",a].join("-"));if((c=this.$parent&&
this.$parent.find("> .accordion-group > .in"))&&c.length){if((g=c.data("collapse"))&&g.transitioning)return;c.collapse("hide");g||c.data("collapse",null)}this.$element[a](0);d.support.transition&&this.$element[a](this.$element[0][b]);this.transition("addClass",d.Event("bootstrap-show"),"shown")}},hide:function(){var a;this.transitioning||(a=this.dimension(),this.reset(this.$element[a]()),this.transition("removeClass",d.Event("bootstrap-hide"),"hidden"),this.$element[a](0))},reset:function(a){var b=
this.dimension();this.$element.removeClass("collapse")[b](a||"auto")[0].offsetWidth;this.$element[null!==a?"addClass":"removeClass"]("collapse");return this},transition:function(a,b,c){var g=this,e=function(){"bootstrap-show"==b.type&&g.reset();g.transitioning=0;g.$element.trigger(c)};this.$element.trigger(b);b.isDefaultPrevented()||(this.transitioning=1,this.$element[a]("in"),d.support.transition&&this.$element.hasClass("collapse")?this.$element.one(d.support.transition.end,e):e())},toggle:function(){this[this.$element.hasClass("in")?
"hide":"show"]()}};d.fn.collapse=function(a){return this.each(function(){var b=d(this),c=b.data("collapse"),g="object"==typeof a&&a;c||b.data("collapse",c=new f(this,g));if("string"==typeof a)c[a]()})};d.fn.collapse.defaults={toggle:!0};d.fn.collapse.Constructor=f;d(document).on("click.collapse.data-api","[data-foundry-toggle=collapse]",function(a){var b=d(this),c;a=b.attr("data-target")||a.preventDefault()||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");c=d(a).data("collapse")?"toggle":b.data();
b[d(a).hasClass("in")?"addClass":"removeClass"]("collapsed");d(a).collapse(c)})}(f);!function(d){function f(c){d(b).each(function(){var b=a(d(this)),h=b.hasClass("open");b.removeClass("open");h&&b.trigger("dropdownClose",[c.target])})}function a(a){var b=a.attr("data-target");b||(b=(b=a.attr("href"))&&/#/.test(b)&&b.replace(/.*(?=#[^\s]*$)/,""));b=d(b);b.length||(b=a.parent());return b}var b="[data-foundry-toggle=dropdown]",c=function(a){var b=d(a).on("click.dropdown.data-api",this.toggle);d("html").on("click.dropdown.data-api",
function(){b.parent().removeClass("open")})};c.prototype={constructor:c,toggle:function(b){var c=d(this),h,m;if(!c.is(".disabled, :disabled"))return h=a(c),m=h.hasClass("open"),f(b),m||(h.toggleClass("open"),h.trigger("dropdownOpen",[b.target]),c.focus()),!1},keydown:function(b){var c,h,m;if(/(38|40|27)/.test(b.keyCode)&&(c=d(this),b.preventDefault(),b.stopPropagation(),!c.is(".disabled, :disabled"))){h=a(c);m=h.hasClass("open");if(!m||m&&27==b.keyCode)return c.click();c=d("[role=menu] li:not(.divider) a",
h);c.length&&(h=c.index(c.filter(":focus")),38==b.keyCode&&0<h&&h--,40==b.keyCode&&h<c.length-1&&h++,~h||(h=0),c.eq(h).focus())}}};d.fn.dropdown=function(a){return this.each(function(){var b=d(this),h=b.data("dropdown");h||b.data("dropdown",h=new c(this));"string"==typeof a&&h[a].call(b)})};d.fn.dropdown.Constructor=c;d(document).on("click.dropdown.data-api",f).on("click.dropdown",".dropdown_ form, .dropdown-static",function(a){a.stopPropagation()}).on("click.dropdown.data-api",b,c.prototype.toggle).on("keydown.dropdown.data-api",
b+", [role=menu]",c.prototype.keydown)}(f);!function(d){var f=function(a,b){this.options=b;this.$element=d(a).delegate('[data-dismiss="modal"]',"click.dismiss.modal",d.proxy(this.hide,this));this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};f.prototype={constructor:f,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var a=this,b=d.Event("show");this.$element.trigger(b);this.isShown||b.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var b=
d.support.transition&&a.$element.hasClass("fade");a.$element.parent().length||a.$element.appendTo(document.body);a.$element.show();b&&a.$element[0].offsetWidth;a.$element.addClass("in").attr("aria-hidden",!1).focus();a.enforceFocus();b?a.$element.one(d.support.transition.end,function(){a.$element.focus().trigger("shown")}):a.$element.focus().trigger("shown")}))},hide:function(a){a&&a.preventDefault();a=d.Event("hide");this.$element.trigger(a);this.isShown&&!a.isDefaultPrevented()&&(this.isShown=!1,
this.escape(),d(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),d.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var a=this;d(document).on("focusin.modal",function(b){a.$element[0]===b.target||a.$element.has(b.target).length||a.$element.focus()})},escape:function(){var a=this;if(this.isShown&&this.options.keyboard)this.$element.on("keyup.dismiss.modal",function(b){27==b.which&&a.hide()});
else this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var a=this,b=setTimeout(function(){a.$element.off(d.support.transition.end);a.hideModal()},500);this.$element.one(d.support.transition.end,function(){clearTimeout(b);a.hideModal()})},hideModal:function(a){this.$element.hide().trigger("hidden");this.backdrop()},removeBackdrop:function(){this.$backdrop.remove();this.$backdrop=null},backdrop:function(a){var b=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&
this.options.backdrop){var c=d.support.transition&&b;this.$backdrop=d('<div class="modal-backdrop '+b+'" />').appendTo(document.body);this.$backdrop.click("static"==this.options.backdrop?d.proxy(this.$element[0].focus,this.$element[0]):d.proxy(this.hide,this));c&&this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");c?this.$backdrop.one(d.support.transition.end,a):a()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),d.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(d.support.transition.end,
d.proxy(this.removeBackdrop,this)):this.removeBackdrop()):a&&a()}};d.fn.modal=function(a){return this.each(function(){var b=d(this),c=b.data("modal"),g=d.extend({},d.fn.modal.defaults,b.data(),"object"==typeof a&&a);c||b.data("modal",c=new f(this,g));if("string"==typeof a)c[a]();else g.show&&c.show()})};d.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0};d.fn.modal.Constructor=f;d(document).on("click.modal.data-api",'[data-foundry-toggle="modal"]',function(a){var b=d(this),c=b.attr("href"),g=d(b.attr("data-target")||
c&&c.replace(/.*(?=#[^\s]+$)/,"")),c=g.data("modal")?"toggle":d.extend({remote:!/#/.test(c)&&c},g.data(),b.data());a.preventDefault();g.modal(c).one("hide",function(){b.focus()})})}(f);!function(d){var f=function(a,b){this.init("tooltip",a,b)};f.prototype={constructor:f,init:function(a,b,c){this.type=a;this.$element=d(b);this.options=this.getOptions(c);this.enabled=!0;if("click"==this.options.trigger)this.$element.on("click."+this.type,this.options.selector,d.proxy(this.toggle,this));else"manual"!=
this.options.trigger&&(a="hover"==this.options.trigger?"mouseenter":"focus",b="hover"==this.options.trigger?"mouseleave":"blur",this.$element.on(a+"."+this.type,this.options.selector,d.proxy(this.enter,this)),this.$element.on(b+"."+this.type,this.options.selector,d.proxy(this.leave,this)));this.options.selector?this._options=d.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(a){a=d.extend({},d.fn[this.type].defaults,a,this.$element.data());a.delay&&"number"==
typeof a.delay&&(a.delay={show:a.delay,hide:a.delay});return a},enter:function(a){var b=d(a.currentTarget)[this.type](this._options).data(this.type);if(!b.options.delay||!b.options.delay.show)return b.show();clearTimeout(this.timeout);b.hoverState="in";this.timeout=setTimeout(function(){"in"==b.hoverState&&b.show()},b.options.delay.show)},leave:function(a){var b=d(a.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!b.options.delay||!b.options.delay.hide)return b.hide();
b.hoverState="out";this.timeout=setTimeout(function(){"out"==b.hoverState&&b.hide()},b.options.delay.hide)},show:function(){var a,b,c,g,e,h,m;if(this.hasContent()&&this.enabled){a=this.tip();this.setContent();this.options.animation&&a.addClass("fade");h="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement;b=/in/.test(h);a.detach().css({top:0,left:0,display:"block"});switch(this.options.container||"parent"){case "parent":a.insertAfter(this.$element);
break;case "body":a.appendTo(document.body);break;default:c=d(this.options.container),c.length?a.appendTo(c):a.insertAfter(this.$element)}c=this.getPosition(b);g=a[0].offsetWidth;e=a[0].offsetHeight;switch(b?h.split(" ")[1]:h){case "bottom":m={top:c.top+c.height,left:c.left+c.width/2-g/2};break;case "top":m={top:c.top-e,left:c.left+c.width/2-g/2};break;case "left":m={top:c.top+c.height/2-e/2,left:c.left-g};break;case "right":m={top:c.top+c.height/2-e/2,left:c.left+c.width}}a.offset(m).addClass(h).addClass("in")}},
setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b);a.removeClass("fade in top bottom left right")},hide:function(){function a(){var a=setTimeout(function(){b.off(d.support.transition.end).detach()},500);b.one(d.support.transition.end,function(){clearTimeout(a);b.detach()})}var b=this.tip();b.removeClass("in");d.support.transition&&this.$tip.hasClass("fade")?a():b.detach();return this},fixTitle:function(){var a=this.$element;(a.attr("title")||
"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(a){return d.extend({},a?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var a=this.$element,b=this.options;return a.attr("data-original-title")||("function"==typeof b.title?b.title.call(a[0]):b.title)},tip:function(){return this.$tip=
this.$tip||d(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.options=this.$element=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(a){a=d(a.currentTarget)[this.type](this._options).data(this.type);a[a.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};d.fn.tooltip=function(a){return this.each(function(){var b=
d(this),c=b.data("tooltip"),g="object"==typeof a&&a;c||b.data("tooltip",c=new f(this,g));if("string"==typeof a)c[a]()})};d.fn.tooltip.Constructor=f;d.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!1,container:"parent"}}(f);!function(d){var f=function(a,b){this.init("popover",a,b)};f.prototype=d.extend({},d.fn.tooltip.Constructor.prototype,{constructor:f,
setContent:function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b);a.find(".popover-content > *")[this.options.html?"html":"text"](c);a.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},tip:function(){this.$tip||(this.$tip=
d(this.options.template));return this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});d.fn.popover=function(a){return this.each(function(){var b=d(this),c=b.data("popover"),g="object"==typeof a&&a;c||b.data("popover",c=new f(this,g));if("string"==typeof a)c[a]()})};d.fn.popover.Constructor=f;d.fn.popover.defaults=d.extend({},d.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover popover-fd"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(f);
!function(d){function f(a,b){var c=d.proxy(this.process,this),g=d(a).is("body")?d(window):d(a),e;this.options=d.extend({},d.fn.scrollspy.defaults,b);this.$scrollElement=g.on("scroll.scroll-spy.data-api",c);this.selector=(this.options.target||(e=d(a).attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a";this.$body=d("body");this.refresh();this.process()}f.prototype={constructor:f,refresh:function(){var a=this;this.offsets=d([]);this.targets=d([]);this.$body.find(this.selector).map(function(){var a=
d(this),a=a.data("target")||a.attr("href"),c=/^#\w/.test(a)&&d(a);return c&&c.length&&[[c.position().top,a]]||null}).sort(function(a,c){return a[0]-c[0]}).each(function(){a.offsets.push(this[0]);a.targets.push(this[1])})},process:function(){var a=this.$scrollElement.scrollTop()+this.options.offset,b=(this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight)-this.$scrollElement.height(),c=this.offsets,d=this.targets,e=this.activeTarget,h;if(a>=b)return e!=(h=d.last()[0])&&this.activate(h);for(h=
c.length;h--;)e!=d[h]&&a>=c[h]&&(!c[h+1]||a<=c[h+1])&&this.activate(d[h])},activate:function(a){this.activeTarget=a;d(this.selector).parent(".active").removeClass("active");a=d(this.selector+'[data-target="'+a+'"],'+this.selector+'[href="'+a+'"]').parent("li").addClass("active");a.parent(".dropdown-menu").length&&(a=a.closest("li.dropdown").addClass("active"));a.trigger("activate")}};d.fn.scrollspy=function(a){return this.each(function(){var b=d(this),c=b.data("scrollspy"),g="object"==typeof a&&a;
c||b.data("scrollspy",c=new f(this,g));if("string"==typeof a)c[a]()})};d.fn.scrollspy.Constructor=f;d.fn.scrollspy.defaults={offset:10};d(window).on("load",function(){d('[data-foundry-spy="scroll"]').each(function(){var a=d(this);a.scrollspy(a.data())})})}(f);!function(d){var f=function(a){this.element=d(a)};f.prototype={constructor:f,show:function(){var a=this.element,b=a.closest("ul:not(.dropdown-menu)"),c=a.attr("data-target"),g,e;c||(c=(c=a.attr("href"))&&c.replace(/.*(?=#[^\s]*$)/,""));a.parent("li").hasClass("active")||
(g=b.find(".active:last a")[0],e=d.Event("show",{relatedTarget:g}),a.trigger(e),e.isDefaultPrevented()||(c=d(c),this.activate(a.parent("li"),b),this.activate(c,c.parent(),function(){a.trigger({type:"shown",relatedTarget:g})})))},activate:function(a,b,c){function g(){e.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");a.addClass("active");h?(a[0].offsetWidth,a.addClass("in")):a.removeClass("fade");a.parent(".dropdown-menu")&&a.closest("li.dropdown").addClass("active");
c&&c()}var e=b.find("> .active"),h=c&&d.support.transition&&e.hasClass("fade");h?e.one(d.support.transition.end,g):g();e.removeClass("in")}};d.fn.tab=function(a){return this.each(function(){var b=d(this),c=b.data("tab");c||b.data("tab",c=new f(this));if("string"==typeof a)c[a]()})};d.fn.tab.Constructor=f;d(document).on("click.tab.data-api",'[data-foundry-toggle="tab"], [data-foundry-toggle="pill"]',function(a){a.preventDefault();d(this).tab("show")})}(f);!function(d){var f=function(a,b){this.$element=
d(a);this.options=d.extend({},d.fn.typeahead.defaults,b);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.highlighter=this.options.highlighter||this.highlighter;this.updater=this.options.updater||this.updater;this.$menu=d(this.options.menu).appendTo("body");this.source=this.options.source;this.shown=!1;this.listen()};f.prototype={constructor:f,select:function(){var a=this.$menu.find(".active").attr("data-value");this.$element.val(this.updater(a)).change();
return this.hide()},updater:function(a){return a},show:function(){var a=d.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});this.$menu.css({top:a.top+a.height,left:a.left});this.$menu.show();this.shown=!0;return this},hide:function(){this.$menu.hide();this.shown=!1;return this},lookup:function(a){this.query=this.$element.val();return!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(a=d.isFunction(this.source)?this.source(this.query,d.proxy(this.process,
this)):this.source)?this.process(a):this},process:function(a){var b=this;a=d.grep(a,function(a){return b.matcher(a)});a=this.sorter(a);return a.length?this.render(a.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){for(var b=[],c=[],d=[],e;e=a.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?c.push(e):d.push(e):b.push(e);return b.concat(c,d)},highlighter:function(a){var b=
this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return a.replace(RegExp("("+b+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},render:function(a){var b=this;a=d(a).map(function(a,g){a=d(b.options.item).attr("data-value",g);a.find("a").html(b.highlighter(g));return a[0]});a.first().addClass("active");this.$menu.html(a);return this},next:function(a){a=this.$menu.find(".active").removeClass("active").next();a.length||(a=d(this.$menu.find("li")[0]));a.addClass("active")},prev:function(a){a=
this.$menu.find(".active").removeClass("active").prev();a.length||(a=this.$menu.find("li").last());a.addClass("active")},listen:function(){this.$element.on("blur",d.proxy(this.blur,this)).on("keypress",d.proxy(this.keypress,this)).on("keyup",d.proxy(this.keyup,this));if(this.eventSupported("keydown"))this.$element.on("keydown",d.proxy(this.keydown,this));this.$menu.on("click",d.proxy(this.click,this)).on("mouseenter","li",d.proxy(this.mouseenter,this))},eventSupported:function(a){var b=a in this.$element;
b||(this.$element.setAttribute(a,"return;"),b="function"===typeof this.$element[a]);return b},move:function(a){if(this.shown){switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault();this.prev();break;case 40:a.preventDefault(),this.next()}a.stopPropagation()}},keydown:function(a){this.suppressKeyPressRepeat=!~d.inArray(a.keyCode,[40,38,9,13,27]);this.move(a)},keypress:function(a){this.suppressKeyPressRepeat||this.move(a)},keyup:function(a){switch(a.keyCode){case 40:case 38:case 16:case 17:case 18:break;
case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}a.stopPropagation();a.preventDefault()},blur:function(a){var b=this;setTimeout(function(){b.hide()},150)},click:function(a){a.stopPropagation();a.preventDefault();this.select()},mouseenter:function(a){this.$menu.find(".active").removeClass("active");d(a.currentTarget).addClass("active")}};d.fn.typeahead=function(a){return this.each(function(){var b=d(this),c=b.data("typeahead"),
g="object"==typeof a&&a;c||b.data("typeahead",c=new f(this,g));if("string"==typeof a)c[a]()})};d.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1};d.fn.typeahead.Constructor=f;d(document).on("focus.typeahead.data-api",'[data-foundry-provide="typeahead"]',function(a){var b=d(this);b.data("typeahead")||(a.preventDefault(),b.typeahead(b.data()))})}(f);!function(d){var f=function(a,b){this.options=d.extend({},d.fn.affix.defaults,
b);this.$window=d(window).on("scroll.affix.data-api",d.proxy(this.checkPosition,this)).on("click.affix.data-api",d.proxy(function(){setTimeout(d.proxy(this.checkPosition,this),1)},this));this.$element=d(a);this.checkPosition()};f.prototype.checkPosition=function(){if(this.$element.is(":visible")){var a=d(document).height(),b=this.$window.scrollTop(),c=this.$element.offset(),g=this.options.offset,e=g.bottom,h=g.top;"object"!=typeof g&&(e=h=g);"function"==typeof h&&(h=g.top());"function"==typeof e&&
(e=g.bottom());a=null!=this.unpin&&b+this.unpin<=c.top?!1:null!=e&&c.top+this.$element.height()>=a-e?"bottom":null!=h&&b<=h?"top":!1;this.affixed!==a&&(this.affixed=a,this.unpin="bottom"==a?c.top-b:null,this.$element.removeClass("affix affix-top affix-bottom").addClass("affix"+(a?"-"+a:"")))}};d.fn.affix=function(a){return this.each(function(){var b=d(this),c=b.data("affix"),g="object"==typeof a&&a;c||b.data("affix",c=new f(this,g));if("string"==typeof a)c[a]()})};d.fn.affix.Constructor=f;d.fn.affix.defaults=
{offset:0};d(window).on("load",function(){d('[data-foundry-spy="affix"]').each(function(){var a=d(this),b=a.data();b.offset=b.offset||{};b.offsetBottom&&(b.offset.bottom=b.offsetBottom);b.offsetTop&&(b.offset.top=b.offsetTop);a.affix(b)})})}(f);!function(d){var f=function(a,b){this.$element=d(a);this.$note=d('<div class="alert"></div>');this.options=d.extend(!0,d.fn.notify.defaults,b);this.options.transition?"fade"==this.options.transition?this.$note.addClass("in").addClass(this.options.transition):
this.$note.addClass(this.options.transition):this.$note.addClass("fade").addClass("in");this.options.type?this.$note.addClass("alert-"+this.options.type):this.$note.addClass("alert-success");this.options.message||""===this.$element.data("message")?"object"===typeof this.options.message&&(this.options.message.html?this.$note.html(this.options.message.html):this.options.message.text?this.$note.text(this.options.message.text):this.$note.html(this.options.message)):this.$note.html(this.$element.data("message"));
if(this.options.closable)var c=d('<a class="close pull-right" href="javascript: void(0);">&times;</a>');d(c).on("click",d.proxy(onClose,this));this.$note.prepend(c);return this};onClose=function(){this.options.onClose();d(this.$note).remove();this.options.onClosed()};f.prototype.show=function(){this.options.fadeOut.enabled&&this.$note.delay(this.options.fadeOut.delay||3E3).fadeOut("slow",d.proxy(onClose,this));this.$element.append(this.$note);this.$note.alert()};f.prototype.hide=function(){this.options.fadeOut.enabled?
this.$note.delay(this.options.fadeOut.delay||3E3).fadeOut("slow",d.proxy(onClose,this)):onClose.call(this)};d.fn.notify=function(a){return new f(this,a)};d.fn.notify.defaults={type:"success",closable:!0,transition:"fade",fadeOut:{enabled:!0,delay:3E3},message:null,onClose:function(){},onClosed:function(){}}}(f)});
FD31.plugin("responsive",function(f){f.responsive=function(b,c){return new a(b,c)};f.fn.responsive=function(a){a&&f.responsive(this,{elementWidth:function(a){return a.outerWidth(!0)},conditions:a});return this};var d=f(window),k=f.isFunction,a=function(a,c){var g=this;a=f(a);var e=a.data("$responsive");e&&e.destroy();f.extend(g,{elem:a,options:c,conditions:f.sortBy(f.makeArray(c.conditions),function(a){return a.at}),event:"resize.responsive"+f.uid(),handler:f.debounce(function(){g.set()},250)});delete c.conditions;
a.data("$responsive",g);f(function(){d.on(g.event,g.handler);g.set()});f(window).load(function(){g.set()})};f.extend(a.prototype,{set:function(){var a=this,c=a.options.elementWidth;a.elem.each(function(){var d=f(this),e=k(c)?c(d):c;a.removeCondition(d.data("currentCondition"),d);f.each(a.conditions,function(c,m){if(e<=m.at)return a.applyCondition(m,d),!1})})},applyCondition:function(a,c){var d,e,h,m;(d=a.switchTo)&&c.addClass(d);(e=a.alsoSwitch)&&f.each(e,function(a,b){f(a).addClass(b)});(h=a.switchStylesheet)&&
f.each(f.makeArray(h),function(a,b){1>f('link[href$="'+b+'"]').length&&f("<link/>").attr({rel:"stylesheet",type:"text/css",href:b}).appendTo("head")});(m=a.whenApplied)&&k(m)&&m();c.data("currentCondition",a).trigger("responsive",[a])},removeCondition:function(a,c){if(a){var d,e,h,m;(d=a.switchTo)&&c.removeClass(d);(e=a.alsoSwitch)&&f.each(e,function(a,b){f(a).removeClass(b)});(h=a.switchStylesheet)&&f.each(f.makeArray(h),function(a,b){f('link[href$="'+b+'"]').remove()});(m=a.whenRemoved)&&k(m)&&
m();c.removeData("currentCondition")}},resetToDefault:function(a){var c=this,d=c.elem;f.each(c.conditions,function(e,h){a&&e==a||c.removeCondition(h,d)})},destroy:function(){d.off(this.event);var a=this;a.elem.each(function(){var c=f(this);a.removeCondition(c.data("currentCondition"),c)})}})});
FD31.plugin("utils",function(f){f.IE=function(){if(-1!=navigator.appVersion.indexOf("MSIE 10"))return 10;for(var d=3,f=document.createElement("div"),a=f.getElementsByTagName("i");d++,f.innerHTML="\x3c!--[if gt IE "+d+"]><i></i><![endif]--\x3e",a[0];);return 4<d?d:void 0}();f.uid=function(d,f){return(d?d:"")+Math.random().toString().replace(".","")+(f?f:"")};f.isDeferred=function(d){return d&&f.isFunction(d.always)};f.distinct=function(d){var k=f.unique;if(!(1>d.length)){if(d[0].nodeType)return k.apply(this,
arguments);if("object"==typeof d[0]){var a=Math.random(),b=[];f.each(d,function(c){d[c][a]||(b.push(d[c]),d[c][a]=!0)});f.each(b,function(c){delete b[c][a]});return b}return f.grep(d,function(a,b){return f.inArray(a,d)===b})}};f.trimSeparators=function(d,k,a){d=d.replace(RegExp("^["+k+"\\s]+|["+k+",\\s]+$","g"),"").replace(RegExp(k+"["+k+"\\s]*"+k,"g"),k).replace(RegExp("[\\s]+"+k,"g"),k).replace(RegExp(k+"[\\s]+","g"),k);a&&(d=f.distinct(d.split(k)).join(k));return d};f.isNumeric=function(d){return!isNaN(parseFloat(d))&&
isFinite(d)};f.Number={rotate:function(d,f,a,b){void 0===b&&(b=0);d+=b;d<f?d+=a+1:d>a&&(d-=a+1);return d}};f.fn.stretchToFit=function(){return f.each(this,function(){var d=f(this);d.css("width","100%").css("width",2*d.width()-d.outerWidth(!0)-parseInt(d.css("borderLeftWidth"))-parseInt(d.css("borderRightWidth")))})};f.fn.serializeObject=function(){var d={};f.each(f(this).serializeArray(),function(k,a){d.hasOwnProperty(a.name)?(f.isArray(d[a.name])||(d[a.name]=[d[a.name]]),d[a.name].push(a.value)):
d[a.name]=a.value});return d};f.fn.serializeJSON=function(){return JSON.stringify(f(this).serializeObject())};f.toHTML=function(d){return f("<div>").html(d).html()};f.fn.toHTML=function(){return f.toHTML(this.clone())};(function(){var d=function(d){this.items=d;this.start=0;this.end=d.length-1;this.node=null;this.stopped=!1};f.extend(d.prototype,{isLooping:function(){return this.stopped?!1:1<Math.abs(this.start-this.end)?(this.node=Math.floor((this.start+this.end)/2),!0):!1},flip:function(d){d?this.end=
this.node-1:this.start=this.node+1},stop:function(){this.stop=!0}});f.Bloop=function(f){return new d(f)}})();f.remap=function(d,k,a){f.each(a,function(a,c){d[c]=k[c]});return obj};f.deletes=function(d,k){f.each(k,function(a,b){delete d[b]})};(function(){var d=function(d){this.threads=[];this.threadCount=0;this.threadLimit=d.threadLimit||1;this.threadDelay=d.threadDelay||0};f.extend(d.prototype,{add:function(d,a){f.isFunction(d)&&(d.type=a||"normal","deferred"==a&&(d.deferred=f.Deferred().always(f.proxy(this.next,
this))),this.threads.push(d),this.run())},addDeferred:function(d){return this.add(d,"deferred")},next:function(){this.threadCount--;this.run()},run:function(){var d=this;setTimeout(function(){if(!(1>d.threads.length)&&d.threadCount<d.threadLimit){d.threadCount++;var a=d.threads.shift();try{a.call(a,a.deferred)}catch(b){console.error(b)}!a.deferred&&d.next()}},d.threadDelay)}});f.Threads=function(f){return new d(f)}})();(function(){var d=f.isFunction,k=function(){this.lastId=0};k.prototype.queue=function(a){var b=
this,c=f.uid();b.lastId=c;return function(){if(b.lastId===c){var g=arguments,g=d(a)?a.apply(this,g):g;return d(b.fn)?b.fn.apply(this,g):g}}};f.Enqueue=function(a){var b=new k;f.isFunction(a)&&(b.fn=a);a=f.proxy(b.queue,b);a.reset=function(){b.lastId=0};return a}})();(function(){var d=["on","off","fire"],k=function(a){this.fnList={};this.events={};this.mode=a};f.extend(k.prototype,{createEvent:function(a){return this.events[a]=f.Callbacks(this.mode)},on:function(a,b){if(!a||!f.isFunction(b))return this;
var c=this.fnList;(c[a]||(c[a]=[])).push(b);c=a.split(".")[0];(this.events[c]||this.createEvent(c)).add(b);return this},off:function(a){if(!a)return this;var b=a.split(".")[0],c=this.events[b];if(!c)return this;var d=function(a){f.each(a,function(a,b){c.remove(b)})};b!==a?f.each(this.fnList,function(a,c){-1<a.indexOf(b)&&d(c)}):d(this.fnList[a]);return this},fire:function(a){var b=this.events[a];if(b)return b.fire.apply(b,f.makeArray(arguments).slice(1)),this},destroy:function(){for(name in this.events)this.events[name].disable()}});
f.eventable=function(a,b){var c=a.___eventable;if(c&&"destroy"===b)return c.destroy(),f.deletes(a,d),delete a.___eventable;c=a.___eventable=new k(b);a.on=f.proxy(c.on,c);a.off=f.proxy(c.off,c);a.fire=f.proxy(c.fire,c);return a}})();f.Chunk=function(d,k){f.isArray(d)&&(d=[]);k=f.extend({},{size:256,every:1E3},k);var a=f.extend(f.Deferred(),{size:k.size,every:k.every,from:0,to:d.length,process:function(b){a.process.fn=b;return a},chunkStart:function(b){a.chunkStart.fn=b;return a},chunkEnd:function(b){a.chunkEnd.fn=
b;return a},start:function(){a.stopped=!1;a.iterate();return a},iterate:function(){if(!a.stopped){var b=a.process.fn;if(b){a.to=from.size+a.size;var c=d.length;a.to>c&&(a.to=c);var c=a.from,g=a.to;for(a.chunkStart.fn&&a.chunkStart.fn.call(a,c,g);a.from<a.to&&!a.stopped;)b.call(a,d[a.from]),a.from++;a.chunkEnd.fn&&a.chunkEnd.fn.call(a,c,g);a.completed=a.from>=d.length-1;a.completed?a.resolveWith(a):a.nextIteration=setTimeout(a.iterate,a.every);return a}}},pause:function(){a.stopped=!0;clearTimeout(a.nextIteration);
return a},restart:function(){if("rejected"===a.state())return a;a.from=0;a.start();return a},stop:function(){a.pause();a.rejectWith(a,[a.from]);return a}});return a};f.fn.disabled=function(d){return void 0===d?this.is(":disabled")||this.hasClass("disabled"):this.prop("disabled",!!d).toggleClass("disabled",!!d)};f.fn.enabled=function(d){return void 0===d?!this.disabled():this.disabled(!d)};(function(){var d=f.Ajax=function(k){var a=f.Deferred(),b=arguments;f.isPlainObject(k)&&f.isFunction(k.beforeCreate)&&
k.beforeCreate(a);d.queue.addDeferred(function(c){a.xhr=f.ajax.apply(null,b).pipe(a.resolve,a.reject,a.notify);setTimeout(c.resolve,d.requestInterval)});return a};d.queue=f.Threads({threadLimit:1});d.requestInterval=1200})();f.callback=function(d,k){if(f.isFunction(d)){var a=f.uid("cb");window[a]=function(){k||delete window[a];return d.apply(null,arguments)};return a}if(f.isString(d))switch(d){case "destroy":a=k,delete window[a]}};f.fn.visible=function(d){var k=f(this),a=f(window);if(!(1>k.length)){var b=
a.scrollTop(),a=b+a.height(),c=k.offset().top,k=c+k.height();return(!0===d?c:k)<=a&&(!0===d?k:c)>=b}};f.fn.selectAll=function(){return this.each(function(){this.select()})};f.fn.unselect=function(){return this.each(function(){var d=this.value;this.value+=" ";this.value=d})};f.fn.addTransitionClass=function(d,f){var a=this.addClass(d);setTimeout(function(){a.removeClass(d)},f||0);return this};f.fn.switchClass=function(d,k){k=k||"-";var a=d.split(k)[0]+k,b=a.length;return this.each(function(){var c=
f(this),g=f.map(c.attr("class").split(" "),function(c){return c.slice(0,b)==a||""==c?null:c});g.push(d);c.attr("class",g.join(" "))})};f.sanitizeHTML=function(d){return f(f.parseHTML(d)).toHTML()};f.buildHTML=function(d,k){if(d instanceof f)return d;d=f.trim(d);var a=[],b=f.buildFragment([d],document,a),b=f.merge([],b.childNodes);if(!k&&0<a.length){var c=document.createElement("script");c.text=f.callback(function(){f(a).remove()})+"();";for(var g=b.length-1,e,h;(e=b[g--])&&("SCRIPT"===e.nodeName?
h=b.push(c):1===e.nodeType&&(h=e.appendChild(c)),!h););h||b.push(c);a.push(c)}return f(b)};f.fn.filterBy=function(d,f,a){a=a||"=";d="[data-"+d.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()+a+f+"]";return this.filter(d)};f.intersects=function(d,k){f.isArray(k)&&(k={top:k.y,left:k.x,bottom:k.y,right:k.x});return k.left<=d.right&&d.left<=k.right&&k.top<=d.bottom&&d.top<=k.bottom};f.fn.intersectsWith=function(d,k,a,b){var c=this.offset(),c={top:c.top,left:c.left,bottom:c.top+(sourceHeight=this.height()),
right:c.left+(sourceWidth=this.width()),width:sourceWidth,height:sourceHeight};d={top:d,left:k,bottom:d+(b||(b=0)),right:k+(a||(a=0)),width:a,height:b};return f.intersects(c,d)?{reference:c,subject:d}:!1};f.download=function(d){return f("<iframe>").hide().appendTo("body").bind("load",function(){f(this).remove()}).attr("src",d)}});
FD31.plugin("uri",function(f){f.isUrl=function(a){return/^(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(a)};var d=function(a){var b=function(a){var b=[],c,e,d,g;if("undefined"===typeof a||null===a||""===a)return b;0===a.indexOf("?")&&(a=a.substring(1));c=a.toString().split(/[&;]/);for(a=0;a<c.length;a++)e=c[a],d=e.split("="),g=d[0],e=-1===e.indexOf("=")?null:null===d[1]?"":d[1],b.push([g,e]);return b}(a),c=function(a){a=decodeURIComponent(a);return a=a.replace("+",
" ")},d=function(a,e){var d=[],g,f,k,w;for(g=0;g<b.length;g++)f=b[g],k=c(f[0])===c(a),w=c(f[1])===c(e),(1===arguments.length&&!k||2===arguments.length&&!k&&!w)&&d.push(f);b=d;return this},e=function(a,c,e){3===arguments.length&&-1!==e?(e=Math.min(e,b.length),b.splice(e,0,[a,c])):0<arguments.length&&b.push([a,c]);return this};return{getParamValue:function(a){var e,d;for(d=0;d<b.length;d++)if(e=b[d],c(a)===c(e[0]))return e[1]},getParamValues:function(a){var e=[],d,g;for(d=0;d<b.length;d++)g=b[d],c(a)===
c(g[0])&&e.push(g[1]);return e},deleteParam:d,addParam:e,replaceParam:function(a,m,f){var k=-1,p,q;if(3===arguments.length){for(p=0;p<b.length;p++)if(q=b[p],c(q[0])===c(a)&&decodeURIComponent(q[1])===c(f)){k=p;break}d(a,f).addParam(a,m,k)}else{for(p=0;p<b.length;p++)if(q=b[p],c(q[0])===c(a)){k=p;break}d(a);e(a,m,k)}return this},toString:function(){var a="",c,e;for(c=0;c<b.length;c++)e=b[c],0<a.length&&(a+="&"),a=null===e[1]?a+e[0]:a+e.join("=");return 0<a.length?"?"+a:a}}},k=function(a){var b=/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi,
c=function(a){var b="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");a=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(a);for(var c={},e=14;e--;)c[b[e]]=a[e]||"";c.queryKey={};c[b[12]].replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,b,e){b&&(c.queryKey[b]=e)});return c}(a||""),g=new d(c.query),
e=function(a){"undefined"!==typeof a&&(c.protocol=a);return c.protocol},h=null,m=function(a){"undefined"!==typeof a&&(h=a);return null===h?-1!==c.source.indexOf("//"):h},f=function(a){"undefined"!==typeof a&&(c.userInfo=a);return c.userInfo},n=function(a){"undefined"!==typeof a&&(c.host=a);return c.host},p=function(a){"undefined"!==typeof a&&(c.port=a);return c.port},q=function(a){"undefined"!==typeof a&&(c.path=a);return c.path},w=function(a){"undefined"!==typeof a&&(g=new d(a));return g},u=function(a){"undefined"!==
typeof a&&(c.anchor=a);return c.anchor},v=function(){var a="",b=function(a){return null!==a&&""!==a};b(e())?(a+=e(),e().indexOf(":")!==e().length-1&&(a+=":"),a+="//"):m()&&b(n())&&(a+="//");b(f())&&b(n())&&(a+=f(),f().indexOf("@")!==f().length-1&&(a+="@"));b(n())&&(a+=n(),b(p())&&(a+=":"+p()));b(q())?a+=q():b(n())&&(b(w().toString())||b(u()))&&(a+="/");b(w().toString())&&(0!==w().toString().indexOf("?")&&(a+="?"),a+=w().toString());b(u())&&(0!==u().indexOf("#")&&(a+="#"),a+=u());return a};return{protocol:e,
hasAuthorityPrefix:m,userInfo:f,host:n,port:p,path:q,query:w,anchor:u,setProtocol:function(a){e(a);return this},setHasAuthorityPrefix:function(a){m(a);return this},setUserInfo:function(a){f(a);return this},setHost:function(a){n(a);return this},setPort:function(a){p(a);return this},setPath:function(a){q(a);return this},setQuery:function(a){w(a);return this},setAnchor:function(a){u(a);return this},getQueryParamValue:function(a){return w().getParamValue(a)},getQueryParamValues:function(a){return w().getParamValues(a)},
deleteQueryParam:function(a,b){2===arguments.length?w().deleteParam(a,b):w().deleteParam(a);return this},addQueryParam:function(a,b,c){3===arguments.length?w().addParam(a,b,c):w().addParam(a,b);return this},replaceQueryParam:function(a,b,c){3===arguments.length?w().replaceParam(a,b,c):w().replaceParam(a,b);return this},extract:function(c){var e=a.match(b)||[];return void 0===c?e:e[c]||""},toPath:function(a){if(void 0===a)return c.path;if("/"==a.substring(0,1))return c.path=a;var b=c.path.split("/");
a=a.split("/");""===b.slice(-1)[0]&&b.pop();for(var e;e=a.shift();)switch(e){case "..":1<b.length&&b.pop();break;case ".":break;default:b.push(e)}c.path=b.join("/");return this},toString:v,clone:function(){return new k(v())}}};f.uri=function(a){return new k(a)}});
FD31.plugin("mvc",function(f){(function(){var d={undHash:/_|-/,colons:/::/,words:/([A-Z]+)([A-Z][a-z])/g,lowUp:/([a-z\d])([A-Z])/g,dash:/([a-z\d])([A-Z])/g,replacer:/\{([^\}]+)\}/g,dot:/\./},k=function(a,b,c){return void 0!==a[b]?a[b]:c&&(a[b]={})},a=function(a){var b=typeof a;return a&&("function"==b||"object"==b)},b,c=f.String=f.extend(f.String||{},{getObject:b=function(b,c,h){b=b?b.split(d.dot):[];var m=b.length,r,n,p,q=0;c=f.isArray(c)?c:[c||window];if(0==m)return c[0];for(;r=c[q++];){for(p=0;p<
m-1&&a(r);p++)r=k(r,b[p],h);if(a(r)&&(n=k(r,b[p],h),void 0!==n))return!1===h&&delete r[b[p]],n}},capitalize:function(a,b){return a.charAt(0).toUpperCase()+a.substr(1)},camelize:function(a){a=c.classize(a);return a.charAt(0).toLowerCase()+a.substr(1)},classize:function(a,b){for(var h=a.split(d.undHash),m=0;m<h.length;m++)h[m]=c.capitalize(h[m]);return h.join(b||"")},niceName:function(a){return c.classize(a," ")},underscore:function(a){return a.replace(d.colons,"/").replace(d.words,"$1_$2").replace(d.lowUp,
"$1_$2").replace(d.dash,"_").toLowerCase()},sub:function(a,c,h){var m=[];m.push(a.replace(d.replacer,function(a,d){var g=b(a,c,"boolean"==typeof h?!h:h)||b(d,c,"boolean"==typeof h?!h:h),f=typeof g;if("object"!==f&&"function"!==f||null===f)return""+g;m.push(g);return""}));return 1>=m.length?m[0]:m},_regs:d})})();(function(){f.String.rsplit=function(d,f){for(var a=f.exec(d),b=[],c;null!==a;)c=a.index,0!==c&&(b.push(d.substring(0,c)),d=d.slice(c)),b.push(a[0]),d=d.slice(a[0].length),a=f.exec(d);""!==
d&&b.push(d);return b}})();(function(){var d=/^\d+$/,k=/([^\[\]]+)|(\[\])/g,a=/\+/g,b=/([^?#]*)(#.*)?$/;f.String=f.extend(f.String||{},{deparam:function(c){if(!c||!b.test(c))return{};var g={};c=c.split("&");for(var e,h=0;h<c.length;h++){e=g;var m=c[h].split("=");2!=m.length&&(m=[m[0],m.slice(1).join("=")]);for(var f=decodeURIComponent(m[0].replace(a," ")),m=decodeURIComponent(m[1].replace(a," ")),f=f.match(k),n=0;n<f.length-1;n++){var p=f[n];e[p]||(e[p]=d.test(f[n+1])||"[]"==f[n+1]?[]:{});e=e[p]}lastPart=
f[f.length-1];"[]"==lastPart?e.push(m):e[lastPart]=m}return g}})})();(function(){var d=f.cleanData;f.cleanData=function(k){for(var a=0,b;void 0!==(b=k[a]);a++)f(b).triggerHandler("destroyed");d(k)}})();(function(){var d=f.fn.closest;f.fn.closest=function(k,a){var b={},c,g,e,h,m=!0,r=k;"string"==typeof k&&(r=[k]);f.each(r,function(a,c){if(0==c.indexOf(">")){if(-1!=c.indexOf(" "))throw" closest does not work with > followed by spaces!";b[r[a]=c.substr(1)]=c;"string"==typeof k&&(k=c.substr(1));m=!1}});
c=d.call(this,k,a);if(m)return c;for(e=0;e<c.length;){g=c[e];h=g.selector;if(void 0!==b[h]&&(g.selector=b[h],b[h]=!1,"string"!==typeof g.selector||g.elem.parentNode!==a)){c.splice(e,1);continue}e++}return c}})();(function(){f.cookie=function(d,f,a){if("undefined"!=typeof f){a=a||{};null===f&&(f="",a.expires=-1);"object"==typeof f&&jQuery.toJSON&&(f=jQuery.toJSON(f));var b="";a.expires&&("number"==typeof a.expires||a.expires.toUTCString)&&("number"==typeof a.expires?(b=new Date,b.setTime(b.getTime()+
864E5*a.expires)):b=a.expires,b="; expires="+b.toUTCString());var c=a.path?"; path="+a.path:"",g=a.domain?"; domain="+a.domain:"";a=a.secure?"; secure":"";document.cookie=[d,"=",encodeURIComponent(f),b,c,g,a].join("")}else{f=null;if(document.cookie&&""!=document.cookie)for(a=document.cookie.split(";"),b=0;b<a.length;b++)if(c=jQuery.trim(a[b]),c.substring(0,d.length+1)==d+"="){f=decodeURIComponent(c.substring(d.length+1));break}if(jQuery.evalJSON&&f&&f.match(/^\s*\{/))try{f=jQuery.evalJSON(f)}catch(e){}return f}}})();
(function(){var d=!1,k=f.makeArray,a=f.isFunction,b=f.isArray,c=f.extend,g=f.String.getObject,e=function(a,b){return a.concat(k(b))},h=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,m=function(b,c,e){e=e||b;for(var d in b)e[d]=a(b[d])&&a(c[d])&&h.test(b[d])?function(a,b){return function(){var e=this._super,d;this._super=c[a];d=b.apply(this,arguments);this._super=e;return d}}(d,b[d]):b[d]};clss=f.Class=function(){arguments.length&&clss.extend.apply(clss,arguments)};c(clss,{proxy:function(a){var c=k(arguments),
d;a=c.shift();b(a)||(a=[a]);d=this;return function(){for(var g=e(c,arguments),h,m=a.length,f=0,k;f<m;f++)if(k=a[f])(h="string"==typeof k)&&d._set_called&&(d.called=k),g=(h?d[k]:k).apply(d,g||[]),f<m-1&&(g=!b(g)||g._use_call?[g]:g);return g}},newInstance:function(){var a=this.rawInstance(),c;a.setup&&(c=a.setup.apply(a,arguments));a.init&&a.init.apply(a,b(c)?c:arguments);return a},setup:function(a,b){this.defaults=c(!0,{},a.defaults,this.defaults);return arguments},rawInstance:function(){d=!0;var a=
new this;d=!1;return a},extend:function(a,b,h){function k(){if(!d)return this.constructor!==k&&arguments.length?arguments.callee.extend.apply(arguments.callee,arguments):this.Class.newInstance.apply(this.Class,arguments)}"string"!=typeof a&&(h=b,b=a,a=null);h||(h=b,b=null);h=h||{};var w=this.prototype,u,v,s,x;d=!0;x=new this;d=!1;m(h,w,x);for(u in this)this.hasOwnProperty(u)&&(k[u]=this[u]);m(b,this,k);if(a){var t;b&&b.root&&(t=b.root,f.isString(t)&&(t=g(t,window,!0)));s=a.split(/\./);v=s.pop();s=
t=g(s.join("."),t||window,!0);c(!0,k,t[v]);t[v]=k}c(k,{prototype:x,namespace:s,shortName:v,constructor:k,fullName:a});k.prototype.Class=k.prototype.constructor=k;v=k.setup.apply(k,e([this],arguments));k.init&&k.init.apply(k,v||e([this],arguments));return k}});clss.callback=clss.prototype.callback=clss.prototype.proxy=clss.proxy})();(function(){var d=function(a,c,e){var d,g=a.bind&&a.unbind?a:f(b(a)?[a]:a);0===c.indexOf(">")&&(c=c.substr(1),d=function(b){b.target===a&&e.apply(this,arguments)});g.bind(c,
d||e);return function(){g.unbind(c,d||e);a=c=e=d=null}},k=f.makeArray,a=f.isArray,b=f.isFunction,c=f.isString,g=f.extend,e=f.String,h=f.each,m=e.getObject,r=Array.prototype.slice,n=function(a,c,e,d){0===c.indexOf(">")&&(c=(a.data("directSelector")+" "||"")+c);var g=a.delegate&&a.undelegate?a:f(b(a)?[a]:a);g.delegate(c,e,d);return function(){g.undelegate(c,e,d);g=a=e=d=c=null}},p=function(a,b,c,e){return e?n(a,e,b,c):d(a,b,c)},q=function(a,b){var c="string"==typeof b?a[b]:b;return function(){a.called=
b;return c.apply(a,[this.nodeName?f(this):this].concat(r.call(arguments,0)))}},w=/\./g,u=/_?controllers?/ig,v=function(a){return e.underscore(a.replace(f.globalNamespace+".","").replace(w,"_").replace(u,""))},s=/^\S(.*)\s(.*)/,x=/\{([^\}]+)\}/g,t=/\{([^\.]+[\.][^\.]+)\}/g,E=/^(?:(.*?)\s)?([\w\.\:>]+)$/,z,A=function(a,b){return f.data(a,"controllers",b)},G=f.globalNamespace+".Controller";f.Controller=function(a){var b=k(arguments),c={root:G};2<b.length?(c=f.extend(c,b[1]),b=b[2]):b=b[1];c.namespace&&
(a=c.namespace+"."+a);return f.Controller.Class(a,c,b)};var L=G+".Class";f.Class(L,{setup:function(a,e){this._super.apply(this,arguments);if(this.shortName&&this.fullName!=L){this._fullName=v(this.fullName);this._shortName=v(this.shortName);var d=this,g;if(c(this.pluginName)){var h=this._fullName,m=this.pluginName;f.fn[m]||(f.fn[m]=function(a){var b=k(arguments);if(f.isString(a)&&"controller"===a){var c=A(this[0]);return c&&c[h]}return this.each(function(){var c=A(this);if(c=c&&c[h])if(f.isString(a)){var e=
c[a];f.isFunction(e)&&e.apply(c,b.slice(1))}else c.update.apply(c,b);else d.newInstance.apply(d,[this].concat(b))})})}var r=k(arguments),m=this.prototype,r=r[3<r.length?3:2];b(r)&&(this.protoFactory=r,m=this.protoFactory.call(this,null));this.actions={};for(g in m)"constructor"!=g&&b(m[g])&&this._isAction(g)&&(this.actions[g]=this._action(g));f.module("$:/Controllers/"+this.fullName).resolve(this)}},hookup:function(a){return new this(a)},_isAction:function(a){return s.test(a)?!0:-1<f.inArray(a,this.listensTo)||
f.event.special[a]||H[a]},_action:function(b,c){x.lastIndex=0;if(!c&&x.test(b))return null;var d=b=b.replace("{self} ","");if(c){var g=!1;if(t.test(b))var h,m="",d=b.replace(t,function(a,b){var e=b.split(".");h=c["{"+e[0]+"}"]||{};f.isControllerInstance(h)&&(m=(h[e[1]]||{}).selector);return m}).match(E),g=!!m,d=[h.element].concat(d||[]);g||(d=e.sub(b,[c,window]))}var g=a(d),k=(g?d[1]:d).match(E);return{processor:H[k[2]]||z,parts:k,delegate:g?d[0]:void 0}},processors:{},listensTo:[],defaults:{},hostname:"parent"},
{setup:function(a,b){var e=this,d=e.constructor,m=e.prototype,r=d._fullName;e.instanceId=f.uid(r+"_");var n=e.options=g(!0,{},d.defaults,d.defaultOptions,b),t=e.element=f(a);d.protoFactory&&(m=d.protoFactory.apply(d,[e,n,t]),g(!0,e,m));(A(a)||A(a,{}))[r]=e;t.data("directSelector")||(m=f.uid("DS"),t.addClass(m).data("directSelector","."+m));for(name in n)name.match(/^\{.+\}$/)&&(m=name.replace(/^\{|\}$/g,""),r=n[name],c(r)?e[m]=function(a,b,c){b=/^(\.|\#)$/.test(b)?b+c:b;var e=function(c){var e=a.element.find(b);
c&&(e=e.filter(c));return e};e.selector=b;e.css=function(){var a=e.cssRule;if(!a){var c=t.data("directSelector"),a=f.map(b.split(","),function(a){return c+" "+a}),a=e.cssRule=f.cssRule(a);a.important=!0}return arguments.length?a.css.apply(a,arguments):a};return e}(e,r,m):e[m]=r);var m=n.view,s=e.view;e.view=function(){return s.apply(this,arguments)};h(m||{},function(a,b){e.view[a]=function(b){var c=k(arguments);f.isBoolean(b)?c=c.slice(1):b=!1;return e.view.apply(e,[b,a].concat(c))}});f.extend(e,
n.controller);e.pluginInstances={};e.called="init";e._bind();var p=e.init||f.noop;e.init=function(){e.init=p;result=p.apply(e,arguments);e.trigger("init."+d.fullName.toLowerCase(),[e]);return result};return[t,n].concat(k(arguments).slice(2))},on:function(a){var b=k(arguments),e=this.element,d=b.length;return 2==d?this._binder(e,a,b[1]):3==d&&c(b[1])?this._binder(e,a,b[2],b[1]):this._binder(b[1],a,b[2])},_bind:function(){var a=this,b=a.constructor,c=b.actions,e=a._bindings=[],d=a.element;h(c||{},function(g,
h){if(c.hasOwnProperty(g)){var m=b.actions[g]||b._action(g,a.options);f.isControllerInstance(m.delegate)&&(m.delegate=m.delegate.element);e.push(m.processor(m.delegate||d,m.parts[2],m.parts[1],g,a))}});var g=q(this,"destroy");d.bind("destroyed",g);e.push(function(a){f(a).unbind("destroyed",g)});return e.length},_binder:function(a,b,c,e){"string"==typeof c&&(c=q(this,c));this._bindings.push(p(a,b,c,e));return this._bindings.length},_unbind:function(){var a=this.element[0];h(this._bindings,function(b,
c){c(a)});this._bindings=[]},trigger:function(a){var b=this.element;if(b){var c=f.Event(a);b.trigger.apply(b,[c].concat(f.makeArray(arguments).slice(1)));return c}},delegate:function(a,b,c,e){"string"==typeof a&&(e=c,c=b,b=a,a=this.element);return this._binder(a,c,e,b)},update:function(a){g(this.options,a);this._unbind();this._bind()},destroy:function(){if(!this._destroyed){var a=this.constructor._fullName;for(pname in this.pluginInstances)this.removePlugin(pname);this._destroyed=!0;this.element.removeClass(a);
this._unbind();delete this._actions;delete this.element.data("controllers")[a];f(this).triggerHandler("destroyed");this.element=f()}},find:function(a){return this.element.find(a)},view:function(){var a=k(arguments),b=a,c=!1,e=this.constructor.component||f,d="",d=this.options.view||{};"boolean"==typeof a[0]&&(c=a[0],b=a.slice(1));if(void 0==(b[0]=d[b[0]]))return c?"":f("");d=e.View.apply(e,b);return c?d:f(f.parseHTML(f.trim(d)))},getPlugin:function(a){return this.pluginInstances[a]},addSubscriber:function(a){a=
f.isArray(a)?a:[a||{}];var b=this,c=this.Class.hostname,e={};e["{"+c+"}"]=b;f.map(a,function(a,d){if(!f.isControllerInstance(a))return!1;if(a.options[c]===this)return a;a[c]=b;return a.update(e)});return a},addPlugin:function(a,c,e){if(a){if(!c&&!e||f.isPlainObject(c))e=c,c=[this.Class.root,this.Class.fullName,f.String.capitalize(a)].join(".");f.isString(c)&&(c=f.getController(c));var d=f.isControllerInstance(c);if(b(c)||d){e=f.extend(!0,{element:this.element},e,(this.options.plugin||{})[a]||{});
d=d?"instance":f.isController(c)?"controller":"function";this.trigger("addPlugin",[a,c,e,d]);var g=this.Class.hostname;e["{"+g+"}"]=this;var h;switch(d){case "instance":h=c;c.update(e);c[g]=this;break;case "controller":h=e.element.addController(c,e);break;case "function":h=c(this,e)}if(h)return this.pluginInstances[a]=h,"function"!==d&&(c={},c["{"+a+"}"]=h,this.update(c)),this.trigger("registerPlugin",[a,h,e,d]),h}}},removePlugin:function(a){var b=this.getPlugin(a);if(b)return this.trigger("removePlugin",
[a,b]),delete this.pluginInstances[a],f.isFunction(b.destroy)?b.destroy():null},invokePlugin:function(a,b,c){var e=this.getPlugin(a);if(e&&f.isFunction(e[b]))return this.trigger("invokePlugin",[a,e,c]),e[b].apply(this,c)},getMessageGroup:function(){var a=f.isFunction(this.messageGroup)?this.messageGroup():this.element.find("[data-message-group]");1>a.length&&(a=f("<div data-message-group></div>").prependTo(this.element));return a},setMessage:function(a,b){var c={type:"warning",message:"",parent:this.getMessageGroup(),
element:f('<div class="alert fade in"><button type="button" class="close" data-foundry-dismiss="alert">\u00d7</button></div>')},e={},e=f.isDeferred(a),e=f.isPlainObject(a)&&!e?a:{message:a,type:b||"warning"},d=f.extend({},c,e),g=d.element;if(f.isDeferred(a)){var h=arguments.callee,m=this;a.done(function(a,b){d.message=a;d.type=b||"warning";h.call(m,d);g.show()})}else g.addClass("alert-"+d.type).append(d.message),1>f("html").has(g).length&&g.appendTo(d.parent);return g},clearMessage:function(){this.getMessageGroup().empty()},
_set_called:!0});var H=f.Controller.Class.processors;z=function(a,b,c,e,d){return p(a,b,q(d,e),c)};h("change click contextmenu dblclick keydown keyup keypress mousedown mousemove mouseout mouseover mouseup reset resize scroll select submit focusin focusout mouseenter mouseleave".split(" "),function(a,b){H[b]=z});var D=function(a){c(a)&&(a=a.replace("$.Controller",G),a=m(a)||m(G+"."+a));if(C(a))return a},C=function(a){return b(a)&&a.hasOwnProperty("_fullName")},I=function(b){return f.map(b,function(b){return a(b)?
I(b):D(b)})};f.getController=D;f.isController=function(a){return!!D(a)};f.isControllerInstance=function(a){return a&&a.constructor&&C(a.constructor)};f.isControllerOf=function(b,c){if(!c)return!1;a(c)||(c=[c]);for(var e=0;e<c.length;e++){var d=D(c[e]);if(b instanceof d)return!0}return!1};f.fn.extend({controllers:function(){var a=I(k(arguments)),b=[];this.each(function(){var c=f.data(this,"controllers");h(c||{},function(e,d){c.hasOwnProperty(e)&&(a.length&&!f.isControllerOf(d,a)||b.push(d))})});return b},
controller:function(a,b){if(void 0===b)return this.controllers(a)[0];this.addController.apply(this,arguments);return this},hasController:function(a){return(a=(D(a)||{})._fullName||(c(a)?v(a.replace("$.Controller",G)):""))?(f(this).data("controllers")||{}).hasOwnProperty(a):!1},addController:function(a,c,e){var d=D(a);if(d){var g=[];this.each(function(){if(1===this.nodeType&&"SCRIPT"!=this.nodeName){var h=f(this).controller(a);h||(h=new d(this,c),b(e)&&e.apply(h,[f(this),h]));g.push(h)}});return 1<
g.length?g:g[0]}},removeController:function(a){this.each(function(){for(var b=f(this).controllers(a);b.length;)b.shift().destroy()});return this},addControllerWhenAvailable:function(a){var b=this,e=arguments,d=f.Deferred();f.isController(a)&&(a=a.fullName);if(!c(a))return d.reject();f.module("$:/Controllers/"+a).pipe(function(){var a=b.addController.apply(b,e);d.resolveWith(a,[b,a])},d.reject,d.fail);return d},implement:function(){this.addController.apply(this,arguments);return this}})})();(function(){var d=
function(a){return a.replace(/^\/\//,"").replace(/[\/\.]/g,"_")},k=f.makeArray,a=1,b=f.View=function(a,b,c,d){"function"===typeof c&&(d=c,c=void 0);var m=e(b);if(m.length){var r=f.Deferred();m.push(f.ajax({url:a,dataType:"view",async:!0}));f.when.apply(f,m).then(function(a){var e=k(arguments),m=e.pop()[0];if(g(b))b=h(a);else for(var f in b)g(b[f])&&(b[f]=h(e.shift()));e=m(b,c);r.resolve(e);d&&d(e)});return r.promise()}var n,m="function"===typeof d,r=f.ajax({url:a,dataType:"view",async:m});m?(n=r,
r.done(function(a){d(a(b,c))})):r.done(function(a){n=a(b,c)});return n},c=function(a,b){if(!a.match(/[^\s]/))throw"$.View ERROR: There is no template or an empty template at "+b;},g=function(a){return a&&f.isFunction(a.always)},e=function(a){var b=[];if(g(a))return[a];for(var c in a)g(a[c])&&b.push(a[c]);return b},h=function(a){return f.isArray(a)&&3===a.length&&"success"===a[1]?a[0]:a};f.ajaxTransport("view",function(a,e){var g=e.url,h=g.match(/\.[\w\d]+$/),m,k,r,n,p=function(a){a=m.renderer(r,a);
b.cache&&(b.cached[r]=a);return{view:a}};if(k=document.getElementById(g))h="."+k.type.match(/\/(x\-)?(.+)/)[2];h||(h=b.ext,g+=b.ext);r=d(g);if(g.match(/^\/\//))var q=g.substr(2),g="undefined"===typeof steal?g="/"+q:steal.root.mapJoin(q)+"";m=b.types[h];var v=f.template()[e.url];return{send:function(a,d){if(v)return m=b.types["."+v.type],d(200,"success",p(v.content));if(b.cached[r])return d(200,"success",{view:b.cached[r]});k?d(200,"success",p(k.innerHTML)):n=f.ajax({async:e.async,url:g,dataType:"text",
error:function(){c("",g);d(404)},success:function(a){c(a,g);d(200,"success",p(a))}})},abort:function(){n&&n.abort()}}});f.extend(b,{hookups:{},hookup:function(c){var e=++a;b.hookups[e]=c;return e},cached:{},cache:!0,register:function(a){this.types["."+a.suffix]=a;window.steal&&steal.type(a.suffix+" view js",function(a,c,e){e=b.types["."+a.type];var g=d(a.rootSrc+"");a.text=e.script(g,a.text);c()})},types:{},ext:".ejs",registerScript:function(a,c,e){return"$.View.preload('"+c+"',"+b.types["."+a].script(c,
e)+");"},preload:function(a,c){b.cached[a]=function(a,b){return c.call(a,a,b)}}});window.steal&&steal.type("view js",function(a,c,e){e=b.types["."+a.type];var g=d(a.rootSrc+"");a.text="steal('"+(e.plugin||"jquery/view/"+a.type)+"').then(function($){$.View.preload('"+g+"',"+a.text+");\n})";c()});var m,r,n,p,q,w,u,v={val:!0,text:!0};m=function(a){var c=f.fn[a];f.fn[a]=function(){var e=k(arguments),d,h,m=this;if(g(e[0]))return e[0].done(function(a){r.call(m,[a],c)}),this;if(n(e)){if(d=w(e))return h=
e[d],e[d]=function(a){r.call(m,[a],c);h.call(m,a)},b.apply(b,e),this;e=b.apply(b,e);if(g(e))return e.done(function(a){r.call(m,[a],c)}),this;e=[e]}return v[a]?c.apply(this,e):r.call(this,e,c)}};r=function(a,c){var e,d;for(e in b.hookups)break;e&&a[0]&&p(a[0])&&(d=b.hookups,b.hookups={},a[0]=f(a[0]));e=c.apply(this,a);d&&u(a[0],d);return e};n=function(a){var b=typeof a[1];return"string"==typeof a[0]&&("object"==b||"function"==b)&&!q(a[1])};q=function(a){return a.nodeType||a.jquery};p=function(a){return q(a)?
!0:"string"===typeof a?(a=f.trim(a),"<"===a.substr(0,1)&&">"===a.substr(a.length-1,1)&&3<=a.length):!1};w=function(a){return"function"===typeof a[3]?3:"function"===typeof a[2]&&2};u=function(a,c){var e,d,g=0,h,m;a=a.filter(function(){return 3!=this.nodeType});e=a.add("[data-view-id]",a);for(d=e.length;g<d;g++)e[g].getAttribute&&(h=e[g].getAttribute("data-view-id"))&&(m=c[h])&&(m(e[g],h),delete c[h],e[g].removeAttribute("data-view-id"));f.extend(b.hookups,c)};f.fn.hookup=function(){var a=b.hookups;
b.hookups={};u(this,a);return this};f.each("prepend append after before text html replaceWith val".split(" "),function(a,b){m(b)})})();(function(){var d=function(a){eval(a)},k=f.String.rsplit,a=f.extend,b=f.isArray,c=/\r\n/g,g=/\r/g,e=/\n/g,h=/\n/,m=/\\/g,r=/"/g,n=/'/g,p=/\t/g,q=/\{/g,w=/\}/g,u=/\s*\(([\$\w]+)\)\s*->([^\n]*)/,v=function(a){return a.replace(m,"\\\\").replace(e,"\\n").replace(r,'\\"').replace(p,"\\t")},s=f.View,x=function(a){var b=a.match(q);a=a.match(w);return(b?b.length:0)-(a?a.length:
0)},t=function(b){if(this.constructor!=t){var c=new t(b);return function(a,b){return c.render(a,b)}}"function"==typeof b?this.template={fn:b}:(a(this,t.options,b),this.template=A(this.text,this.type,this.name))};f&&(f.EJS=t);t.prototype.render=function(a,b){a=a||{};this._extra_helpers=b;var c=new t.Helpers(a,b||{});return this.template.fn.call(a,a,c)};a(t,{text:function(a){if("string"==typeof a)return a;if(null===a||void 0===a)return"";var c=a.hookup&&function(b,c){a.hookup.call(a,b,c)}||"function"==
typeof a&&a||b(a)&&function(b,c){for(var e=0;e<a.length;e++)a[e].hookup?a[e].hookup(b,c):a[e](b,c)};return c?"data-view-id='"+s.hookup(c)+"'":a.toString?a.toString():""},clean:function(a){return"string"==typeof a?a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(r,"&#34;").replace(n,"&#39;"):"number"==typeof a?a:t.text(a)},options:{type:"[",ext:".ejs"}});var E=function(a,b,c){b=k(b,h);for(var e=0;e<b.length;e++){var d=a,g=b[e],m=c;d.lines++;for(var g=k(g,d.splitter),f=void 0,
r=0;r<g.length;r++)f=g[r],null!==f&&m(f,d)}},z=function(b,c){var e={};a(e,{left:b+"%",right:"%"+c,dLeft:b+"%%",dRight:"%%"+c,eeLeft:b+"%==",eLeft:b+"%=",cmnt:b+"%#",cleanLeft:b+"%~",scan:E,lines:0});e.splitter=RegExp("("+[e.dLeft,e.dRight,e.eeLeft,e.eLeft,e.cmnt,e.left,e.right+"\n",e.right,"\n"].join(")|(").replace(/\[/g,"\\[").replace(/\]/g,"\\]")+")");return e},A=function(a,b,e){a=a.replace(c,"\n").replace(g,"\n");b=b||"[";var h=new t.Buffer(["var ___v1ew = [];"],[]),m="",k=null,r=[];E(z(b,"["===
b?"]":">"),a||"",function(a,b){var c;if(null===k)switch(a){case "\n":m+="\n";h.push("___v1ew.push(",'"',v(m),'");');h.cr();m="";break;case b.left:case b.eLeft:case b.eeLeft:case b.cmnt:k=a;0<m.length&&h.push("___v1ew.push(",'"',v(m),'");');m="";break;case b.dLeft:m+=b.left;break;default:m+=a}else switch(a){case b.right:switch(k){case b.left:c=x(m);var e=r.length&&-1==c?r.pop():";";"));"===e&&h.push("return ___v1ew.join('')");h.push(m,e);1===c&&r.push(";");break;case b.eLeft:(c=x(m))&&r.push("));");
u.test(m)&&(e=m.match(u),m="function(__){var "+e[1]+"=$(__);"+e[2]+"}");h.push("___v1ew.push(",f.globalNamespace+".EJS.clean(",m,c?"var ___v1ew = [];":"));");break;case b.eeLeft:(c=x(m))&&r.push("));"),h.push("___v1ew.push(",f.globalNamespace+".EJS.text(",m,c?"var ___v1ew = [];":"));")}k=null;m="";break;case b.dRight:m+=b.right;break;default:m+=a}});0<m.length&&h.push("___v1ew.push(",'"',v(m)+'");');a={out:"try { with(_VIEW) { with (_CONTEXT) {"+h.close()+" return ___v1ew.join('')}}}catch(e){e.lineNumber=null;throw e;}"};
d.call(a,"this.fn = (function(_CONTEXT,_VIEW){ var $ = "+f.globalNamespace+";"+a.out+"});");return a};t.Buffer=function(a,b){this.line=[];this.script=[];this.post=b;this.push.apply(this,a)};t.Buffer.prototype={push:function(){this.line.push.apply(this.line,arguments)},cr:function(){this.script.push(this.line.join(""),"\n");this.line=[]},close:function(){0<this.line.length&&(this.script.push(this.line.join("")),this.line=[]);this.post.length&&this.push.apply(this,this.post);this.script.push(";");return this.script.join("")}};
t.Helpers=function(b,c){this._data=b;this._extras=c;a(this,c)};t.Helpers.prototype={plugin:function(a){var b=f.makeArray(arguments),c=b.shift();return function(a){a=f(a);a[c].apply(a,b)}},view:function(a,b,c){c=c||this._extras;b=b||this._data;return s(a,b,c)}};s.register({suffix:"ejs",script:function(a,b){return f.globalNamespace+".EJS(function(_CONTEXT,_VIEW) { "+(new t({text:b,name:a})).template.out+" })"},renderer:function(a,b){return t({text:b,name:a})}})})();(function(){var d=f.isArray,k=function(a){return"object"===
typeof a&&null!==a&&a},a=f.makeArray,b=f.each,c=function(a,b,c){a instanceof f.Observe?g([a],c._namespace):a=d(a)?new f.Observe.List(a):new f.Observe(a);a.bind("change"+c._namespace,function(e,d){var g=f.makeArray(arguments);e=g.shift();g[0]="*"===b?c.indexOf(a)+"."+g[0]:b+"."+g[0];f.event.trigger(e,g,c)});return a},g=function(a,b){for(var c,e=0;e<a.length;e++)(c=a[e])&&c.unbind&&c.unbind("change"+b)},e=0,h=null,m=function(){if(!h)return h=[],!0},r=function(a,b,c){if(!a._init)if(h)h.push({t:a,ev:b,
args:c});else return f.event.trigger(b,c,a,!0)},n=0,p=function(){var a=h.length,b=h.slice(0),c;h=null;n++;for(var e=0;e<a;e++)c=b[e],f.event.trigger({type:c.ev,batchNum:n},c.args,c.t)},q=function(a,b,c){a.each(function(a,e){c[a]=k(e)&&"function"==typeof e[b]?e[b]():e});return c};f.Class(f.globalNamespace+".Observe",{init:function(a){this._data={};this._namespace=".observe"+ ++e;this._init=!0;this.attrs(a);delete this._init},attr:function(a,b){if(void 0===b)return this._get(a);this._set(a,b);return this},
each:function(){return b.apply(null,[this.__get()].concat(a(arguments)))},removeAttr:function(a){a=d(a)?a:a.split(".");var b=a.shift(),c=this._data[b];if(a.length)return c.removeAttr(a);delete this._data[b];r(this,"change",[b,"remove",void 0,c]);return c},_get:function(a){a=d(a)?a:(""+a).split(".");var b=this.__get(a.shift());return a.length?b?b._get(a):void 0:b},__get:function(a){return a?this._data[a]:this._data},_set:function(a,b){var e=d(a)?a:(""+a).split("."),h=e.shift(),m=this.__get(h);if(k(m)&&
e.length)m._set(e,b);else{if(e.length)throw"jQuery.Observe: set a property on an object that does not exist";b!==m&&(e=this.__get().hasOwnProperty(h)?"set":"add",this.__set(h,k(b)?c(b,h,this):b),r(this,"change",[h,e,b,m]),m&&g([m],this._namespace))}},__set:function(a,b){this._data[a]=b;a in this.constructor.prototype||(this[a]=b)},bind:function(a,b){f.fn.bind.apply(f([this]),arguments);return this},unbind:function(a,b){f.fn.unbind.apply(f([this]),arguments);return this},serialize:function(){return q(this,
"serialize",{})},attrs:function(a,b){if(void 0===a)return q(this,"attrs",{});a=f.extend(!0,{},a);var c,e=m();for(c in this._data){var d=this._data[c],g=a[c];void 0===g?b&&this.removeAttr(c):(k(d)&&k(g)?d.attrs(g,b):d!=g&&this._set(c,g),delete a[c])}for(c in a)g=a[c],this._set(c,g);e&&p()}});var w=f.Observe(f.globalNamespace+".Observe.List",{init:function(b,c){this.length=0;this._namespace=".list"+ ++e;this._init=!0;this.bind("change",this.proxy("_changes"));this.push.apply(this,a(b||[]));f.extend(this,
c);this.comparator&&this.sort();delete this._init},_changes:function(a,b,c,e,d){if(this.comparator&&/^\d+./.test(b)){var g=+/^\d+/.exec(b)[0],h=this[g],m=this.sortedIndex(h);if(m!==g){[].splice.call(this,g,1);[].splice.call(this,m,0,h);r(this,"move",[h,m,g]);a.stopImmediatePropagation();r(this,"change",[b.replace(/^\d+/,m),c,e,d]);return}}-1===b.indexOf(".")&&("add"===c?r(this,c,[e,+b]):"remove"===c&&r(this,c,[d,+b]))},sortedIndex:function(a){var b=a.attr(this.comparator),c=0,e;for(e=0;e<this.length;e++)if(a===
this[e])c=-1;else if(b<=this[e].attr(this.comparator))break;return e+c},__get:function(a){return a?this[a]:this},__set:function(a,b){this[a]=b},serialize:function(){return q(this,"serialize",[])},splice:function(b,e){var d=a(arguments),h;for(h=2;h<d.length;h++){var m=d[h];k(m)&&(d[h]=c(m,"*",this))}void 0===e&&(e=d[1]=this.length-b);h=[].splice.apply(this,d);0<e&&(r(this,"change",[""+b,"remove",void 0,h]),g(h,this._namespace));2<d.length&&r(this,"change",[""+b,"add",d.slice(2),h]);return h},attrs:function(a,
b){if(void 0===a)return q(this,"attrs",[]);a=a.slice(0);for(var c=Math.min(a.length,this.length),e=m(),d=0;d<c;d++){var g=this[d],h=a[d];k(g)&&k(h)?g.attrs(h,b):g!=h&&this._set(d,h)}a.length>this.length?this.push(a.slice(this.length)):a.length<this.length&&b&&this.splice(a.length);e&&p()},sort:function(a,b){var c=this.comparator;[].sort.apply(this,c?[function(a,b){a=a[c];b=b[c];return a===b?0:a<b?-1:1}]:[]);!b&&r(this,"reset")}}),u=function(b){return b[0]&&f.isArray(b[0])?b[0]:a(b)};b({push:"length",
unshift:0},function(a,b){w.prototype[a]=function(){for(var e=u(arguments),d=b?this.length:0,g=0;g<e.length;g++){var h=e[g];k(h)&&(e[g]=c(h,"*",this))}if(1==e.length&&this.comparator)return d=this.sortedIndex(e[0]),this.splice(d,0,e[0]),this.length;g=[][a].apply(this,e);this.comparator&&1<e.length?(this.sort(null,!0),r(this,"reset",[e])):r(this,"change",[""+d,"add",e,void 0]);return g}});b({pop:"length",shift:0},function(a,b){w.prototype[a]=function(){var c=u(arguments),e=b&&this.length?this.length-
1:0,c=[][a].apply(this,c);r(this,"change",[""+e,"remove",void 0,[c]]);c&&c.unbind&&c.unbind("change"+this._namespace);return c}});w.prototype.indexOf=[].indexOf||function(a){return f.inArray(a,this)};f.O=function(a,b){return d(a)||a instanceof f.Observe.List?new f.Observe.List(a,b):new f.Observe(a,b)}})()});
FD31.plugin("joomla",function(f){var d={squeezebox:function(){return k.isJoomla15?window.parent.document.getElementById("sbox-window"):window.parent.SqueezeBox}},k=f.Joomla=function(a,c){if(f.isFunction(c))k.isJoomla15?window[a]=c:window.Joomla[a]=c;else if(a=d[a]||(k.isJoomla15?window[a]:window.Joomla[a]),f.isFunction(a))return a.apply(window,c)},a=parseFloat(f.joomla.version);k.isJoomla15=1.5>=a;k.isJoomla25=1.6<=a&&2.5>=a;k.isJoomla30=3<=a});
FD31.plugin("module",function(f){var d=function(d){var a=this,b=f.Callbacks("once memory");f.extend(this,f.Deferred(),{name:d,status:"pending",ready:function(c){!0===c&&b.fire.call(a,f);f.isFunction(c)&&b.add(c)}});a.then(function(){a.exports=this;a.status="resolved"},function(){a.status="rejected"});var c=a.done;a.done=function(){a.required=!0;var b=a.factory;b&&"ready"===a.status&&b.call(a,f);a.done=c;return a.done.apply(this,arguments)}};f.module=function(){var k=function(a,b){var c;if("string"===
typeof a){c=k.get(a);if(void 0===b)return c;if(f.isFunction(b)){if("resolved"==c.status)return c;c.factory=b;c.status="ready";c.ready("true");c.required&&(c.status="executing",b.call(c,f));return c}}f.isArray(a)&&(c=f.map(a,function(a){var b=k.get(f.isString(a)?a:a.name);if(b&&("pending"===b.status&&(b.status="ready"),f.isPlainObject(a)))return a}),f.each(c,function(a,b){k(b.name,b.factory)}))};f.extend(k,{registry:{},get:function(a){if(a)return f.isModule(a)&&(a=a.replace("module://","")),k.registry[a]||
k.create(a)},create:function(a){return k.registry[a]=new d(a)},remove:function(a){delete k.registry[a]}});return k}();f.isModule=function(k){return f.isString(k)?!!k.match("module://"):k&&k instanceof d}});
FD31.plugin("script",function(f){f.script=function(){var d=function(a){a=f.extend(this,a);a.manager=f.Deferred();f.extend(a,a.manager.promise());a.load()},k=document.getElementsByTagName("head")[0];document.getElementsByTagName("base");f.extend(d.prototype,{timeout:7E3,retry:3,retryCount:1,type:"text/javascript",async:!1,charset:"UTF-8",verbose:!1,insert:function(){k.appendChild(this.node)},remove:function(){var a=this.node;setTimeout(function(){a.onload=a.onerror=a.onreadystatechange=null;try{k.removeChild(a)}catch(b){}},
1E3)},load:function(){var a;this.endTime=void 0;this.startTime=new Date;this.node=a=document.createElement("script");this.insert();this._ready=f.proxy(this.ready,this);this._error=f.proxy(this.error,this);a.attachEvent&&!f.browser.opera?(a.attachEvent("onreadystatechange",this._ready),a.attachEvent("onerror",this._error)):(a.addEventListener("load",this._ready,!1),a.addEventListener("error",this._error,!1));f(a).attr({type:this.type,async:this.async,charset:this.charset,src:this.url});this.monitor()},
monitor:function(){var a=this;a.retryCount>a.retry?a._error():setTimeout(function(){"resolved"!==a.state()&&(a.verbose&&console.warn("$.script: Load timeout. [Retry: "+a.retryCount+"]",a),a.remove(),a.retryCount++,a.load())},a.timeout*a.retryCount)},ready:function(a){var b=this.node;if("load"===a.type||/loaded|complete/.test(b.readyState))this.complete.call(this,a),this.manager.resolve(this)},error:function(a){this.verbose&&console.error("$.script: Unable to load ",this);this.complete.call(this,a);
this.remove();this.manager.reject(this)},complete:function(a){a=this.node;this.endTime=new Date;a.detachEvent&&!f.browser.opera?(a.detachEvent("onreadystatechange",this._ready),a.detachEvent("onerror",this._error)):(a.removeEventListener("load",this._ready,!1),a.removeEventListener("error",this._error,!1))}});return function(a){if(void 0!==a)return"string"===typeof a&&(a={url:a}),new d(a)}}()});
FD31.plugin("stylesheet",function(f){var d=document.getElementsByTagName("head")[0],k=document.styleSheets,a=document.createStyleSheet;f.stylesheet=function(){var b=function(a,d){var e={};f.extend(e,b.defaultOptions,f.isPlainObject(a)?a:{url:a,attr:d||{}});return void 0===e.url?b.create(e):b.load(e)};f.extend(b,{defaultOptions:{type:"text/css",rel:"stylesheet",media:"all",title:"",forceInject:!1,xhr:!1},setup:function(a){f.extend(b.defaultOptions,a)},availability:function(){var a={},d=f('link[rel*="stylesheet"]');
styles=f("style");a.groups=31-d.length-styles.length;a.slots=31*a.groups;b.currentGroup&&(a.slots+=31-b.currentGroup.imports.length);return a},get:function(a){for(var b=0;b<k.length;b++){var e=k[b];if((e.ownerNode||e.owningElement)==a)return e}},create:function(b){var g,e;e=k.length;if(a){if(31<=e)return;g=document.createStyleSheet();e=g.ownerNode||g.owningElement}else e=document.createElement("style"),d.appendChild(e);f.extend(e,{type:b.type,title:b.title,media:b.media,rel:b.rel});b=b.content;void 0!==
b&&(a?g.cssText=b:e.appendChild(document.createTextNode(b)));return e},nextAvailable:function(c){var d,e=k.length;if(e)for(;e--;0>e)if(d=k[e],a&&4095<=(d.cssRules||d.rules).length)d=void 0;else break;return d.ownerNode||d.owningElement||(c?b():void 0)},load:function(a){return f.browser.msie&&!a.forceInject?b._import(a):f("<link>").attr({href:a.url,type:a.type,rel:a.rel,media:a.media}).appendTo("head")[0]},_import:function(a){var d;if(void 0===b.currentGroup){var e;try{e=document.createStyleSheet(),
e.media="all",e.title="jquery_stylesheet"}catch(h){d=!0,a.verbose&&console.error("There is not enough slots left to create a new stylesheet group.")}if(d)return!1;b.currentGroup=e}try{b.currentGroup.addImport(a.url)}catch(m){d=!0,a.verbose&&console.info("Import slots exceeded. Creating a new stylesheet group.")}return d?(b.currentGroup=void 0,b._import(a)):!0}});return b}();(function(){var a=function(a,b,c){f.extend(this,{id:f.uid(),style:c,selectors:[],preRule:"",rules:{},legacy:8===f.IE,important:!1});
a&&this.set(a,b)};f.extend(a.prototype,{set:function(a,b){f.isString(a)?this.selectors=a.split(","):this.selectors=a;f.isString(b)?(this.preRule=b+"\n",this.rules={}):(this.preRule="",this.rules=b||this.rules);this.update();return this},cssText:function(){return this.selectors.join(",")+"{"+this.ruleText()+"}\n"},ruleText:function(){var a=this.important;return this.preRule+(this.legacy?"-rule-id:"+this.id+";":"")+f.map(this.rules,function(b,c){f.isNumeric(b)&&!f.cssNumber[c]&&(b+="px");a&&(b+=" !important");
return c+":"+b}).join(";")},update:function(){if(this.legacy)return this.updateLegacy();var a=this.cssText();void 0===this.textNode?(this.textNode=document.createTextNode(a),this.style.appendChild(this.textNode)):this.textNode.nodeValue=a;return this},updateLegacy:function(){this.removeLegacy();for(var a=f.stylesheet.get(this.style),b=this.selectors,c=this.ruleText(),d=0;d<b.length;d++)a.addRule(b[d],c);return this},remove:function(){if(this.legacy)return this.removeLegacy();void 0!==this.textNode&&
(this.style.removeChild(this.textNode),delete this.textNode);return this},removeLegacy:function(){for(var a=f.stylesheet.get(this.style),b=a.rules,c=0;c<b.length;c++)null!==b[c].cssText.match(this.id)&&a.removeRule(c);return this},css:function(a,b){if(f.isString(a)&&void 0===b)return this.rules[a];f.isPlainObject(a)?f.extend(this.rules,a):this.rules[a]=b;this.update();return this}});var c=f.cssRule=function(d,e,h){if(h=h||c.style||f.stylesheet.nextAvailable(!0))return new a(d,e,h)};c.style=f.stylesheet()})();
(function(){f.cssUrl=function(a){return'url("'+encodeURI(a)+'")'}})()});
FD31.plugin("language",function(f){f.sprintf=function(){var d=arguments,a=0,b=function(a,b,c,d){c||(c=" ");b=a.length>=b?"":Array(1+b-a.length>>>0).join(c);return d?a+b:b+a},c=function(a,c,d,g,f,k){var q=g-a.length;0<q&&(a=d||!f?b(a,g,k,d):a.slice(0,c.length)+b("",q,"0",!0)+a.slice(c.length));return a},g=function(a,d,g,f,k,p,q){a>>>=0;g=g&&a&&{2:"0b",8:"0",16:"0x"}[d]||"";a=g+b(a.toString(d),p||0,"0",!1);return c(a,g,f,k,q)};return d[a++].replace(/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuidfegEG])/g,
function(e,h,m,f,n,p,q){var w,u;if("%%"==e)return"%";var v=!1;u="";var s=n=!1;w=" ";for(var x=m.length,t=0;m&&t<x;t++)switch(m.charAt(t)){case " ":u=" ";break;case "+":u="+";break;case "-":v=!0;break;case "'":w=m.charAt(t+1);break;case "0":n=!0;break;case "#":s=!0}f=f?"*"==f?+d[a++]:"*"==f.charAt(0)?+d[f.slice(1,-1)]:+f:0;0>f&&(f=-f,v=!0);if(!isFinite(f))throw Error("sprintf: (minimum-)width must be finite");p=p?"*"==p?+d[a++]:"*"==p.charAt(0)?+d[p.slice(1,-1)]:+p:-1<"fFeE".indexOf(q)?6:"d"==q?0:
void 0;h=h?d[h.slice(0,-1)]:d[a++];switch(q){case "s":return q=String(h),null!=p&&(q=q.slice(0,p)),c(q,"",v,f,n,w);case "c":return q=String.fromCharCode(+h),null!=p&&(q=q.slice(0,p)),c(q,"",v,f,n,void 0);case "b":return g(h,2,s,v,f,p,n);case "o":return g(h,8,s,v,f,p,n);case "x":return g(h,16,s,v,f,p,n);case "X":return g(h,16,s,v,f,p,n).toUpperCase();case "u":return g(h,10,s,v,f,p,n);case "i":case "d":return w=+h|0,e=0>w?"-":u,h=e+b(String(Math.abs(w)),p,"0",!1),c(h,e,v,f,n);case "e":case "E":case "f":case "F":case "g":case "G":return w=
+h,e=0>w?"-":u,u=["toExponential","toFixed","toPrecision"]["efg".indexOf(q.toLowerCase())],q=["toString","toUpperCase"]["eEfFgG".indexOf(q)%2],h=e+Math.abs(w)[u](p),c(h,e,v,f,n)[q]();default:return e}})};var d=f.language=f.JText=function(f){return 2>arguments.length?d._(f):d.sprintf.apply(null,arguments)};f.extend(d,{lang:{},add:function(k,a){f.isPlainObject(k)?f.extend(d.lang,k):d.lang[k]=a},remove:function(f){delete d.lang[f]},_:function(f){return d.lang[f]||""},sprintf:function(){arguments[0]=
d.lang[arguments[0]];return f.sprintf.apply(null,arguments)}})});FD31.plugin("template",function(f){f.template=function(){var d={content:"",type:"ejs"},k=function(a,b){if(void 0===a)return k.templates;var c;if("string"==typeof b)return c=f.isPlainObject(b)?b:f.extend({},d,{name:a,content:b}),k.templates[a]=c;c=k.templates[a]||{};return c.content||""};f.extend(k,{templates:{},remove:function(a){delete k.templates[a]}});return k}()});
FD31.plugin("require",function(f){f.require=function(){var d=function(a){return f.uri(a).setAnchor("").setQuery("").toPath("../").toString()},k=function(a){a=new b(a);return k.batches[a.id]=a};f.extend(k,{defaultOptions:{path:function(){var a=f.path+"/scripts/"||f("[require-path]").attr("require-path")||d(f("script:last").attr("src"))||d(window.location.href);/^(\/|\.)/.test(a)&&(a=f.uri(window.location.href).toPath(a).toString());return a}(),timeout:1E4,retry:3,verbose:"development"==f.environment},
setup:function(a){f.extend(k.defaultOptions,a)},batches:{},status:function(a){f.each(k.batches,function(b,e){var d={pending:0,resolved:0,rejected:0,ready:0,total:0},m=[];f.each(e.tasks,function(a,b){state=b.module&&"ready"==b.module.status?"ready":b.state();d[state]++;d.total++;m.push({state:state,content:"["+state+"] "+b.name})});var k=e.id+": "+e.state()+" ["+d.resolved+"/"+d.total+"]";a&&1>d[a]||(f.IE?(console.log('$.require.batches["'+e.id+'"]'),f.each(m,function(a,b){console.log(b.content)}),
console.log("")):(console.groupCollapsed(k),console.log('$.require.batches["'+e.id+'"]',e),f.each(m,function(b,e){var d=e.state,g=e.content;if(!a||d==a)switch(d){case "pending":console.warn(g);break;case "rejected":console.error(g);break;default:console.info(g)}}),console.groupEnd(k)))});return"$.require.status(pending|resolved|rejected|ready);"},loaders:{},addLoader:function(a,d){k[a]=d;b.prototype[a]=function(){this.autoFinalize();d.apply(this,arguments);return this};k.loaders[a]=k[a]=d},removeLoader:function(a){delete b.prototype[a];
delete k[a]}});var a=0,b=function(b){var d=f.Callbacks("once memory"),e=!1;return f.extend(this,{id:++a,tasks:[],options:f.extend({},k.defaultOptions,b),autoFinalizeDuration:300,finalized:!1,required:function(a){!0===a&&(e=d.fire());f.isFunction(a)&&d.add(a);return e}})};f.extend(b.prototype,{addTask:function(a){f.isDeferred(a)&&!this.finalized&&(this.tasks.push(a),a.batch=this)},autoFinalize:function(){var a=this,b=a.autoFinalizeDuration;!1!==b&&(clearTimeout(a.autoFinalizeTimer),a.autoFinalizeTimer=
setTimeout(function(){a.finalize()},b))},finalize:function(){var a=this;if(!a.finalized){a.finalized=!0;var b=a.manager=f.when.apply(null,a.tasks),e=b.promise(),d=f.Callbacks();f.extend(a,e,{progress:d.add,notify:d.fire,done:function(){a.required(!0);a.done=e.done;return a.done.apply(a,arguments)}});var m=a.options.verbose;b.progress(function(a,b){m&&"rejected"==a&&console.warn("Require: Task "+b.name+" failed to load.",b)}).fail(function(){m&&console.warn("Require: Batch "+a.id+" failed.",a)});setTimeout(function(){f.each(a.tasks,
function(b,e){e.then(function(){a.notify("resolved",e)},function(){a.notify("rejected",e)},function(){a.notify("progress",e)})})},1)}},expand:function(a,b){a=f.makeArray(a);var e=b||{},d=[];f.isPlainObject(a[0])?(e=f.extend(a[0],b),d=a.slice(1)):d=a;return{options:e,names:d}}});f.each(["done","fail","progress","always","then"],function(a,d){b.prototype[d]=function(){this.finalize();return this[d].apply(this,arguments)}});return k}();f.require.addLoader("script",function(){var d=f.uri(f.indexUrl).host(),
k=f.uri(document.location.href).host();d!==k&&d.match("xn--")&&(f.support.cors=!0);document.createElement("script");var a=function(){var b=this,c=f.makeArray(arguments),d;f.isPlainObject(c[0])&&(d=c[0],c=c.slice(1));d=f.extend({},a.defaultOptions,b.options,d,{batch:b});var e;f.each(c,function(c,m){var f=new a.task(m,d,e);b.addTask(f);d.serial&&void 0!==e?e.always(f.start):f.start();e=f})};f.extend(a,{defaultOptions:{path:"",extension:"compressed"==f.mode?"min.js":"js",serial:!1,async:!1,xhr:!1},setup:function(){f.extend(a.defaultOptions,
options)},scripts:{},task:function(a,c,d){var e=f.extend(this,f.Deferred());e.name=a;e.options=c;e.taskBefore=d;f.isArray(a)&&(e.name=a[0]+"@"+a[1],e.moduleName=a[0],a[2]||(e.defineModule=!0,f.module.registry[e.moduleName]&&console.warn("$.require.script: "+e.moduleName+" exists! Using existing module instead."),e.options.xhr=!0),a=a[1],e.module=f.module(e.moduleName));f.isUrl(a)?e.url=a:/^(\/|\.)/.test(a)?e.url=f.uri(e.options.path).toPath(a).toString():(e.url=f.uri(e.options.path).toPath("./"+a+
"."+e.options.extension).toString(),e.module=f.module(a))}});f.extend(a.task.prototype,{start:function(){var a=this.module;a&&"pending"!==a.status?this.waitForModule():this.load()},waitForModule:function(){var a=this,c=a.module;c.then(a.resolve,a.reject,a.notify);a.batch.required(function(){c.done(a.resolve)})},load:function(){var b=this,c=b.taskBefore;b.script=a.scripts[b.url]||function(){var c=b.options.xhr?f.ajax({url:b.url,dataType:"text"}):f.script({url:b.url,type:"text/javascript",async:b.options.async,
timeout:b.batch.options.timeout,retry:b.batch.options.retry,verbose:b.batch.options.verbose});return a.scripts[b.url]=c}();b.script.done(function(a){if(b.options.xhr&&(b.defineModule&&(b.module=f.module(b.moduleName,function(){f.globalEval(a);this.resolveWith(a)})),!b.options.async||c)){c.done(function(){f.globalEval(a);b.module?b.waitForModule():b.resolve()});return}b.module?b.waitForModule():b.resolve()}).fail(function(){b.reject()})}});return a}());f.require.addLoader("stylesheet",function(){var d=
function(){var k=this,a=f.makeArray(arguments),b;f.isPlainObject(a[0])&&(b=a[0],a=a.slice(1));b=f.extend({},d.defaultOptions,k.options,{path:f.path+"/styles/"},b,{batch:k});f.each(a,function(a,g){var e=new d.task(g,b),h=d.stylesheets[e.url],e=h||e;k.addTask(e);h||(d.stylesheets[e.url]=e,e.start())})};f.extend(d,{defaultOptions:{path:"",extension:"compressed"==f.mode?"min.css":"css",xhr:!1},setup:function(){f.extend(d.defaultOptions,options)},stylesheets:{},task:function(d,a){var b=f.extend(this,f.Deferred());
b.name=d;b.options=a;f.isUrl(d)?b.url=d:/^(\/|\.)/.test(d)?b.url=f.uri(b.options.path).toPath(d).toString():b.url=f.uri(b.options.path).toPath("./"+d+"."+b.options.extension).toString();b.options.url=b.url},loaders:{},loader:function(k){if(f.isArray(k))return f.map(k,function(a){return d.loader(a)});if(f.isPlainObject(k))return f.map(k,function(a,c){return d.loader(a).resolve(c)});var a=d.loaders[k];a||(a=d.loaders[k]=f.Deferred().done(function(a){f.isPlainObject(a)||f.stylesheet(a)}));return a}});
f.extend(d.task.prototype,{start:function(){var k=d.loaders[this.name];k||(k=d.loader(this.name),f.stylesheet(this.options)?k.resolve():k.reject());k.then(this.resolve,this.reject)}});return d}());f.require.addLoader("template",function(){var d=function(){var k=this,a=f.makeArray(arguments),b;f.isPlainObject(a[0])&&(b=a[0],a=a.slice(1));b=f.extend({},d.defaultOptions,k.options,b,{batch:k});f.each(a,function(a,g){var e=new d.task(g,b);k.addTask(e);e.start()})};f.extend(d,{defaultOptions:{path:"",extension:"htm"},
setup:function(){f.extend(d.defaultOptions,options)},task:function(d,a){var b=f.extend(this,f.Deferred());b.name=d;b.options=a;f.isArray(d)&&(b.name=d[0],d=d[1]);f.isUrl(d)?b.url=d:/^(\/|\.)/.test(d)?b.url=f.uri(b.options.path).toPath(d).toString():b.url=f.uri(b.options.path).toPath("./"+d+"."+b.options.extension).toString()},loaders:{},loader:function(k){if(f.isArray(k))return f.map(k,function(a){return d.loader(a)});if(f.isPlainObject(k))return f.map(k,function(a,c){return d.loader(c).resolve(a)});
var a=d.loaders[k];a||(a=d.loaders[k]=f.Deferred().done(function(a){f.template(k,a)}));return a}});f.extend(d.task.prototype,{start:function(){var k=d.loaders[this.name];k||(k=d.loader(this.name),k.xhr=f.Ajax({url:this.url,dataType:"text"}).then(k.resolve,k.reject).then(this.resolve,this.reject));this.loader=k;return this}});return d}());f.require.addLoader("language",function(){var d=function(){var k=f.makeArray(arguments),a;f.isPlainObject(k[0])&&(a=k[0],k=k.slice(1));a=f.extend({},d.defaultOptions,
this.options,a,{batch:this});a=new d.task(k,a);this.addTask(a);a.start()};f.extend(d,{defaultOptions:{path:""},setup:function(){f.extend(d.defaultOptions,options)},loaders:{},task:function(d,a){var b=f.extend(this,f.Deferred());b.name=d.join(",");b.options=a;b.url=a.path;b.names=d},loaders:{},loader:function(k){if(f.isArray(k))return f.map(k,function(a){return d.loader(a)});if(f.isPlainObject(k))return f.map(k,function(a,c){return d.loader(c).resolve(a)});var a=d.loaders[k];a||(a=d.loaders[k]=f.Deferred().done(function(a){f.language.add(k,
a)}));return a}});f.extend(d.task.prototype,{start:function(){var k=this,a=f.map(k.names,function(a){var c=d.loader(a);c.push(c);return/resolved|rejected/.test(c.state())?null:a});k.fail(function(){f.each(a,function(a,c){d.loader(c).reject()})});f.when.apply(null,[]).then(k.resolve,k.reject);if(1>a.length)return k;k.xhr=f.Ajax({url:k.url,type:"POST",data:{keys:a}}).done(function(a){f.isPlainObject(a)?d.loader(a):k.reject()}).fail(function(){k.reject()});return k}});return d}());f.require.addLoader("library",
function(){var d=f.makeArray(arguments),k={};f.isPlainObject(d[0])&&(k=d[0],d=d.slice(1));f.extend(k,{path:f.scriptPath});return this.script.apply(this,[k].concat(d))});f.require.addLoader("image",function(){var d=function(){var k=this,a=f.makeArray(arguments),b;f.isPlainObject(a[0])&&(b=a[0],a=a.slice(1));b=f.extend({},d.defaultOptions,k.options,b,{batch:k});f.each(a,function(a,g){var e=new d.task(g,b),h=d.images[e.url],e=h||e;k.addTask(e);h||(d.images[e.url]=e,e.start())})};f.extend(d,{defaultOptions:{path:""},
setup:function(){f.extend(d.defaultOptions,options)},images:{},task:function(d,a){var b=f.extend(this,f.Deferred());b.name=d;b.options=a;f.isUrl(d)?b.url=d:/^(\/|\.)/.test(d)?b.url=f.uri(b.options.path).toPath(d).toString():b.url=f.uri(b.options.path).toPath("./"+d).toString();b.options.url=b.url}});f.extend(d.task.prototype,{start:function(){var d=this;d.image=f(new Image).load(function(){d.resolve()}).error(function(){d.reject()}).attr("src",d.options.url)}});return d}())});
FD31.plugin("iframe-transport",function(f){f.ajaxPrefilter(function(d,f,a){if(d.iframe)return"iframe"});f.ajaxTransport("iframe",function(d,k,a){function b(){m&&r.replaceWith(function(a){return h.get(a)});c.remove();g.attr("src","javascript:false;").remove()}var c=null,g=null,e="iframe-"+f.now(),h=f(d.files).filter(":file:enabled"),m=0<h.length,r=null;d.dataTypes.shift();c=f("<form enctype='multipart/form-data' method='post'></form>").hide().attr({action:d.url,target:e});"string"===typeof d.data&&
0<d.data.length&&f.error("data must not be serialized");f.each(d.data||{},function(a,b){f.isPlainObject(b)&&(a=b.name,b=b.value);f.isArray(b)||(b=[b]);f.each(b,function(b,e){f("<input type='hidden' />").attr({name:a,value:e}).appendTo(c)})});f("<input type='hidden' value='IFrame' name='X-Requested-With' />").appendTo(c);m&&(r=h.after(function(a){return f(this).clone().prop("disabled",!0)}).next(),h.appendTo(c));return{send:function(a,d){g=f("<iframe src='javascript:false;' name='"+e+"' id='"+e+"' style='display:none'></iframe>");
g.bind("load",function(){g.unbind("load").bind("load",function(){var a=this.contentWindow?this.contentWindow.document:this.contentDocument?this.contentDocument:this.document,c=a.documentElement?a.documentElement:a.body,e=c.getElementsByTagName("textarea")[0],a=e?e.getAttribute("data-type"):null,g=e?e.getAttribute("data-status"):200,h=e?e.getAttribute("data-statusText"):"OK",c={html:c.innerHTML,text:a?e.value:c?c.textContent||c.innerText:null};b();d(g,h,c,a?"Content-Type: "+a:null)});c[0].submit()});
f("body").append(c,g)},abort:function(){null!==g&&(g.unbind("load").attr("src","javascript:false;"),b())}}})});
FD31.plugin("server",function(f){var d=f.server=function(k){var a=f.Deferred(),b=f.extend(!0,{},d.defaultOptions,k,{success:function(){}});a.xhr=f.Ajax(b).done(function(b){if("string"===typeof b)try{b=f.parseJSON(b)}catch(g){a.rejectWith(a,["Unable to parse Ajax commands.","error"])}if(f.isArray(b)){var e=function(b){var c=b.type,c=d.parsers[c]||k[c];if(f.isFunction(c))return c.apply(a,b.data)};b=f.map(b,function(a){if("notify"==a.type)e(a);else return a});f.each(b,function(a,b){e(b)})}else a.rejectWith(a,
["Invalid ajax commands.","error"]);"pending"===a.state()&&a.resolveWith(a)}).fail(function(b,d,e){a.rejectWith(a,[e,d])});return a};d.defaultOptions={type:"POST",data:{tmpl:"component",format:"ajax",no_html:1},dataType:"json"};d.parsers={script:function(){var d=f.makeArray(arguments);if("string"==typeof d[0])try{eval(d[0])}catch(a){}else{var b=window;f.each(d,function(a,d){"Foundry"===d.property&&(d.property=f.globalNamespace);"Foundry"===d.method&&(d.method=f.globalNamespace);try{switch(d.type){case "get":b=
b[d.property];break;case "set":b[d.property]=d.value;break;case "call":b=b[d.method].apply(b,d.args)}}catch(e){}})}},resolve:function(){this.resolveWith(this,arguments)},reject:function(){this.rejectWith(this,arguments)},notify:function(){this.notifyWith(this,arguments)},redirect:function(d){window.location=d}}});
FD31.plugin("component",function(f){var d=f.Component=function(a,c){return 1>arguments.length?d.registry:2>arguments.length?d.registry[a]:d.register(a,c)};d.registry={};d.proxy=function(a,c,d){f.isFunction(d)?a[c]=f.proxy(d,a):a[c]=d};d.register=function(a,c){var g;f.isFunction(a)&&(g=a,a=g.className,c=g.options);var e=d.registry[a]=window[a]=function(a){return f.isFunction(a)?a(f):component};f.each(d.prototype,function(a,b){d.proxy(e,a,b)});e.$=f;e.options=c;e.className=a;e.identifier=a.toLowerCase();
e.componentName="com_"+e.identifier;e.prefix=e.identifier+"/";e.version=c.version;e.safeVersion=e.version.replace(/\./g,"");e.environment=c.environment||f.environment;e.mode=c.mode||f.mode;e.debug="development"===e.environment;e.console=d.console(e);e.language=c.language||f.locale.lang||"en";e.baseUrl=c.baseUrl||f.indexUrl+"?option="+e.componentName;e.ajaxUrl=c.ajaxUrl||f.basePath+"/?option="+e.componentName;e.scriptPath=c.scriptPath||f.rootPath+"/media/"+e.componentName+"/scripts/";e.stylePath=c.stylePath||
f.rootPath+"/media/"+e.componentName+"/styles/";e.templatePath=c.templatePath||c.scriptPath;e.languagePath=c.languagePath||e.ajaxUrl+"&tmpl=component&no_html=1&controller=lang&task=getLanguage";e.viewPath=c.viewPath||e.ajaxUrl+"&tmpl=component&no_html=1&controller=themes&task=getAjaxTemplate";e.optimizeResources=!0;e.resourcePath=c.resourcePath||e.ajaxUrl+"&tmpl=component&no_html=1&controller=foundry&task=getResource";e.resourceInterval=1200;e.scriptVersioning=c.scriptVersioning||!1;e.token=(g||{}).token;
e.tasks=[];FD31.component(a,e);if(g)if(e.debug)g.queue.execute();else{for(var h,m=FD31.installer(a);h=m.shift();)e.install.apply(e,h);f.when(e.install("definitions"),e.install("scripts"),e.install("resources")).done(function(){g.queue.execute()})}};d.extend=function(a,c){d.prototype[a]=c;f.each(d.registry,function(g,e){d.proxy(e,a,c)})};f.template("component/console",'<div id="[%== component.identifier %]-console" class="foundry-console" style="display: none; z-index: 999999;"><div class="console-header"><div class="console-title">[%= component.className %] [%= component.version %]</div><div class="console-remove-button">x</div></div><div class="console-log-item-group"></div><style type="text/css">.foundry-console{position:fixed;width:50%;height:50%;bottom:0;left:0;background:white;box-shadow: 0 0 5px 0;margin-left: 25px;}.console-log-item-group{width: 100%;height: 100%;overflow-y:scroll;}.console-header{position: absolute;background:red;color:white;font-weight:bold;top:-24px;left: 0;line-height:24px;width:100%}.console-remove-button{text-align:center;cursor: pointer;display:block;width: 24px;float:right}.console-remove-button:hover{color: yellow}.console-title{padding: 0 5px;float:left}.console-log-item{padding: 5px}.console-log-item + .console-log-item{border-top: 1px solid #ccc}</style></div>');
d.console=function(a){return function(a){var b=function(a){return 1>arguments.length?b.toggle():b[a]&&b[a].apply(b,arguments)},e;b.selector="#"+a.identifier+"-console";b.init=function(){e=f(b.selector);1>e.length&&(e=f(f.View("component/console",{component:a})).appendTo("body"),e.find(".console-remove-button").click(function(){e.hide()}));b.element=e;return arguments.callee}();b.methods={log:function(b,d,g){d=d||"info";var k=e.find(".console-log-item-group");b=f(document.createElement("div")).addClass("console-log-item type-"+
d).attr("data-code",g).html(b);k.append(b);k[0].scrollTop=k[0].scrollHeight;a.debug&&e.show()},toggle:function(){e.toggle()},reset:function(){e.find(".console-log-item-group").empty()}};f.each(b.methods,function(a,c){b[a]=function(){b.init();return c.apply(b,arguments)}});return b}(a)};var k=f(document),a=d.prototype;f.extend(a,{run:function(a){return f.isFunction(a)?a(f):this},ready:function(){k.ready(function(){a.ready=a.run});return function(a){f.isFunction(a)&&k.ready(function(){a(f)})}}(),install:function(a,
c){var d=this,e=d.tasks[a]||(d.tasks[a]=f.Deferred());if(!c)return e;var h=function(){c(f,d);return e.resolve()};if("definitions"==a)return h();f.when(d.install("definitions")).done(h)},template:function(a){var c=this;if(void 0==a)return f.grep(f.template(),function(a){return 0==a.indexOf(c.prefix)});arguments[0]=c.prefix+a;return f.template.apply(null,arguments)},require:function(a){var c=this;a=a||{};var d=f.require(a),e={};f.each(["library","script","language","template","done"],function(a,b){e[b]=
d[b]});d.resource=function(a){if(f.isPlainObject(a)&&a.type&&a.name&&f.isDeferred(a.loader)){var b=c.resourceCollector;b||(b=c.resourceCollector=f.Deferred(),f.extend(b,{name:f.uid("ResourceCollector"),manifest:[],loaderList:[],loaders:[],load:function(){delete c.resourceCollector;if(0>b.manifest.length)b.resolve();else{var a=0,e=function(){a++;f.Ajax({type:"POST",url:c.resourcePath,dataType:"json",data:{resource:b.manifest}}).done(function(e){f.isArray(e)?(f.each(e,function(a,c){var e=c.content;
b.loaders[c.id][void 0!==e?"resolve":"reject"](e)}),1<a&&c.debug&&console.info("Attempt to try and get resources again was successful!")):b.reject("Server did not return a valid resource manifest.")}).fail(function(){2<a?c.debug&&console.error("Unable to get resource again. Giving up!"):(c.debug&&console.warn("Unable to get resource. Trying again..."),e())})};e();f.when.apply(null,b.loaderList).done(b.resolve).fail(b.reject)}}}),setTimeout(b.load,c.resourceCollectionInterval));var e=a.id=f.uid("Resource");
b.loaders[e]=a.loader;b.loaderList.push(a.loader);delete a.loader;b.manifest.push(a);return d}};d.view=function(){var a=this,b=a.expand(arguments,{path:c.viewPath}),e={},k=b.options,b=f.map(b.names,function(b){var m=c.prefix+b,k=f.require.template.loaders[m];if(!k)if(k=f.require.template.loader(m),k.name=m,a.addTask(k),c.optimizeResources)d.resource({type:"view",name:b,loader:k});else return e[b]=k,b});0<b.length&&f.Ajax({url:k.path,dataType:"json",data:{names:b}}).done(function(a){f.isArray(a)&&
f.each(a,function(a,b){var c=b.content;e[b.name][void 0!==c?"resolve":"reject"](c)})});return d};d.language=function(){var a=this,b=a.expand(arguments,{path:c.languagePath});c.optimizeResources?f.each(b.names,function(b,c){var e=f.require.language.loaders[c];e||(e=f.require.language.loader(c),e.name=c,a.addTask(e),d.resource({type:"language",name:c,loader:e}))}):e.language.apply(d,[b.options].concat(b.names));return d};d.library=function(){e.script.apply(this,arguments);return d};d.script=function(){var a=
this.expand(arguments,{path:c.scriptPath});names=f.map(a.names,function(b){if(f.isArray(b)||f.isUrl(b)||/^(\/|\.)/.test(b))return b;var e=c.prefix+b;b=f.uri(a.options.path).toPath("./"+b+"."+(a.options.extension||"js")+(c.scriptVersioning?"?version="+c.safeVersion:"")).toString();return[[e,b,!0]]});e.script.apply(d,[a.options].concat(names));return d};d.template=function(){var a=this.expand(arguments,{path:c.templatePath});e.template.apply(d,[a.options].concat(f.map(a.names,function(a){return[[c.prefix+
a,a]]})));return d};d.done=function(a){return e.done.call(d,function(){c.ready(a)})};return d},module:function(a,c){if(!f.isArray(a)){var d=this.prefix+a;return c?f.module.apply(null,[d,function(){c.call(this,f)}]):f.module(d)}}});f.Component.extend("getToken",function(){return f("span#"+this.identifier+"-token input").attr("name")||this.token});f.Component.extend("ajax",function(a,c,d){var e=this;a={url:e.ajaxUrl,data:f.extend(c,{option:e.componentName,namespace:a})};a=f.extend(!0,a,e.options.ajax);
a.data[e.getToken()]=1;a.data.hasOwnProperty("args")&&(a.data.args=f.toJSON(a.data.args));if(f.isPlainObject(d)){if(d.type){switch(d.type){case "jsonp":d.dataType="jsonp";d.crossDomain=!0;a.data.transport="jsonp";break;case "iframe":d.iframe=!0,d.processData=!1,d.files=a.data.files,delete a.data.files,a.data.transport="iframe"}delete d.type}f.extend(a,d)}f.isFunction(d)&&(a.success=d);d=f.server(a);d.progress(function(a,b,c){"debug"==b&&e.console.log(a,b,c)});return d});f.Component.extend("Controller",
function(){var a=f.makeArray(arguments),c=a[0],d;if(1==a.length)return f.String.getObject(c);2<a.length?(d=a[1],a=a[2]):(d={},a=a[1]);f.extend(d,{root:this.className+".Controller",component:this});return f.Controller.apply(this,[c,d,a])});f.Component.extend("Model",function(){var a=f.makeArray(arguments),c=this.className+".Model."+a[0],d,e;if(1==a.length)return f.String.getObject(a[0]);2==a.length&&(d={},e=a[1]);2<a.length&&(d=a[1],e=a[2]);f.extend(d,{component:this});return f.Model.apply(this,[c,
d,e])});f.Component.extend("Model.List",function(){var a=f.makeArray(arguments),c=this.className+".Model.List."+a[0],d,e;if(1==a.length)return f.String.getObject(a[0]);2==a.length&&(d={},e=a[1]);2<a.length&&(d=a[1],e=a[2]);f.extend(d,{component:this});return f.Model.List.apply(this,[c,d,e])});f.Component.extend("View",function(a){if(1>arguments.length)return this.template();arguments[0]=this.prefix+arguments[0];return f.View.apply(this,arguments)});FD31.module.execute();f.each(FD31.component(),function(a,
c){c.registered||f.Component.register(c)})});
FD31.plugin("static",function(f){f.module("dialog ui/position easing ui/effect scrollTo markitup fancybox ui/autocomplete ui/core ui/widget ui/menu".split(" "));(function(){FD31.module("dialog",function(d){var f=this;d.require().script("ui/position","easing").done(function(){var a=function(){d.template("dialog/default",'<div class="foundryDialog global"><div class="dialog-wrap"><div class="in"><div class="dialog-loader"><div class="loader-img"></div></div><div class="dialog-head"><span class="dialog-title"></span><a class="dialog-closeButton">Close</a></div><div class="dialog-body dialog-content"></div><div class="dialog-footer"><div class="dialog-loading"></div><div class="dialog-buttons"></div></div></div></div></div>');d.Controller("Dialog",
{pluginName:"dialog",defaultOptions:{title:"",content:void 0,buttons:{},customClass:"",width:"auto",height:"auto",css:{position:"absolute",width:"auto",height:"auto",zIndex:10001},position:{my:"center center",at:"center center",of:window},offset:100,showOverlay:!0,overlay:{css:{background:"#000",opacity:"0.4",position:"fixed",top:0,left:0,zIndex:1E4,width:"100%",height:"100%",display:"none"}},body:{css:{minWidth:0,minHeight:0,overflow:"auto"}},loader:{width:300,height:100},loading:"",iframe:{css:{width:"100%",
height:"100%",border:"none"}},transition:{show:"zoom",hide:"zoom"},escapeKey:!0,beforeShow:function(){},afterShow:function(){},beforeHide:function(){},afterHide:function(){},dialogHead:".dialog-head",dialogBody:".dialog-body",dialogFooter:".dialog-footer",dialogTitle:".dialog-title",dialogContent:".dialog-content",dialogButtons:".dialog-buttons",dialogLoader:".dialog-loader",dialogLoading:".dialog-loading","{closeButton}":".dialog-closeButton"}},function(a){return{ready:!1,contentReady:!1,init:function(){a.setInitOptions(a.options);
a.initElement=a.element.clone();a.element.finalizeContent=function(){return a.finalizeContent.apply(a,arguments)};d.each("dialogHead dialogBody dialogFooter dialogTitle dialogContent dialogButtons dialogLoader dialogLoading".split(" "),function(c,d){a[d]=a.find(a.options[d])});void 0!==a.options.content&&a.display()},"{self} destroyed":function(){d(document).off("keydown.foundry.dialog")},setInitOptions:function(c){a.initOptions=d.extend(!0,{},c);d.each(["beforeShow","afterShow","beforeHide","afterHide"],
function(c,e){a.initOptions[e]=function(){}});d.each("title content buttons loading selectors bindings".split(" "),function(c,e){a.initOptions[e]=null})},update:function(c){if(c){if(c.hasOwnProperty("{binder}"))return;c=d.extend(!0,{},a.initOptions,c);a.setInitOptions(c);a.display(c)}return a},determineContentType:function(a){return/<dialog>(.*?)/.test(a)?"dialog":d.isUrl(a)?"iframe":d.isDeferred(a)?"deferred":"html"},displayQueue:[],display:function(c){if(a.resizing)return a.displayQueue.push(c);
d.isPlainObject(c)&&(a.options=d.extend(!0,{},a.Class.defaults,c));a.ready||a.options.showOverlay&&a.createOverlay();c=a.options;var g=c.content;a.contentReady=null===g;a.contentType=a.determineContentType(g);var e=c.transition;d.isString(e)&&(c.transition={show:e,hide:e});switch(a.contentType){case "html":a.hideLoader();a.show();break;case "iframe":var h=d(document.createElement("iframe")),m=c.iframe.css,f=a.dialogContent,k=d.extend(!0,{},c,{content:h,buttons:c.buttons});a.showLoader(function(){onIframeLoaded=
function(){return function(c){try{h[0].contentWindow.parentDialog=a}catch(e){}a.update(k)}}();a.dialogBody.addClass("type-iframe");h.appendTo(f).css(m).css({position:"absolute",visibility:"hidden"}).one("load",onIframeLoaded).attr("src",g)});break;case "deferred":a.showLoader(function(){g.done(function(e){e&&(e=d.isString(e)?{content:e}:e,e.content&&a.update(d.extend(!0,{},c,e)))}).fail(function(c,e){var g=d.isString(e)?d.String.capitalize(e):"Error",h=d.isString(c)?c:"There was an error loading content.";
a.update({title:g,content:h})})});break;case "dialog":var e=d.buildHTML(g),p={};d.each(e.children(),function(a,b){b=d(b);var c=d.String.camelize(this.nodeName.toLowerCase()),e=b.html();switch(b.attr("type")){case "json":try{e=d.parseJSON(e)}catch(g){}break;case "javascript":try{e=eval("(function($){ return "+d.trim(e)+" })("+d.globalNamespace+")")}catch(h){}break;case "text":e=b.text()}d.isNumeric(e)&&(e=parseFloat(e));p[c]=e});a.update(d.extend(!0,{},c,p))}},loading:function(c){var g=a.element;if(void 0===
c)return g.hasClass("loading");!1===c?g.removeClass("loading"):(!0===c&&(c=a.options.loading||""),d.isString(c)&&(g.addClass("loading"),a.dialogLoading.html(c)))},showLoader:function(c){var g=a.options.width,e=a.options.height,h=function(){a.dialogLoader.show().css({width:a.dialogBody.outerWidth(!0),height:a.dialogBody.outerHeight(!0)}).position({my:"top left",at:"top left",of:a.options.dialogContent});a.options.width=g;a.options.height=e;return c&&c()};return a.ready?h():a.update(d.extend({title:a.options.title,
content:"",width:a.initOptions.body.css.minWidth,height:a.initOptions.body.css.minHeight,afterShow:h},a.options.loader))},hideLoader:function(){a.element.removeClass("loading");a.dialogLoader.hide()},autoSize:function(){return"auto"==a.initOptions.css.width||"auto"==a.initOptions.css.height},finalizeContent:function(c){var g=a.options,e=g.content;a.element.css(g.css);a.dialogContent.css(g.body.css);if(!a.refreshing){null!==g.title&&a.dialogTitle.html(g.title);if(null!==e){var h=!d.isString(e)&&d(e).is("iframe");
a.dialogBody.toggleClass("type-iframe",h);if(h){g=e.parent()[0];for(c=0;1<g.childNodes.length;)h=g.childNodes[c],h!==e[0]&&g.removeChild(h),c++;e.css({position:"relative",visibility:"visible"})}else c?g.content=a.stripScript(e):e=a.stripScript(e),a.dialogContent.html(e)}a.contentReady||a.finalizeButtons();return a.element}},stripScript:function(a){if(!d.isString(a))return a;a=d(d.parseHTML(a));a.find("script").remove();return a},finalizeSize:function(c){var g=a.refElement,e=a.options,h=e.content,
m=e.css,f=e.body.css;void 0===g?g=a.refElement=a.initElement.clone().removeClass("global").insertAfter(a.element):g.insertAfter(a.element);if(!c){refTitle=g.find(e.dialogTitle);refBody=g.find(e.dialogBody);refFooter=g.find(e.dialogFooter);refButtons=g.find(e.dialogButtons);g.css(a.initOptions.css).css({display:"block"});refTitle.html(e.title);d.isEmptyObject(e.buttons)?refFooter.hide():(refFooter.show(),refButtons.append("<button>test</button>"));var k=(c=!d.isString(h)&&d(h).is("iframe"))?document.createElement("div"):
a.stripScript(h);f.width=c&&"auto"==e.width?h.contents().width():e.width;f.height=c&&"auto"==e.height?h.contents().height():e.height;refBody.css(f).toggleClass("type-iframe",c).html(k);h=refBody.width();k=refBody.height();"border-box"!==refBody.css("boxSizing")&&(f.width=h,f.height=k);f.width<f.minWidth&&(f.width=f.minWidth);f.height<f.minHeight&&(f.height=f.minHeight);var p=e.offset,h=g.width(),k=g.height(),q=d(window).width()-p,p=d(window).height()-p,w=h>q,u=k>p;m.width=w?q:h;m.height=u?p:k;"auto"!==
f.width&&(f.width-=h-m.width);0>=f.width&&(f.width="auto");"auto"!==f.height&&(f.height-=k-m.height);0>=f.height&&(f.height="auto");f.minWidth=f.minHeight="auto";refBody.css(f);f.overflowX=!w||c||refBody[0].scrollWidth<=f.width?"auto":"scroll";f.overflowY=!u||c||refBody[0].scrollHeight<=f.height?"auto":"scroll";refBody.html("")}g.css(m).css("visibility","hidden").position(e.position);m.top=g.css("top");m.left=g.css("left")},finalizeButtons:function(){var c=a.dialogFooter,g=a.dialogButtons;g.empty();
var e=a.options.buttons;d.isEmptyObject(e)?c.hide():(d.isString(e)&&g.html(e),d.isArray(e)&&d.each(e,function(a,b){var c=d.extend({},b),e=b.classNames?b.classNames:"";delete c.name;delete c.classNames;d(document.createElement("button")).attr("type","button").addClass(e).html(b.name).bind(c).appendTo(g)}),c.show())},show:function(c){if(!a.ready||!a.resizing){var g=a.options;a.refElement&&a.refElement.remove();a.contentReady||g.beforeShow.apply(a);d(document).off("keydown.foundry.dialog");if(g.escapeKey)d(document).on("keydown.foundry.dialog",
function(c){27==c.keyCode&&a.close()});a.resizing=!0;a.finalizeSize();a.element.addClass("resizing");d(window).trigger("dialogTransitionStart");a.transition[g.transition.show].show.apply(a,[function(){a.ready||(a.on("resize.dialog scroll.dialog",window,d._.debounce(function(){a.refresh()},150)),a.ready=!0);a.contentReady||(c&&c.apply(a),g.afterShow.apply(a));a.refElement.detach();a.element.removeClass("resizing");a.contentReady=!0;a.element.css({width:"auto",height:"auto"});a.removePlugin("binder");
var e=g.selectors,h=g.bindings;e&&h&&(e=d.Controller(d.uid("dialogBinder"),{defaultOptions:e},function(a){return h}),a.addPlugin("binder",e));0<a.displayQueue.length?setTimeout(function(){a.resizing=!1;a.display(a.displayQueue.shift())},500):(a.resizing=!1,d(window).trigger("dialogTransitionEnd"))}])}},"{self} removePlugin":function(a,b,e,h){void 0!==h&&delete d.Controller[h.Class.fullName]},hide:function(c){a.contentReady||a.options.beforeHide.apply(a);d(window).trigger("dialogTransitionStart");
a.transition[a.options.transition.hide].hide.apply(a,[function(){c&&c.apply(a);a.options.afterHide.apply(a);d(window).trigger("dialogTransitionEnd")}])},refresh:function(){a.closing||a.resizing||(a.finalizeSize(!0),a.resizing=!0,a.refreshing=!0,d(window).trigger("dialogTransitionStart"),a.transition[a.options.transition.show].show.apply(a,[function(){d(window).trigger("dialogTransitionEnd");a.resizing=!1;a.refreshing=!1;a.element.css({width:"auto",height:"auto"})}]))},transition:{none:{show:function(c){a.ready||
a.overlay.show();a.element.finalizeContent().show(0,c)},hide:function(c){a.overlay.hide();a.element.hide(0,c)}},fade:{show:function(c){a.ready||a.overlay.fadeOut(0).fadeIn("normal");if(a.contentReady)return a.element.finalizeContent(),c&&c();a.element.fadeOut(a.contentReady?"fast":0,function(){a.element.finalizeContent().fadeIn("normal","easeInCubic",c)})},hide:function(c){a.overlay.fadeOut("normal","easeOutCubic");a.element.fadeOut("normal","easeOutCubic",c)}},zoom:{show:function(c){var d=a.dialogBody,
e=a.dialogFooter,h=a.options.css;a.ready||(a.overlay.fadeIn("fast"),a.element.finalizeContent().css({top:parseInt(h.top)+parseInt(h.height)/2,left:parseInt(h.left)+parseInt(h.width)/2,width:0,height:0}));a.contentReady||(d.css({opacity:0}),e.css({opacity:0}));a.element.animate({top:h.top,left:h.left,width:h.width,height:h.height},"normal","easeInCubic",function(){a.element.finalizeContent(!0);d.css({opacity:1});e.css({opacity:1});return c&&c()})},hide:function(c){var d=a.options.css;a.element.animate({top:parseInt(d.top)+
parseInt(d.height)/2,left:parseInt(d.left)+parseInt(d.width)/2,width:0,height:0},"normal","easeOutCubic",function(){a.overlay.fadeOut("fast");return c&&c()})}}},overlay:d("<div></div>"),createOverlay:function(){a.overlay.css(a.options.overlay.css).click(function(){a.close()}).appendTo("body")},closing:!1,close:function(){if(!a.closing)return a.closing=!0,d(document).off("keydown.foundry.dialog"),a.hide(function(){a.removePlugin("binder");a.element.remove();a.refElement&&a.refElement.remove()}),a},
"{closeButton} click":function(){a.close()},content:function(){var c=a.dialogContent,d=c.find("> iframe");return 0<d.length?d.contents():c},messageGroup:function(){var c=a.dialogBody,g=c.find("> [data-message-group]");1>g.length&&(g=d("<div data-message-group></div>").prependTo(c));return g}}});d.dialog=function(a){if(window.parentDialog)return window.parentDialog.update(a);var c=d(".foundryDialog.global"),g=c.controllers("dialog")[0];if(1>arguments.length&&g)return g;1>c.length&&(c=d(d.View("dialog/default")).addClass("global").addClass(a.customClass).appendTo("body"));
if("string"===typeof a||d.isDeferred(a)){var e=arguments[1];a={content:a,afterShow:d.isFunction(e)?e:d.noop}}g?g.update(a):g=c.addController("Dialog",a);return g}};a();f.resolveWith(a)})})})();(function(){FD31.module("ui/position",function(d){var f=function(){(function(a,b){function c(a,b,c){return[parseFloat(a[0])*(u.test(a[0])?b/100:1),parseFloat(a[1])*(u.test(a[1])?c/100:1)]}function d(b){var c=b[0];return 9===c.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:b.width(),
height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var e,h=Math.max,m=Math.abs,f=Math.round,k=/left|center|right/,p=/top|center|bottom/,q=/[\+\-]\d+(\.[\d]+)?%?/,w=/^\w+/,u=/%$/,v=a.fn.position;a.position={scrollbarWidth:function(){if(e!==b)return e;var c,d,g=a("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");
d=g.children()[0];a("body").append(g);c=d.offsetWidth;g.css("overflow","scroll");d=d.offsetWidth;c===d&&(d=g[0].clientWidth);g.remove();return e=c-d},getScrollInfo:function(b){var c=b.isWindow?"":b.element.css("overflow-x"),e=b.isWindow?"":b.element.css("overflow-y"),c="scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth;return{width:"scroll"===e||"auto"===e&&b.height<b.element[0].scrollHeight?a.position.scrollbarWidth():0,height:c?a.position.scrollbarWidth():0}},getWithinInfo:function(b){b=
a(b||window);var c=a.isWindow(b[0]);return{element:b,isWindow:c,offset:b.offset()||{left:0,top:0},scrollLeft:b.scrollLeft(),scrollTop:b.scrollTop(),width:c?b.width():b.outerWidth(),height:c?b.height():b.outerHeight()}}};a.fn.position=function(b){if(!b||!b.of)return v.apply(this,arguments);b=a.extend({},b);var e,t,u,z,A,G,L=a(b.of),H=a.position.getWithinInfo(b.within),D=a.position.getScrollInfo(H),C=(b.collision||"flip").split(" "),I={};G=d(L);L[0].preventDefault&&(b.at="left top");t=G.width;u=G.height;
z=G.offset;A=a.extend({},z);a.each(["my","at"],function(){var a=(b[this]||"").split(" "),c,e;1===a.length&&(a=k.test(a[0])?a.concat(["center"]):p.test(a[0])?["center"].concat(a):["center","center"]);a[0]=k.test(a[0])?a[0]:"center";a[1]=p.test(a[1])?a[1]:"center";c=q.exec(a[0]);e=q.exec(a[1]);I[this]=[c?c[0]:0,e?e[0]:0];b[this]=[w.exec(a[0])[0],w.exec(a[1])[0]]});1===C.length&&(C[1]=C[0]);"right"===b.at[0]?A.left+=t:"center"===b.at[0]&&(A.left+=t/2);"bottom"===b.at[1]?A.top+=u:"center"===b.at[1]&&
(A.top+=u/2);e=c(I.at,t,u);A.left+=e[0];A.top+=e[1];return this.each(function(){var d,g,k=a(this),n=k.outerWidth(),p=k.outerHeight(),q=parseInt(a.css(this,"marginLeft"),10)||0,v=parseInt(a.css(this,"marginTop"),10)||0,w=n+q+(parseInt(a.css(this,"marginRight"),10)||0)+D.width,G=p+v+(parseInt(a.css(this,"marginBottom"),10)||0)+D.height,J=a.extend({},A),U=c(I.my,k.outerWidth(),k.outerHeight());"right"===b.my[0]?J.left-=n:"center"===b.my[0]&&(J.left-=n/2);"bottom"===b.my[1]?J.top-=p:"center"===b.my[1]&&
(J.top-=p/2);J.left+=U[0];J.top+=U[1];a.support.offsetFractions||(J.left=f(J.left),J.top=f(J.top));d={marginLeft:q,marginTop:v};a.each(["left","top"],function(c,g){if(a.ui.position[C[c]])a.ui.position[C[c]][g](J,{targetWidth:t,targetHeight:u,elemWidth:n,elemHeight:p,collisionPosition:d,collisionWidth:w,collisionHeight:G,offset:[e[0]+U[0],e[1]+U[1]],my:b.my,at:b.at,within:H,elem:k})});b.using&&(g=function(a){var c=z.left-J.left,e=c+t-n,d=z.top-J.top,g=d+u-p,f={target:{element:L,left:z.left,top:z.top,
width:t,height:u},element:{element:k,left:J.left,top:J.top,width:n,height:p},horizontal:0>e?"left":0<c?"right":"center",vertical:0>g?"top":0<d?"bottom":"middle"};t<n&&m(c+e)<t&&(f.horizontal="center");u<p&&m(d+g)<u&&(f.vertical="middle");h(m(c),m(e))>h(m(d),m(g))?f.important="horizontal":f.important="vertical";b.using.call(this,a,f)});k.offset(a.extend(J,{using:g}))})};a.ui.position={fit:{left:function(a,b){var c=b.within,e=c.isWindow?c.scrollLeft:c.offset.left,d=c.width,g=a.left-b.collisionPosition.marginLeft,
c=e-g,m=g+b.collisionWidth-d-e;b.collisionWidth>d?0<c&&0>=m?(e=a.left+c+b.collisionWidth-d-e,a.left+=c-e):a.left=0<m&&0>=c?e:c>m?e+d-b.collisionWidth:e:a.left=0<c?a.left+c:0<m?a.left-m:h(a.left-g,a.left)},top:function(a,b){var c=b.within,e=c.isWindow?c.scrollTop:c.offset.top,d=b.within.height,g=a.top-b.collisionPosition.marginTop,c=e-g,m=g+b.collisionHeight-d-e;b.collisionHeight>d?0<c&&0>=m?(e=a.top+c+b.collisionHeight-d-e,a.top+=c-e):a.top=0<m&&0>=c?e:c>m?e+d-b.collisionHeight:e:a.top=0<c?a.top+
c:0<m?a.top-m:h(a.top-g,a.top)}},flip:{left:function(a,b){var c=b.within,e=c.offset.left+c.scrollLeft,d=c.width,g=c.isWindow?c.scrollLeft:c.offset.left,h=a.left-b.collisionPosition.marginLeft,c=h-g,f=h+b.collisionWidth-d-g,h="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,k="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,r=-2*b.offset[0];if(0>c){if(e=a.left+h+k+r+b.collisionWidth-d-e,0>e||e<m(c))a.left+=h+k+r}else 0<f&&(e=a.left-b.collisionPosition.marginLeft+h+k+r-
g,0<e||m(e)<f)&&(a.left+=h+k+r)},top:function(a,b){var c=b.within,e=c.offset.top+c.scrollTop,d=c.height,g=c.isWindow?c.scrollTop:c.offset.top,h=a.top-b.collisionPosition.marginTop,c=h-g,f=h+b.collisionHeight-d-g,h="top"===b.my[1]?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,k="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,r=-2*b.offset[1];0>c?(e=a.top+h+k+r+b.collisionHeight-d-e,a.top+h+k+r>c&&(0>e||e<m(c))&&(a.top+=h+k+r)):0<f&&(e=a.top-b.collisionPosition.marginTop+h+k+r-
g,a.top+h+k+r>f&&(0<e||m(e)<f)&&(a.top+=h+k+r))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments);a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments);a.ui.position.fit.top.apply(this,arguments)}}};(function(){var b,c,e,d,g=document.getElementsByTagName("body")[0];e=document.createElement("div");b=document.createElement(g?"div":"body");c={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};g&&a.extend(c,
{position:"absolute",left:"-1000px",top:"-1000px"});for(d in c)b.style[d]=c[d];b.appendChild(e);c=g||document.documentElement;c.insertBefore(b,c.firstChild);e.style.cssText="position: absolute; left: 10.7432222px;";e=a(e).offset().left;a.support.offsetFractions=10<e&&11>e;b.innerHTML="";c.removeChild(b)})()})(d)};f();this.resolveWith(f)})})();(function(){FD31.module("easing",function(d){var f=function(){d.easing.jswing=d.easing.swing;d.extend(d.easing,{def:"easeOutQuad",swing:function(a,b,c,g,e){return d.easing[d.easing.def](a,
b,c,g,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return 1>(b/=e/2)?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return 1>(b/=e/2)?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*
((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return 1>(b/=e/2)?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return 1>(b/=e/2)?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,
b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return 0==b?c:b==e?c+d:1>(b/=e/2)?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return 1>
(b/=e/2)?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){a=1.70158;var h=0,m=d;if(0==b)return c;if(1==(b/=e))return c+d;h||(h=0.3*e);m<Math.abs(d)?(m=d,a=h/4):a=h/(2*Math.PI)*Math.asin(d/m);return-(m*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-a)*Math.PI/h))+c},easeOutElastic:function(a,b,c,d,e){a=1.70158;var h=0,m=d;if(0==b)return c;if(1==(b/=e))return c+d;h||(h=0.3*e);m<Math.abs(d)?(m=d,a=h/4):a=h/(2*Math.PI)*Math.asin(d/m);return m*Math.pow(2,-10*b)*Math.sin(2*
(b*e-a)*Math.PI/h)+d+c},easeInOutElastic:function(a,b,c,d,e){a=1.70158;var h=0,m=d;if(0==b)return c;if(2==(b/=e/2))return c+d;h||(h=0.3*e*1.5);m<Math.abs(d)?(m=d,a=h/4):a=h/(2*Math.PI)*Math.asin(d/m);return 1>b?-0.5*m*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-a)*Math.PI/h)+c:m*Math.pow(2,-10*(b-=1))*Math.sin(2*(b*e-a)*Math.PI/h)*0.5+d+c},easeInBack:function(a,b,c,d,e,h){void 0==h&&(h=1.70158);return d*(b/=e)*b*((h+1)*b-h)+c},easeOutBack:function(a,b,c,d,e,h){void 0==h&&(h=1.70158);return d*((b=b/e-1)*
b*((h+1)*b+h)+1)+c},easeInOutBack:function(a,b,c,d,e,h){void 0==h&&(h=1.70158);return 1>(b/=e/2)?d/2*b*b*(((h*=1.525)+1)*b-h)+c:d/2*((b-=2)*b*(((h*=1.525)+1)*b+h)+2)+c},easeInBounce:function(a,b,c,g,e){return g-d.easing.easeOutBounce(a,e-b,0,g,e)+c},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?7.5625*d*b*b+c:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+0.75)+c:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+0.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+0.984375)+c},easeInOutBounce:function(a,b,c,g,e){return b<e/2?0.5*
d.easing.easeInBounce(a,2*b,0,g,e)+c:0.5*d.easing.easeOutBounce(a,2*b-e,0,g,e)+0.5*g+c}})};f();this.resolveWith(f)})})();(function(){FD31.module("ui/effect",function(d){var f=function(){(function(a,b){a.effects={effect:{}};(function(a,b){function e(a,b,c){var e=w[b.type]||{};if(null==a)return c||!b.def?null:b.def;a=e.floor?~~a:parseFloat(a);return isNaN(a)?b.def:e.mod?(a+e.mod)%e.mod:0>a?0:e.max<a?e.max:a}function d(b){var e=p(),g=e._rgba=[];b=b.toLowerCase();x(n,function(a,c){var d,h=c.re.exec(b);
d=h&&c.parse(h);h=c.space||"rgba";if(d)return d=e[h](d),e[q[h].cache]=d[q[h].cache],g=e._rgba=d._rgba,!1});return g.length?("0,0,0,0"===g.join()&&a.extend(g,s.transparent),e):s[b]}function f(a,b,c){c=(c+1)%1;return 1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}var k=/^([\-+])=\s*(\d+\.?\d*)/,n=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],
p=a.Color=function(b,e,d,g){return new a.Color.fn.parse(b,e,d,g)},q={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},w={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},u=p.support={},v=a("<p>")[0],s,x=a.each;v.style.cssText="background-color:rgba(1,1,1,.5)";u.rgba=-1<v.style.backgroundColor.indexOf("rgba");x(q,function(a,b){b.cache=
"_"+a;b.props.alpha={idx:3,type:"percent",def:1}});p.fn=a.extend(p.prototype,{parse:function(f,m,k,r){if(f===b)return this._rgba=[null,null,null,null],this;if(f.jquery||f.nodeType)f=a(f).css(m),m=b;var n=this,u=a.type(f),v=this._rgba=[];m!==b&&(f=[f,m,k,r],u="array");if("string"===u)return this.parse(d(f)||s._default);if("array"===u)return x(q.rgba.props,function(a,b){v[b.idx]=e(f[b.idx],b)}),this;if("object"===u)return f instanceof p?x(q,function(a,b){f[b.cache]&&(n[b.cache]=f[b.cache].slice())}):
x(q,function(b,d){var g=d.cache;x(d.props,function(a,b){if(!n[g]&&d.to){if("alpha"===a||null==f[a])return;n[g]=d.to(n._rgba)}n[g][b.idx]=e(f[a],b,!0)});n[g]&&0>a.inArray(null,n[g].slice(0,3))&&(n[g][3]=1,d.from&&(n._rgba=d.from(n[g])))}),this},is:function(a){var b=p(a),c=!0,e=this;x(q,function(a,d){var g,h=b[d.cache];h&&(g=e[d.cache]||d.to&&d.to(e._rgba)||[],x(d.props,function(a,b){if(null!=h[b.idx])return c=h[b.idx]===g[b.idx]}));return c});return c},_space:function(){var a=[],b=this;x(q,function(c,
e){b[e.cache]&&a.push(c)});return a.pop()},transition:function(a,b){var c=p(a),d=c._space(),g=q[d],h=0===this.alpha()?p("transparent"):this,f=h[g.cache]||g.to(h._rgba),m=f.slice(),c=c[g.cache];x(g.props,function(a,d){var g=d.idx,h=f[g],k=c[g],r=w[d.type]||{};null!==k&&(null===h?m[g]=k:(r.mod&&(k-h>r.mod/2?h+=r.mod:h-k>r.mod/2&&(h-=r.mod)),m[g]=e((k-h)*b+h,d)))});return this[d](m)},blend:function(b){if(1===this._rgba[3])return this;var e=this._rgba.slice(),d=e.pop(),g=p(b)._rgba;return p(a.map(e,function(a,
b){return(1-d)*g[b]+d*a}))},toRgbaString:function(){var b="rgba(",e=a.map(this._rgba,function(a,b){return null==a?2<b?1:0:a});1===e[3]&&(e.pop(),b="rgb(");return b+e.join()+")"},toHslaString:function(){var b="hsla(",e=a.map(this.hsla(),function(a,b){null==a&&(a=2<b?1:0);b&&3>b&&(a=Math.round(100*a)+"%");return a});1===e[3]&&(e.pop(),b="hsl(");return b+e.join()+")"},toHexString:function(b){var e=this._rgba.slice(),d=e.pop();b&&e.push(~~(255*d));return"#"+a.map(e,function(a){a=(a||0).toString(16);return 1===
a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});p.fn.parse.prototype=p.fn;q.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/255,c=a[1]/255,e=a[2]/255;a=a[3];var d=Math.max(b,c,e),g=Math.min(b,c,e),h=d-g,f=d+g,m=0.5*f,f=0===h?0:0.5>=m?h/f:h/(2-f);return[Math.round(g===d?0:b===d?60*(c-e)/h+360:c===d?60*(e-b)/h+120:60*(b-c)/h+240)%360,f,m,null==a?1:a]};q.hsla.from=function(a){if(null==a[0]||
null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,c=a[1],e=a[2];a=a[3];c=0.5>=e?e*(1+c):e+c-e*c;e=2*e-c;return[Math.round(255*f(e,c,b+1/3)),Math.round(255*f(e,c,b)),Math.round(255*f(e,c,b-1/3)),a]};x(q,function(d,h){var f=h.props,m=h.cache,n=h.to,q=h.from;p.fn[d]=function(d){n&&!this[m]&&(this[m]=n(this._rgba));if(d===b)return this[m].slice();var h,k=a.type(d),r="array"===k||"object"===k?d:arguments,s=this[m].slice();x(f,function(a,b){var c=r["object"===k?a:b.idx];null==c&&(c=s[b.idx]);
s[b.idx]=e(c,b)});return q?(h=p(q(s)),h[m]=s,h):p(s)};x(f,function(b,e){p.fn[b]||(p.fn[b]=function(g){var h=a.type(g),f="alpha"===b?this._hsla?"hsla":"rgba":d,m=this[f](),n=m[e.idx];if("undefined"===h)return n;"function"===h&&(g=g.call(this,n),h=a.type(g));if(null==g&&e.empty)return this;"string"===h&&(h=k.exec(g))&&(g=n+parseFloat(h[2])*("+"===h[1]?1:-1));m[e.idx]=g;return this[f](m)})})});p.hook=function(b){b=b.split(" ");x(b,function(b,e){a.cssHooks[e]={set:function(b,g){var f,m="";if("transparent"!==
g&&("string"!==a.type(g)||(f=d(g)))){g=p(f||g);if(!u.rgba&&1!==g._rgba[3]){for(f="backgroundColor"===e?b.parentNode:b;(""===m||"transparent"===m)&&f&&f.style;)try{m=a.css(f,"backgroundColor"),f=f.parentNode}catch(k){}g=g.blend(m&&"transparent"!==m?m:"_default")}g=g.toRgbaString()}try{b.style[e]=g}catch(r){}}};a.fx.step[e]=function(b){b.colorInit||(b.start=p(b.elem,e),b.end=p(b.end),b.colorInit=!0);a.cssHooks[e].set(b.elem,b.start.transition(b.end,b.pos))}})};p.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");
a.cssHooks.borderColor={expand:function(a){var b={};x(["Top","Right","Bottom","Left"],function(c,e){b["border"+e+"Color"]=a});return b}};s=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(d);(function(){function c(b){var c,e=b.ownerDocument.defaultView?
b.ownerDocument.defaultView.getComputedStyle(b,null):b.currentStyle,d={};if(e&&e.length&&e[0]&&e[e[0]])for(b=e.length;b--;)c=e[b],"string"===typeof e[c]&&(d[a.camelCase(c)]=e[c]);else for(c in e)"string"===typeof e[c]&&(d[c]=e[c]);return d}var g=["add","remove","toggle"],e={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,c){a.fx.step[c]=function(a){if("none"!==
a.end&&!a.setAttr||1===a.pos&&!a.setAttr)d.style(a.elem,c,a.end),a.setAttr=!0}});a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});a.effects.animateClass=function(b,d,f,k){var p=a.speed(d,f,k);return this.queue(function(){var d=a(this),f=d.attr("class")||"",m,k=p.children?d.find("*").addBack():d,k=k.map(function(){return{el:a(this),start:c(this)}});m=function(){a.each(g,function(a,c){if(b[c])d[c+"Class"](b[c])})};m();k=k.map(function(){this.end=
c(this.el[0]);var b=this.start,d=this.end,g={},h,f;for(h in d)f=d[h],b[h]===f||e[h]||!a.fx.step[h]&&isNaN(parseFloat(f))||(g[h]=f);this.diff=g;return this});d.attr("class",f);k=k.map(function(){var b=this,c=a.Deferred(),e=a.extend({},p,{queue:!1,complete:function(){c.resolve(b)}});this.el.animate(this.diff,e);return c.promise()});a.when.apply(a,k.get()).done(function(){m();a.each(arguments,function(){var b=this.el;a.each(this.diff,function(a){b.css(a,"")})});p.complete.call(d[0])})})};a.fn.extend({addClass:function(b){return function(c,
e,d,g){return e?a.effects.animateClass.call(this,{add:c},e,d,g):b.apply(this,arguments)}}(a.fn.addClass),removeClass:function(b){return function(c,e,d,g){return 1<arguments.length?a.effects.animateClass.call(this,{remove:c},e,d,g):b.apply(this,arguments)}}(a.fn.removeClass),toggleClass:function(c){return function(e,d,g,f,k){return"boolean"===typeof d||d===b?g?a.effects.animateClass.call(this,d?{add:e}:{remove:e},g,f,k):c.apply(this,arguments):a.effects.animateClass.call(this,{toggle:e},d,g,f)}}(a.fn.toggleClass),
switchClass:function(b,c,e,d,g){return a.effects.animateClass.call(this,{add:c,remove:b},e,d,g)}})})();(function(){function c(b,c,d,g){a.isPlainObject(b)&&(c=b,b=b.effect);b={effect:b};null==c&&(c={});a.isFunction(c)&&(g=c,d=null,c={});if("number"===typeof c||a.fx.speeds[c])g=d,d=c,c={};a.isFunction(d)&&(g=d,d=null);c&&a.extend(b,c);d=d||c.duration;b.duration=a.fx.off?0:"number"===typeof d?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default;b.complete=g||c.complete;return b}function d(b){return!b||
"number"===typeof b||a.fx.speeds[b]||"string"===typeof b&&!a.effects.effect[b]||a.isFunction(b)||"object"===typeof b&&!b.effect?!0:!1}a.extend(a.effects,{version:"1.10.4pre",save:function(a,b){for(var c=0;c<b.length;c++)null!==b[c]&&a.data("ui-effects-"+b[c],a[0].style[b[c]])},restore:function(a,c){var d,g;for(g=0;g<c.length;g++)null!==c[g]&&(d=a.data("ui-effects-"+c[g]),d===b&&(d=""),a.css(c[g],d))},setMode:function(a,b){"toggle"===b&&(b=a.is(":hidden")?"show":"hide");return b},getBaseline:function(a,
b){var c,d;switch(a[0]){case "top":c=0;break;case "middle":c=0.5;break;case "bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case "left":d=0;break;case "center":d=0.5;break;case "right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",
border:"none",margin:0,padding:0}),g={width:b.width(),height:b.height()},f=document.activeElement;try{f.id}catch(k){f=document.body}b.wrap(d);(b[0]===f||a.contains(b[0],f))&&a(f).focus();d=b.parent();"static"===b.css("position")?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d);isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,
right:"auto",bottom:"auto"}));b.css(g);return d.css(c).show()},removeWrapper:function(b){var c=document.activeElement;b.parent().is(".ui-effects-wrapper")&&(b.parent().replaceWith(b),(b[0]===c||a.contains(b[0],c))&&a(c).focus());return b},setTransition:function(b,c,d,g){g=g||{};a.each(c,function(a,c){var h=b.cssUnit(c);0<h[0]&&(g[c]=h[0]*d+h[1])});return g}});a.fn.extend({effect:function(){function b(c){function e(){a.isFunction(f)&&f.call(g[0]);a.isFunction(c)&&c()}var g=a(this),f=d.complete,m=d.mode;
(g.is(":hidden")?"hide"===m:"show"===m)?(g[m](),e()):k.call(g[0],d,e)}var d=c.apply(this,arguments),g=d.mode,f=d.queue,k=a.effects.effect[d.effect];return a.fx.off||!k?g?this[g](d.duration,d.complete):this.each(function(){d.complete&&d.complete.call(this)}):!1===f?this.each(b):this.queue(f||"fx",b)},show:function(a){return function(b){if(d(b))return a.apply(this,arguments);var f=c.apply(this,arguments);f.mode="show";return this.effect.call(this,f)}}(a.fn.show),hide:function(a){return function(b){if(d(b))return a.apply(this,
arguments);var f=c.apply(this,arguments);f.mode="hide";return this.effect.call(this,f)}}(a.fn.hide),toggle:function(a){return function(b){if(d(b)||"boolean"===typeof b)return a.apply(this,arguments);var f=c.apply(this,arguments);f.mode="toggle";return this.effect.call(this,f)}}(a.fn.toggle),cssUnit:function(b){var c=this.css(b),d=[];a.each(["em","px","%","pt"],function(a,b){0<c.indexOf(b)&&(d=[parseFloat(c),b])});return d}})})();(function(){var b={};a.each(["Quad","Cubic","Quart","Quint","Expo"],
function(a,e){b[e]=function(b){return Math.pow(b,a+2)}});a.extend(b,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;a<((b=Math.pow(2,--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}});a.each(b,function(b,c){a.easing["easeIn"+b]=c;a.easing["easeOut"+b]=function(a){return 1-
c(1-a)};a.easing["easeInOut"+b]=function(a){return 0.5>a?c(2*a)/2:1-c(-2*a+2)/2}})})()})(d);(function(a,b){var c=/up|down|vertical/,d=/up|left|vertical|horizontal/;a.effects.effect.blind=function(b,f){var m=a(this),k="position top bottom left right height width".split(" "),n=a.effects.setMode(m,b.mode||"hide"),p=b.direction||"up",q=c.test(p),w=q?"height":"width",u=q?"top":"left",p=d.test(p),v={},s="show"===n,x,t,E;m.parent().is(".ui-effects-wrapper")?a.effects.save(m.parent(),k):a.effects.save(m,
k);m.show();x=a.effects.createWrapper(m).css({overflow:"hidden"});t=x[w]();E=parseFloat(x.css(u))||0;v[w]=s?t:0;p||(m.css(q?"bottom":"right",0).css(q?"top":"left","auto").css({position:"absolute"}),v[u]=s?E:t+E);s&&(x.css(w,0),p||x.css(u,E+t));x.animate(v,{duration:b.duration,easing:b.easing,queue:!1,complete:function(){"hide"===n&&m.hide();a.effects.restore(m,k);a.effects.removeWrapper(m);f()}})}})(d);(function(a,b){a.effects.effect.explode=function(b,d){function e(){u.push(this);u.length===f*m&&
(k.css({visibility:"visible"}),a(u).remove(),n||k.hide(),d())}var f=b.pieces?Math.round(Math.sqrt(b.pieces)):3,m=f,k=a(this),n="show"===a.effects.setMode(k,b.mode||"hide"),p=k.show().css("visibility","hidden").offset(),q=Math.ceil(k.outerWidth()/m),w=Math.ceil(k.outerHeight()/f),u=[],v,s,x,t,E,z;for(v=0;v<f;v++)for(t=p.top+v*w,z=v-(f-1)/2,s=0;s<m;s++)x=p.left+s*q,E=s-(m-1)/2,k.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*q,top:-v*w}).parent().addClass("ui-effects-explode").css({position:"absolute",
overflow:"hidden",width:q,height:w,left:x+(n?E*q:0),top:t+(n?z*w:0),opacity:n?0:1}).animate({left:x+(n?0:E*q),top:t+(n?0:z*w),opacity:n?1:0},b.duration||500,b.easing,e)}})(d);(function(a,b){a.effects.effect.pulsate=function(b,d){var e=a(this),f=a.effects.setMode(e,b.mode||"show"),m="show"===f,k="hide"===f,f=2*(b.times||5)+(m||"hide"===f?1:0),n=b.duration/f,p=0,q=e.queue(),w=q.length;if(m||!e.is(":visible"))e.css("opacity",0).show(),p=1;for(m=1;m<f;m++)e.animate({opacity:p},n,b.easing),p=1-p;e.animate({opacity:p},
n,b.easing);e.queue(function(){k&&e.hide();d()});1<w&&q.splice.apply(q,[1,0].concat(q.splice(w,f+1)));e.dequeue()}})(d);(function(a,b){a.effects.effect.transfer=function(b,d){var e=a(this),f=a(b.to),m="fixed"===f.css("position"),k=a("body"),n=m?k.scrollTop():0,k=m?k.scrollLeft():0,p=f.offset(),f={top:p.top-n,left:p.left-k,height:f.innerHeight(),width:f.innerWidth()},p=e.offset(),q=a("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(b.className).css({top:p.top-n,left:p.left-
k,height:e.innerHeight(),width:e.innerWidth(),position:m?"fixed":"absolute"}).animate(f,b.duration,b.easing,function(){q.remove();d()})}})(d);(function(a,b){a.effects.effect.bounce=function(b,d){var e=a(this),f="position top bottom left right height width".split(" "),m=a.effects.setMode(e,b.mode||"effect"),k="hide"===m,n="show"===m,p=b.direction||"up",m=b.distance,q=b.times||5,w=2*q+(n||k?1:0),u=b.duration/w,v=b.easing,s="up"===p||"down"===p?"top":"left",p="up"===p||"left"===p,x,t,E=e.queue(),z=E.length;
(n||k)&&f.push("opacity");a.effects.save(e,f);e.show();a.effects.createWrapper(e);m||(m=e["top"===s?"outerHeight":"outerWidth"]()/3);n&&(t={opacity:1},t[s]=0,e.css("opacity",0).css(s,p?2*-m:2*m).animate(t,u,v));k&&(m/=Math.pow(2,q-1));t={};for(n=t[s]=0;n<q;n++)x={},x[s]=(p?"-=":"+=")+m,e.animate(x,u,v).animate(t,u,v),m=k?2*m:m/2;k&&(x={opacity:0},x[s]=(p?"-=":"+=")+m,e.animate(x,u,v));e.queue(function(){k&&e.hide();a.effects.restore(e,f);a.effects.removeWrapper(e);d()});1<z&&E.splice.apply(E,[1,0].concat(E.splice(z,
w+1)));e.dequeue()}})(d);(function(a,b){a.effects.effect.fade=function(b,d){var e=a(this),f=a.effects.setMode(e,b.mode||"toggle");e.animate({opacity:f},{queue:!1,duration:b.duration,easing:b.easing,complete:d})}})(d);(function(a,b){a.effects.effect.puff=function(b,d){var e=a(this),f=a.effects.setMode(e,b.mode||"hide"),m="hide"===f,k=parseInt(b.percent,10)||150,n=k/100,p={height:e.height(),width:e.width(),outerHeight:e.outerHeight(),outerWidth:e.outerWidth()};a.extend(b,{effect:"scale",queue:!1,fade:!0,
mode:f,complete:d,percent:m?k:100,from:m?p:{height:p.height*n,width:p.width*n,outerHeight:p.outerHeight*n,outerWidth:p.outerWidth*n}});e.effect(b)};a.effects.effect.scale=function(b,d){var e=a(this),f=a.extend(!0,{},b),m=a.effects.setMode(e,b.mode||"effect"),k=parseInt(b.percent,10)||(0===parseInt(b.percent,10)?0:"hide"===m?0:100),n=b.direction||"both",p=b.origin,q={height:e.height(),width:e.width(),outerHeight:e.outerHeight(),outerWidth:e.outerWidth()},w="horizontal"!==n?k/100:1,k="vertical"!==n?
k/100:1;f.effect="size";f.queue=!1;f.complete=d;"effect"!==m&&(f.origin=p||["middle","center"],f.restore=!0);f.from=b.from||("show"===m?{height:0,width:0,outerHeight:0,outerWidth:0}:q);f.to={height:q.height*w,width:q.width*k,outerHeight:q.outerHeight*w,outerWidth:q.outerWidth*k};f.fade&&("show"===m&&(f.from.opacity=0,f.to.opacity=1),"hide"===m&&(f.from.opacity=1,f.to.opacity=0));e.effect(f)};a.effects.effect.size=function(b,d){var e,f,m,k,n,p,q=a(this),w="position top bottom left right width height overflow opacity".split(" ");
n="position top bottom left right overflow opacity".split(" ");var u=["width","height","overflow"],v=["fontSize"],s=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],x=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],t=a.effects.setMode(q,b.mode||"effect"),E=b.restore||"effect"!==t,z=b.scale||"both";p=b.origin||["middle","center"];var A=q.css("position"),G=E?w:n,L={height:0,width:0,outerHeight:0,outerWidth:0};"show"===t&&q.show();n={height:q.height(),width:q.width(),
outerHeight:q.outerHeight(),outerWidth:q.outerWidth()};"toggle"===b.mode&&"show"===t?(q.from=b.to||L,q.to=b.from||n):(q.from=b.from||("show"===t?L:n),q.to=b.to||("hide"===t?L:n));m=q.from.height/n.height;k=q.from.width/n.width;e=q.to.height/n.height;f=q.to.width/n.width;if("box"===z||"both"===z)m!==e&&(G=G.concat(s),q.from=a.effects.setTransition(q,s,m,q.from),q.to=a.effects.setTransition(q,s,e,q.to)),k!==f&&(G=G.concat(x),q.from=a.effects.setTransition(q,x,k,q.from),q.to=a.effects.setTransition(q,
x,f,q.to));"content"!==z&&"both"!==z||m===e||(G=G.concat(v).concat(u),q.from=a.effects.setTransition(q,v,m,q.from),q.to=a.effects.setTransition(q,v,e,q.to));a.effects.save(q,G);q.show();a.effects.createWrapper(q);q.css("overflow","hidden").css(q.from);p&&(p=a.effects.getBaseline(p,n),q.from.top=(n.outerHeight-q.outerHeight())*p.y,q.from.left=(n.outerWidth-q.outerWidth())*p.x,q.to.top=(n.outerHeight-q.to.outerHeight)*p.y,q.to.left=(n.outerWidth-q.to.outerWidth)*p.x);q.css(q.from);if("content"===z||
"both"===z)s=s.concat(["marginTop","marginBottom"]).concat(v),x=x.concat(["marginLeft","marginRight"]),u=w.concat(s).concat(x),q.find("*[width]").each(function(){var d=a(this),g=d.height(),n=d.width(),p=d.outerHeight(),q=d.outerWidth();E&&a.effects.save(d,u);d.from={height:g*m,width:n*k,outerHeight:p*m,outerWidth:q*k};d.to={height:g*e,width:n*f,outerHeight:g*e,outerWidth:n*f};m!==e&&(d.from=a.effects.setTransition(d,s,m,d.from),d.to=a.effects.setTransition(d,s,e,d.to));k!==f&&(d.from=a.effects.setTransition(d,
x,k,d.from),d.to=a.effects.setTransition(d,x,f,d.to));d.css(d.from);d.animate(d.to,b.duration,b.easing,function(){E&&a.effects.restore(d,u)})});q.animate(q.to,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){0===q.to.opacity&&q.css("opacity",q.from.opacity);"hide"===t&&q.hide();a.effects.restore(q,G);E||("static"===A?q.css({position:"relative",top:q.to.top,left:q.to.left}):a.each(["top","left"],function(a,b){q.css(b,function(b,c){var e=parseInt(c,10),d=a?q.to.left:q.to.top;return"auto"===
c?d+"px":e+d+"px"})}));a.effects.removeWrapper(q);d()}})}})(d);(function(a,b){a.effects.effect.clip=function(b,d){var e=a(this),f="position top bottom left right height width".split(" "),m="show"===a.effects.setMode(e,b.mode||"hide"),k="vertical"===(b.direction||"vertical"),n=k?"height":"width",k=k?"top":"left",p={},q,w;a.effects.save(e,f);e.show();q=a.effects.createWrapper(e).css({overflow:"hidden"});q="IMG"===e[0].tagName?q:e;w=q[n]();m&&(q.css(n,0),q.css(k,w/2));p[n]=m?w:0;p[k]=m?0:w/2;q.animate(p,
{queue:!1,duration:b.duration,easing:b.easing,complete:function(){m||e.hide();a.effects.restore(e,f);a.effects.removeWrapper(e);d()}})}})(d);(function(a,b){a.effects.effect.fold=function(b,d){var e=a(this),f="position top bottom left right height width".split(" "),m=a.effects.setMode(e,b.mode||"hide"),k="show"===m,n="hide"===m,m=b.size||15,p=/([0-9]+)%/.exec(m),q=!!b.horizFirst,w=k!==q,u=w?["width","height"]:["height","width"],v=b.duration/2,s,x={},t={};a.effects.save(e,f);e.show();s=a.effects.createWrapper(e).css({overflow:"hidden"});
w=w?[s.width(),s.height()]:[s.height(),s.width()];p&&(m=parseInt(p[1],10)/100*w[n?0:1]);k&&s.css(q?{height:0,width:m}:{height:m,width:0});x[u[0]]=k?w[0]:m;t[u[1]]=k?w[1]:0;s.animate(x,v,b.easing).animate(t,v,b.easing,function(){n&&e.hide();a.effects.restore(e,f);a.effects.removeWrapper(e);d()})}})(d);(function(a,b){a.effects.effect.shake=function(b,d){var e=a(this),f="position top bottom left right height width".split(" "),m=a.effects.setMode(e,b.mode||"effect"),k=b.direction||"left",n=b.distance||
20,p=b.times||3,q=2*p+1,w=Math.round(b.duration/q),u="up"===k||"down"===k?"top":"left",v="up"===k||"left"===k,k={},s={},x={},t=e.queue(),E=t.length;a.effects.save(e,f);e.show();a.effects.createWrapper(e);k[u]=(v?"-=":"+=")+n;s[u]=(v?"+=":"-=")+2*n;x[u]=(v?"-=":"+=")+2*n;e.animate(k,w,b.easing);for(n=1;n<p;n++)e.animate(s,w,b.easing).animate(x,w,b.easing);e.animate(s,w,b.easing).animate(k,w/2,b.easing).queue(function(){"hide"===m&&e.hide();a.effects.restore(e,f);a.effects.removeWrapper(e);d()});1<
E&&t.splice.apply(t,[1,0].concat(t.splice(E,q+1)));e.dequeue()}})(d);(function(a,b){a.effects.effect.drop=function(b,d){var e=a(this),f="position top bottom left right opacity height width".split(" "),m=a.effects.setMode(e,b.mode||"hide"),k="show"===m,n=b.direction||"left",p="up"===n||"down"===n?"top":"left",n="up"===n||"left"===n?"pos":"neg",q={opacity:k?1:0},w;a.effects.save(e,f);e.show();a.effects.createWrapper(e);w=b.distance||e["top"===p?"outerHeight":"outerWidth"](!0)/2;k&&e.css("opacity",0).css(p,
"pos"===n?-w:w);q[p]=(k?"pos"===n?"+=":"-=":"pos"===n?"-=":"+=")+w;e.animate(q,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===m&&e.hide();a.effects.restore(e,f);a.effects.removeWrapper(e);d()}})}})(d);(function(a,b){a.effects.effect.highlight=function(b,d){var e=a(this),f=["backgroundImage","backgroundColor","opacity"],m=a.effects.setMode(e,b.mode||"show"),k={backgroundColor:e.css("backgroundColor")};"hide"===m&&(k.opacity=0);a.effects.save(e,f);e.show().css({backgroundImage:"none",
backgroundColor:b.color||"#ffff99"}).animate(k,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===m&&e.hide();a.effects.restore(e,f);d()}})}})(d);(function(a,b){a.effects.effect.slide=function(b,d){var e=a(this),f="position top bottom left right width height".split(" "),m=a.effects.setMode(e,b.mode||"show"),k="show"===m,n=b.direction||"left",p="up"===n||"down"===n?"top":"left",n="up"===n||"left"===n,q,w={};a.effects.save(e,f);e.show();q=b.distance||e["top"===p?"outerHeight":
"outerWidth"](!0);a.effects.createWrapper(e).css({overflow:"hidden"});k&&e.css(p,n?isNaN(q)?"-"+q:-q:q);w[p]=(k?n?"+=":"-=":n?"-=":"+=")+q;e.animate(w,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===m&&e.hide();a.effects.restore(e,f);a.effects.removeWrapper(e);d()}})}})(d)};f();this.resolveWith(f)})})();(function(){FD31.module("scrollTo",function(d){var f=function(){(function(a){function b(a){return"object"==typeof a?a:{top:a,left:a}}var c=a.scrollTo=function(b,c,d){a(window).scrollTo(b,
c,d)};c.defaults={axis:"xy",duration:1.3<=parseFloat(a.fn.jquery)?0:1,limit:!0};c.window=function(b){return a(window)._scrollable()};a.fn._scrollable=function(){return this.map(function(){if(this.nodeName&&-1==a.inArray(this.nodeName.toLowerCase(),["iframe","#document","html","body"]))return this;var b=(this.contentWindow||this).document||this.ownerDocument||this;return/webkit/i.test(navigator.userAgent)||"BackCompat"==b.compatMode?b.body:b.documentElement})};a.fn.scrollTo=function(d,e,f){"object"==
typeof e&&(f=e,e=0);"function"==typeof f&&(f={onAfter:f});"max"==d&&(d=9E9);f=a.extend({},c.defaults,f);e=e||f.duration;f.queue=f.queue&&1<f.axis.length;f.queue&&(e/=2);f.offset=b(f.offset);f.over=b(f.over);return this._scrollable().each(function(){function m(a){n.animate(w,e,f.easing,a&&function(){a.call(this,d,f)})}if(null!=d){var k=this,n=a(k),p=d,q,w={},u=n.is("html,body");switch(typeof p){case "number":case "string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(p)){p=b(p);break}p=a(p,this);if(!p.length)return;
case "object":if(p.is||p.style)q=(p=a(p)).offset()}a.each(f.axis.split(""),function(a,b){var e="x"==b?"Left":"Top",d=e.toLowerCase(),g="scroll"+e,z=k[g],A=c.max(k,b);q?(w[g]=q[d]+(u?0:z-n.offset()[d]),f.margin&&(w[g]-=parseInt(p.css("margin"+e))||0,w[g]-=parseInt(p.css("border"+e+"Width"))||0),w[g]+=f.offset[d]||0,f.over[d]&&(w[g]+=p["x"==b?"width":"height"]()*f.over[d])):(e=p[d],w[g]=e.slice&&"%"==e.slice(-1)?parseFloat(e)/100*A:e);f.limit&&/^\d+$/.test(w[g])&&(w[g]=0>=w[g]?0:Math.min(w[g],A));!a&&
f.queue&&(z!=w[g]&&m(f.onAfterFirst),delete w[g])});m(f.onAfter)}}).end()};a.fn.scrollIntoView=function(b){b=a(b);if(!(1>b.length)){var c=this.offset(),d=this.height(),c=c.top,f=c+d,k=b.offset(),n=b.height(),k=k.top;if(k+n>f)return this.scrollTo(b);if(k<c)return this.scrollTo(b,{offset:-1*(d-n)})}};c.max=function(b,c){var d="x"==c?"Width":"Height",f="scroll"+d;if(!a(b).is("html,body"))return b[f]-a(b)[d.toLowerCase()]();var d="client"+d,k=b.ownerDocument.documentElement,n=b.ownerDocument.body;return Math.max(k[f],
n[f])-Math.min(k[d],n[d])}})(d)};f();this.resolveWith(f)})})();(function(){FD31.module("markitup",function(d){var f=function(){(function(a){a.fn.markItUp=function(b,d){var e,f,m,k,n,p;k=n=p=!1;"string"==typeof b&&(e=b,f=d);m={id:"",nameSpace:"",root:"",previewHandler:!1,previewInWindow:"",previewInElement:"",previewAutoRefresh:!0,previewPosition:"after",previewTemplatePath:"~/templates/preview.html",previewParser:!1,previewParserPath:"",previewParserVar:"data",resizeHandle:!0,beforeInsert:"",afterInsert:"",
onEnter:{},onShiftEnter:{},onCtrlEnter:{},onTab:{},markupSet:[{}]};a.extend(m,b,a.markItUp.sets[(d||b||{}).set],d);m.root||a("script").each(function(b,c){miuScript=a(c).get(0).src.match(/(.*)jquery\.markitup(\.pack)?\.js$/);null!==miuScript&&(m.root=miuScript[1])});return this.each(function(){function b(a,c){return c?a.replace(/("|')~\//g,"$1"+m.root):a.replace(/^~\//,m.root)}function c(){nameSpace=id="";m.id?id='id="'+m.id+'"':C.attr("id")&&(id='id="markItUp'+C.attr("id").substr(0,1).toUpperCase()+
C.attr("id").substr(1)+'"');m.nameSpace&&(nameSpace='class="'+m.nameSpace+'"');C.wrap("<div "+nameSpace+"></div>");C.wrap("<div "+id+' class="markItUp"></div>');C.wrap('<div class="markItUpContainer"></div>');C.addClass("markItUpEditor");ta=a('<div class="markItUpHeader"></div>').insertBefore(C);a(d(m.markupSet)).appendTo(ta);Qa=a('<div class="markItUpFooter"></div>').insertAfter(C);C.wrap('<div class="markItUpExpanding"></div>');!0===m.resizeHandle&&!0!==a.browser.safari&&(resizeHandle=a('<div class="markItUpResizeHandle"></div>').insertAfter(C).bind("mousedown.markItUp",
function(b){var c=C.height(),e=b.clientY,d,g;d=function(a){C.css("height",Math.max(20,a.clientY+c-e)+"px");return!1};g=function(b){a("html").unbind("mousemove.markItUp",d).unbind("mouseup.markItUp",g);return!1};a("html").bind("mousemove.markItUp",d).bind("mouseup.markItUp",g)}),Qa.append(resizeHandle));C.bind("keydown.markItUp",D).bind("keyup",D);C.bind("insertion.markItUp",function(b,c){!1!==c.target&&G();I===a.markItUp.focused&&t(c)});C.bind("focus.markItUp",function(){a.markItUp.focused=this});
m.previewInElement&&L()}function d(b){var c=a("<ul></ul>"),e=0;a("li:hover > ul",c).css("display","block");a.each(b,function(){var b=this,g="",f,m;f=b.key?(b.name||"")+" [Ctrl+"+b.key+"]":b.name||"";key=b.key?'accesskey="'+b.key+'"':"";if(b.separator)g=a('<li class="markItUpSeparator">'+(b.separator||"")+"</li>").appendTo(c);else{e++;for(m=B.length-1;0<=m;m--)g+=B[m]+"-";g=a('<li class="markItUpButton markItUpButton'+g+e+" "+(b.className||"")+'"><a href="" '+key+' title="'+f+'">'+(b.name||"")+"</a></li>").bind("contextmenu.markItUp",
function(){return!1}).bind("click.markItUp",function(){return!1}).bind("focusin.markItUp",function(){C.focus()}).bind("mouseup",function(){b.call&&eval(b.call)();setTimeout(function(){t(b)},1);return!1}).bind("mouseenter.markItUp",function(){a("> ul",this).show();a(document).one("click",function(){a("ul ul",ta).hide()})}).bind("mouseleave.markItUp",function(){a("> ul",this).hide()}).appendTo(c);b.dropMenu&&(B.push(e),a(g).addClass("markItUpDropMenu").append(d(b.dropMenu)))}});B.pop();return c}function g(a){return a?
(a=a.toString(),a=a.replace(/\(\!\(([\s\S]*?)\)\!\)/g,function(a,b){var c=b.split("|!|");return!0===p?void 0!==c[1]?c[1]:c[0]:void 0===c[1]?"":c[0]}),a=a.replace(/\[\!\[([\s\S]*?)\]\!\]/g,function(a,b){var c=b.split(":!:");if(!0===U)return!1;value=prompt(c[0],c[1]?c[1]:"");null===value&&(U=!0);return value})):""}function s(b){a.isFunction(b)&&(b=b(R));return g(b)}function x(a){var b=s(P.openWith),c=s(P.placeHolder),e=s(P.replaceWith),d=s(P.closeWith),g=s(P.openBlockWith),f=s(P.closeBlockWith),m=P.multiline;
if(""!==e)block=b+e+d;else if(""===selection&&""!==c)block=b+c+d;else{a=a||selection;var h=[a],k=[];!0===m&&(h=a.split(/\r?\n/));for(a=0;a<h.length;a++){line=h[a];var n;(n=line.match(/ *$/))?k.push(b+line.replace(/ *$/g,"")+d+n):k.push(b+line+d)}block=k.join("\n")}block=g+block+f;return{block:block,openWith:b,replaceWith:e,placeHolder:c,closeWith:d}}function t(b){var c,e,d;R=P=b;G();a.extend(R,{line:"",root:m.root,textarea:I,selection:selection||"",caretPosition:K,ctrlKey:k,shiftKey:n,altKey:p});
s(m.beforeInsert);s(P.beforeInsert);(!0===k&&!0===n||!0===b.multiline)&&s(P.beforeMultiInsert);a.extend(R,{line:1});if(!0===k&&!0===n){lines=selection.split(/\r?\n/);c=0;e=lines.length;for(d=0;d<e;d++)""!==a.trim(lines[d])?(a.extend(R,{line:++c,selection:lines[d]}),lines[d]=x(lines[d]).block):lines[d]="";string={block:lines.join("\n")};start=K;c=string.block.length+(a.browser.opera?e-1:0)}else!0===k?(string=x(selection),start=K+string.openWith.length,c=string.block.length-string.openWith.length-string.closeWith.length,
c-=string.block.match(/ $/)?1:0,c-=z(string.block)):!0===n?(string=x(selection),start=K,c=string.block.length,c-=z(string.block)):(string=x(selection),start=K+string.block.length,c=0,start-=z(string.block));""===selection&&""===string.replaceWith&&(M+=E(string.block),start=K+string.openWith.length,c=string.block.length-string.openWith.length-string.closeWith.length,M=C.val().substring(K,C.val().length).length,M-=E(C.val().substring(0,K)));a.extend(R,{caretPosition:K,scrollPosition:S});string.block!==
selection&&!1===U?(e=string.block,document.selection?document.selection.createRange().text=e:I.value=I.value.substring(0,K)+e+I.value.substring(K+selection.length,I.value.length),A(start,c)):M=-1;G();a.extend(R,{line:"",selection:selection});(!0===k&&!0===n||!0===b.multiline)&&s(P.afterMultiInsert);s(P.afterInsert);s(m.afterInsert);$&&m.previewAutoRefresh&&L();n=p=k=U=!1}function E(b){return a.browser.opera?b.length-b.replace(/\n*/g,"").length:0}function z(b){return a.browser.msie?b.length-b.replace(/\r*/g,
"").length:0}function A(b,c){if(I.createTextRange){if(a.browser.opera&&9.5<=a.browser.version&&0==c)return!1;range=I.createTextRange();range.collapse(!0);range.moveStart("character",b);range.moveEnd("character",c);range.select()}else I.setSelectionRange&&I.setSelectionRange(b,b+c);I.scrollTop=S;I.focus()}function G(){I.focus();S=I.scrollTop;if(document.selection)if(selection=document.selection.createRange().text,a.browser.msie){var b=document.selection.createRange(),c=b.duplicate();c.moveToElementText(I);
for(K=-1;c.inRange(b);)c.moveStart("character"),K++}else K=I.selectionStart;else K=I.selectionStart,selection=I.value.substring(K,I.selectionEnd);return selection}function L(){if(m.previewHandler&&"function"===typeof m.previewHandler)m.previewHandler(C.val());else if(m.previewParser&&"function"===typeof m.previewParser){var c=m.previewParser(C.val());H(b(c,1))}else""!==m.previewParserPath?a.ajax({type:"POST",dataType:"text",global:!1,url:m.previewParserPath,data:m.previewParserVar+"="+encodeURIComponent(C.val()),
success:function(a){H(b(a,1))}}):J||a.ajax({url:m.previewTemplatePath,dataType:"text",global:!1,success:function(a){H(b(a,1).replace(/\x3c!-- content --\x3e/g,C.val()))}});return!1}function H(b){if(m.previewInElement)a(m.previewInElement).html(b);else if($&&$.document){try{sp=$.document.documentElement.scrollTop}catch(c){sp=0}$.document.open();$.document.write(b);$.document.close();$.document.documentElement.scrollTop=sp}}function D(b){n=b.shiftKey;k=(p=b.altKey)&&b.ctrlKey?!1:b.ctrlKey||b.metaKey;
if("keydown"===b.type){if(!0===k&&(li=a('a[accesskey="'+(13==b.keyCode?"\\n":String.fromCharCode(b.keyCode))+'"]',ta).parent("li"),0!==li.length))return k=!1,setTimeout(function(){li.triggerHandler("mouseup")},1),!1;if(13===b.keyCode||10===b.keyCode){if(!0===k)return k=!1,t(m.onCtrlEnter),m.onCtrlEnter.keepDefault;if(!0===n)return n=!1,t(m.onShiftEnter),m.onShiftEnter.keepDefault;t(m.onEnter);return m.onEnter.keepDefault}if(9===b.keyCode){if(!0==n||!0==k||!0==p)return!1;if(-1!==M)return G(),M=C.val().length-
M,A(M,0),M=-1,!1;t(m.onTab);return m.onTab.keepDefault}}}var C,I,B,S,K,M,P,R,ta,Qa,$,J,U;C=a(this);I=this;B=[];U=!1;S=K=0;M=-1;m.previewParserPath=b(m.previewParserPath);m.previewTemplatePath=b(m.previewTemplatePath);if(e)switch(e){case "remove":C.unbind(".markItUp").removeClass("markItUpEditor");C.parent("div").parent("div.markItUp").parent("div").replaceWith(C);C.data("markItUp",null);break;case "insert":t(f);break;default:a.error("Method "+e+" does not exist on jQuery.markItUp")}else c()})};a.fn.markItUpRemove=
function(){return this.each(function(){a(this).markItUp("remove")})};var b;"object"===typeof a.markItUp&&(b=a.markItUp.sets);a.markItUp=function(b){var d={target:!1};a.extend(d,b);if(d.target)return a(d.target).each(function(){a(this).focus();a(this).trigger("insertion",[d])});a("textarea").trigger("insertion",[d])};a.markItUp.sets={};b&&a.extend(a.markItUp.sets,b)})(d)};f();this.resolveWith(f)})})();(function(){FD31.module("fancybox",function(d){var f=function(){(function(a,b){var c=d(a),g=d(b),
e=d.fancybox=function(){e.open.apply(this,arguments)},f=!1;d.extend(e,{version:"2.0.4",defaults:{padding:15,margin:20,width:800,height:600,minWidth:200,minHeight:200,maxWidth:9999,maxHeight:9999,autoSize:!0,fitToView:!0,aspectRatio:!1,topRatio:0.5,fixed:!(d.browser.msie&&6>=d.browser.version)&&"undefined"==typeof b.createTouch,scrolling:"auto",wrapCSS:"fancybox-default",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3E3,modal:!1,loop:!0,ajax:{dataType:"html"},
keys:{next:[13,32,34,39,40],prev:[8,33,37,38],close:[27]},index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe class="fancybox-iframe" name="fancybox-frame{rnd}" frameborder="0" hspace="0" '+(d.browser.msie?'allowtransparency="true""':"")+"></iframe>",swf:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="wmode" value="transparent" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{href}" /><embed src="{href}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="100%" height="100%" wmode="transparent"></embed></object>',
error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<div title="Close" class="fancybox-item fancybox-close"></div>',next:'<a title="Next" class="fancybox-item fancybox-next"><span></span></a>',prev:'<a title="Previous" class="fancybox-item fancybox-prev"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",
nextEffect:"elastic",nextSpeed:300,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:300,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{speedIn:0,speedOut:300,opacity:0.8,css:{cursor:"pointer"},closeClick:!0},title:{type:"float"}},onCancel:d.noop,beforeLoad:d.noop,afterLoad:d.noop,beforeShow:d.noop,afterShow:d.noop,beforeClose:d.noop,afterClose:d.noop},group:{},opts:{},coming:null,current:null,isOpen:!1,isOpened:!1,wrap:null,outer:null,inner:null,player:{timer:null,
isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(a,b){d.isArray(a)||(a=a.jquery?d(a).get():[a]);a.length&&(e.close(!0),e.isActive=!0,e.opts=d.extend(!0,{},e.defaults,b),e.group=a,e._start(e.opts.index||0))},cancel:function(){e.coming&&!1===e.trigger("onCancel")||(e.coming=null,e.hideLoading(),e.ajaxLoad&&e.ajaxLoad.abort(),e.ajaxLoad=null,e.imgPreload&&(e.imgPreload.onload=e.imgPreload.onabort=e.imgPreload.onerror=null))},close:function(a){e.cancel();e.current&&!1!==
e.trigger("beforeClose")&&(e.unbindEvents(),!e.isOpen||a&&!0===a[0]?(d(".fancybox-wrap").stop().trigger("onReset").remove(),e._afterZoomOut()):(e.isOpen=e.isOpened=!1,d(".fancybox-item").remove(),e.wrap.stop(!0).removeClass("fancybox-opened"),e.inner.css("overflow","hidden"),e.transitions[e.current.closeMethod]()))},play:function(a){var b=function(){clearTimeout(e.player.timer)},c=function(){b();e.current&&e.player.isActive&&(e.player.timer=setTimeout(e.next,e.current.playSpeed))},g=function(){b();
d("body").unbind(".player");e.player.isActive=!1;e.trigger("onPlayEnd")};e.player.isActive||a&&!1===a[0]?g():e.current&&(e.current.loop||e.current.index<e.group.length-1)&&(e.player.isActive=!0,d("body").bind({"afterShow.player onUpdate.player":c,"onCancel.player beforeClose.player":g,"beforeLoad.player":b}),c(),e.trigger("onPlayStart"))},next:function(){e.current&&e.jumpto(e.current.index+1)},prev:function(){e.current&&e.jumpto(e.current.index-1)},jumpto:function(a){e.current&&(a=parseInt(a,10),
1<e.group.length&&e.current.loop&&(a>=e.group.length?a=0:0>a&&(a=e.group.length-1)),"undefined"!==typeof e.group[a]&&(e.cancel(),e._start(a)))},reposition:function(a){e.isOpen&&e.wrap.css(e._getPosition(a))},update:function(){e.isOpen&&(f||setTimeout(function(){f&&(f=!1,e.current&&(e.current.autoSize&&(e.inner.height("auto"),e.current.height=e.inner.height()),e._setDimension(),e.current.canGrow&&e.inner.height("auto"),e.reposition(),e.trigger("onUpdate")))},100),f=!0)},toggle:function(){e.isOpen&&
(e.current.fitToView=!e.current.fitToView,e.update())},hideLoading:function(){d("#fancybox-loading").remove()},showLoading:function(){e.hideLoading();d('<div id="fancybox-loading"><div></div></div>').click(e.cancel).appendTo("body")},getViewport:function(){return{x:c.scrollLeft(),y:c.scrollTop(),w:c.width(),h:c.height()}},unbindEvents:function(){e.wrap&&e.wrap.unbind(".fb");g.unbind(".fb");c.unbind(".fb")},bindEvents:function(){var a=e.current,b=a.keys;a&&(c.bind("resize.fb, orientationchange.fb",
e.update),b&&g.bind("keydown.fb",function(a){var c;!(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey)&&0>d.inArray(a.target.tagName.toLowerCase(),["input","textarea","select","button"])&&(c=a.keyCode,-1<d.inArray(c,b.close)?(e.close(),a.preventDefault()):-1<d.inArray(c,b.next)?(e.next(),a.preventDefault()):-1<d.inArray(c,b.prev)&&(e.prev(),a.preventDefault()))}),d.fn.mousewheel&&a.mouseWheel&&1<e.group.length&&e.wrap.bind("mousewheel.fb",function(a,b){var c=d(a.target).get(0);if(0===c.clientHeight||c.scrollHeight===
c.clientHeight&&c.scrollWidth===c.clientWidth)a.preventDefault(),e[0<b?"prev":"next"]()}))},trigger:function(a){var b,c=e[-1<d.inArray(a,["onCancel","beforeLoad","afterLoad"])?"coming":"current"];if(c){d.isFunction(c[a])&&(b=c[a].apply(c,Array.prototype.slice.call(arguments,1)));if(!1===b)return!1;c.helpers&&d.each(c.helpers,function(b,g){if(g&&"undefined"!==typeof e.helpers[b]&&d.isFunction(e.helpers[b][a]))e.helpers[b][a](g,c)});d.event.trigger(a+".fb")}},isImage:function(a){return a&&a.match(/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i)},
isSWF:function(a){return a&&a.match(/\.(swf)(.*)?$/i)},_start:function(a){var b={},c=e.group[a]||null,g,f,h;c&&"object"===typeof c&&(c.nodeType||c instanceof d)&&(g=!0,d.metadata&&(b=d(c).metadata()));b=d.extend(!0,{},e.opts,{index:a,element:c},d.isPlainObject(c)?c:b);d.each(["href","title","content","type"],function(a,f){b[f]=e.opts[f]||g&&d(c).attr(f)||b[f]||null});"number"===typeof b.margin&&(b.margin=[b.margin,b.margin,b.margin,b.margin]);b.modal&&d.extend(!0,b,{closeBtn:!1,closeClick:!1,nextClick:!1,
arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{css:{cursor:"auto"},closeClick:!1}}});e.coming=b;!1===e.trigger("beforeLoad")?e.coming=null:(f=b.type,a=b.href,f||(g&&(h=d(c).data("fancybox-type"),!h&&c.className&&(f=(h=c.className.match(/fancybox\.(\w+)/))?h[1]:null)),!f&&a&&(e.isImage(a)?f="image":e.isSWF(a)?f="swf":a.match(/^#/)&&(f="inline")),f||(f=g?"inline":"html"),b.type=f),"inline"===f||"html"===f?(b.content=b.content||("inline"===f&&a?d(a):d(c)),b.content.length||(f=null)):(b.href=a||
c,b.href||(f=null)),b.group=e.group,b.isDom=g,"image"===f?e._loadImage():"ajax"===f?e._loadAjax():f?e._afterLoad():e._error("type"))},_error:function(a){e.hideLoading();d.extend(e.coming,{type:"html",autoSize:!0,minHeight:0,hasError:a,content:e.coming.tpl.error});e._afterLoad()},_loadImage:function(){e.imgPreload=new Image;e.imgPreload.onload=function(){this.onload=this.onerror=null;e.coming.width=this.width;e.coming.height=this.height;e._afterLoad()};e.imgPreload.onerror=function(){this.onload=this.onerror=
null;e._error("image")};e.imgPreload.src=e.coming.href;e.imgPreload.width||e.showLoading()},_loadAjax:function(){e.showLoading();e.ajaxLoad=d.ajax(d.extend({},e.coming.ajax,{url:e.coming.href,error:function(a,b){"abort"!==b?e._error("ajax",a):e.hideLoading()},success:function(a,b){"success"===b&&(e.coming.content=a,e._afterLoad())}}))},_preload:function(){var a=e.group,b=e.current.index;1<a.length&&((new Image).src=d(a[b+1]||a[0]).attr("href"),(new Image).src=d(a[b-1]||a[a.length-1]).attr("href"))},
_afterLoad:function(){e.hideLoading();e.coming&&!1!==e.trigger("afterLoad",e.current)?(e.isOpened?(d(".fancybox-item").remove(),e.wrap.stop(!0).removeClass("fancybox-opened"),e.inner.css("overflow","hidden"),e.transitions[e.current.prevMethod]()):(d(".fancybox-wrap").stop().trigger("onReset").remove(),e.trigger("afterClose")),e.unbindEvents(),e.isOpen=!1,e.current=e.coming,e.coming=!1,e.wrap=d(e.current.tpl.wrap).addClass("fancybox-tmp "+e.current.wrapCSS).appendTo("body"),e.outer=d(".fancybox-outer",
e.wrap).css("padding",e.current.padding+"px"),e.inner=d(".fancybox-inner",e.wrap),e._setContent()):e.coming=!1},_setContent:function(){var a,b,c=e.current,g=c.type;switch(g){case "inline":case "ajax":case "html":a=c.content;"inline"===g&&a instanceof d&&(a=a.show().detach(),a.parent().hasClass("fancybox-inner")&&a.parents(".fancybox-wrap").trigger("onReset").remove(),d(e.wrap).bind("onReset",function(){a.appendTo("body").hide()}));c.autoSize&&(b=d('<div class="fancybox-tmp"></div>').appendTo("body").append(a),
c.width=b.width(),c.height=b.height(),b.width(e.current.width),b.height()>c.height&&(b.width(c.width+1),c.width=b.width(),c.height=b.height()),a=b.contents().detach(),b.remove());break;case "image":a=c.tpl.image.replace("{href}",c.href);c.aspectRatio=!0;break;case "swf":a=c.tpl.swf.replace(/\{width\}/g,c.width).replace(/\{height\}/g,c.height).replace(/\{href\}/g,c.href)}if("iframe"===g){if(a=d(c.tpl.iframe.replace("{rnd}",(new Date).getTime())).attr({scrolling:c.scrolling,src:c.href}).appendTo(e.inner),
c.scrolling="auto",c.autoSize){e.wrap.width(c.width);e.showLoading();a.data("ready",!1).bind("load",function(){var a=d(this),b;try{this.contentWindow.document.location&&(b=a.contents().find("body").height()+12,a.height(b))}catch(g){c.autoSize=!1}!1===a.data("ready")?(e.hideLoading(),b&&(e.current.height=b),e._beforeShow(),a.data("ready",!0)):b&&e.update()});return}}else{if("image"===g||"swf"===g)c.autoSize=!1,c.scrolling="visible";e.inner.append(a)}e._beforeShow()},_beforeShow:function(){e.trigger("beforeShow");
e._setDimension();e.wrap.hide().removeClass("fancybox-tmp");e.bindEvents();e._preload();e.transitions[e.isOpened?e.current.nextMethod:e.current.openMethod]()},_setDimension:function(){var a=e.wrap,b=e.outer,c=e.inner,g=e.current,f=e.getViewport(),h=g.margin,k=2*g.padding,v=g.width,s=g.height,x=g.maxWidth,t=g.maxHeight,E=g.minWidth,z=g.minHeight,A;f.w-=h[1]+h[3];f.h-=h[0]+h[2];-1<v.toString().indexOf("%")&&(v=(f.w-k)*parseFloat(v)/100);-1<s.toString().indexOf("%")&&(s=(f.h-k)*parseFloat(s)/100);h=
v/s;v+=k;s+=k;g.fitToView&&(x=Math.min(f.w,x),t=Math.min(f.h,t));E=Math.min(v,E);z=Math.min(s,z);x=Math.max(E,x);t=Math.max(z,t);g.aspectRatio?(v>x&&(v=x,s=(v-k)/h+k),s>t&&(s=t,v=(s-k)*h+k),v<E&&(v=E,s=(v-k)/h+k),s<z&&(s=z,v=(s-k)*h+k)):(v=Math.max(E,Math.min(v,x)),s=Math.max(z,Math.min(s,t)));v=Math.round(v);s=Math.round(s);d(a.add(b).add(c)).width("auto").height("auto");c.width(v-k).height(s-k);a.width(v);A=a.height();if(v>x||A>t)for(;(v>x||A>t)&&v>E&&A>z;)s-=10,g.aspectRatio?(v=Math.round((s-k)*
h+k),v<E&&(v=E,s=(v-k)/h+k)):v-=10,c.width(v-k).height(s-k),a.width(v),A=a.height();g.dim={width:v,height:A};g.canGrow=g.autoSize&&s>z&&s<t;g.canShrink=!1;g.canExpand=!1;v-k<g.width||s-k<g.height?g.canExpand=!0:(v>f.w||A>f.h)&&v>E&&s>z&&(g.canShrink=!0);a=A-k;e.innerSpace=a-c.height();e.outerSpace=a-b.height()},_getPosition:function(a){var b=e.current,c=e.getViewport(),d=b.margin,g=e.wrap.width()+d[1]+d[3],f=e.wrap.height()+d[0]+d[2],h={position:"absolute",top:d[0]+c.y,left:d[3]+c.x};b.fixed&&(!a||
!1===a[0])&&f<=c.h&&g<=c.w&&(h={position:"fixed",top:d[0],left:d[3]});h.top=Math.ceil(Math.max(h.top,h.top+(c.h-f)*b.topRatio))+"px";h.left=Math.ceil(Math.max(h.left,h.left+0.5*(c.w-g)))+"px";return h},_afterZoomIn:function(){var a=e.current,b=a.scrolling;e.isOpen=e.isOpened=!0;e.wrap.addClass("fancybox-opened").css("overflow","visible");e.update();e.inner.css("overflow","yes"===b?"scroll":"no"===b?"hidden":b);(a.closeClick||a.nextClick)&&e.inner.css("cursor","pointer").bind("click.fb",a.nextClick?
e.next:e.close);a.closeBtn&&d(a.tpl.closeBtn).appendTo(e.wrap).bind("click.fb",e.close);a.arrows&&1<e.group.length&&((a.loop||0<a.index)&&d(a.tpl.prev).appendTo(e.wrap).bind("click.fb",e.prev),(a.loop||a.index<e.group.length-1)&&d(a.tpl.next).appendTo(e.wrap).bind("click.fb",e.next));e.trigger("afterShow");e.opts.autoPlay&&!e.player.isActive&&(e.opts.autoPlay=!1,e.play())},_afterZoomOut:function(){e.trigger("afterClose");e.wrap.trigger("onReset").remove();d.extend(e,{group:{},opts:{},current:null,
isActive:!1,isOpened:!1,isOpen:!1,wrap:null,outer:null,inner:null})}});e.transitions={getOrigPosition:function(){var a=e.current,b=a.element,c=a.padding,g=d(a.orig),f={},h=50,k=50;!g.length&&a.isDom&&d(b).is(":visible")&&(g=d(b).find("img:first"),g.length||(g=d(b)));g.length?(f=g.offset(),g.is("img")&&(h=g.outerWidth(),k=g.outerHeight())):(a=e.getViewport(),f.top=a.y+0.5*(a.h-k),f.left=a.x+0.5*(a.w-h));return f={top:Math.ceil(f.top-c)+"px",left:Math.ceil(f.left-c)+"px",width:Math.ceil(h+2*c)+"px",
height:Math.ceil(k+2*c)+"px"}},step:function(a,b){var c,d,g;if("width"===b.prop||"height"===b.prop)d=g=Math.ceil(a-2*e.current.padding),"height"===b.prop&&(c=(a-b.start)/(b.end-b.start),b.start>b.end&&(c=1-c),d-=e.innerSpace*c,g-=e.outerSpace*c),e.inner[b.prop](d),e.outer[b.prop](g)},zoomIn:function(){var a=e.wrap,b=e.current,c,g;c=b.dim;"elastic"===b.openEffect?(g=d.extend({},c,e._getPosition(!0)),delete g.position,c=this.getOrigPosition(),b.openOpacity&&(c.opacity=0,g.opacity=1),e.outer.add(e.inner).width("auto").height("auto"),
a.css(c).show().animate(g,{duration:b.openSpeed,easing:b.openEasing,step:this.step,complete:e._afterZoomIn})):(a.css(d.extend({},c,e._getPosition())),"fade"===b.openEffect?a.fadeIn(b.openSpeed,e._afterZoomIn):(a.show(),e._afterZoomIn()))},zoomOut:function(){var a=e.wrap,b=e.current,c;"elastic"===b.closeEffect?("fixed"===a.css("position")&&a.css(e._getPosition(!0)),c=this.getOrigPosition(),b.closeOpacity&&(c.opacity=0),a.animate(c,{duration:b.closeSpeed,easing:b.closeEasing,step:this.step,complete:e._afterZoomOut})):
a.fadeOut("fade"===b.closeEffect?b.closeSpeed:0,e._afterZoomOut)},changeIn:function(){var a=e.wrap,b=e.current,c;"elastic"===b.nextEffect?(c=e._getPosition(!0),c.opacity=0,c.top=parseInt(c.top,10)-200+"px",a.css(c).show().animate({opacity:1,top:"+=200px"},{duration:b.nextSpeed,complete:e._afterZoomIn})):(a.css(e._getPosition()),"fade"===b.nextEffect?a.hide().fadeIn(b.nextSpeed,e._afterZoomIn):(a.show(),e._afterZoomIn()))},changeOut:function(){var a=e.wrap,b=e.current,c=function(){d(this).trigger("onReset").remove()};
a.removeClass("fancybox-opened");"elastic"===b.prevEffect?a.animate({opacity:0,top:"+=200px"},{duration:b.prevSpeed,complete:c}):a.fadeOut("fade"===b.prevEffect?b.prevSpeed:0,c)}};e.helpers.overlay={overlay:null,update:function(){var a,e;this.overlay.width(0).height(0);d.browser.msie?(a=Math.max(b.documentElement.scrollWidth,b.body.scrollWidth),e=Math.max(b.documentElement.offsetWidth,b.body.offsetWidth),a=a<e?c.width():a):a=g.width();this.overlay.width(a).height(g.height())},beforeShow:function(a){this.overlay||
(a=d.extend(!0,{speedIn:"fast",closeClick:!0,opacity:1,css:{background:"black"}},a),this.overlay=d('<div id="fancybox-overlay"></div>').css(a.css).appendTo("body"),this.update(),a.closeClick&&this.overlay.bind("click.fb",e.close),c.bind("resize.fb",d.proxy(this.update,this)),this.overlay.fadeTo(a.speedIn,a.opacity))},onUpdate:function(){this.update()},afterClose:function(a){this.overlay&&this.overlay.fadeOut(a.speedOut||0,function(){d(this).remove()});this.overlay=null}};e.helpers.title={beforeShow:function(a){var b;
if(b=e.current.title)b=d('<div class="fancybox-title fancybox-title-'+a.type+'-wrap">'+b+"</div>").appendTo("body"),"float"===a.type&&(b.width(b.width()),b.wrapInner('<span class="child"></span>'),e.current.margin[2]+=Math.abs(parseInt(b.css("margin-bottom"),10))),b.appendTo("over"===a.type?e.inner:"outside"===a.type?e.wrap:e.outer)}};d.fn.fancybox=function(a){var b=d(this),c=this.selector||"",f,h=function(g){var h=this,k="rel",s=h[k],q=f;g.ctrlKey||g.altKey||g.shiftKey||g.metaKey||(g.preventDefault(),
s||(k="data-fancybox-group",s=d(h).attr("data-fancybox-group")),s&&""!==s&&"nofollow"!==s&&(h=c.length?d(c):b,h=h.filter("["+k+'="'+s+'"]'),q=h.index(this)),a.index=q,e.open(h,a))};a=a||{};f=a.index||0;c?g.undelegate(c,"click.fb-start").delegate(c,"click.fb-start",h):b.unbind("click.fb-start").bind("click.fb-start",h);return this}})(window,document)};f();this.resolveWith(f)})})();(function(){FD31.module("ui/autocomplete",function(d){var f=this;d.require().script("ui/core","ui/widget","ui/position",
"ui/menu").done(function(){var a=function(){(function(a,c){var d=0;a.widget("ui.autocomplete",{version:"1.10.4pre",defaultElement:"<input>",options:{appendTo:"#fd_.ui",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var c,d,g,f=this.element[0].nodeName.toLowerCase(),k="textarea"===f,f="input"===f;this.isMultiLine=k?!0:f?!1:this.element.prop("isContentEditable");
this.valueMethod=this.element[k||f?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(f){if(this.element.prop("readOnly"))d=g=c=!0;else{d=g=c=!1;var k=a.ui.keyCode;switch(f.keyCode){case k.PAGE_UP:c=!0;this._move("previousPage",f);break;case k.PAGE_DOWN:c=!0;this._move("nextPage",f);break;case k.UP:c=!0;this._keyEvent("previous",f);break;case k.DOWN:c=!0;this._keyEvent("next",f);break;case k.ENTER:case k.NUMPAD_ENTER:this.menu.active&&
(c=!0,f.preventDefault(),this.menu.select(f));break;case k.TAB:this.menu.active&&this.menu.select(f);break;case k.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(f),f.preventDefault());break;default:d=!0,this._searchTimeout(f)}}},keypress:function(g){if(c)c=!1,this.isMultiLine&&!this.menu.element.is(":visible")||g.preventDefault();else if(!d){var f=a.ui.keyCode;switch(g.keyCode){case f.PAGE_UP:this._move("previousPage",g);break;case f.PAGE_DOWN:this._move("nextPage",g);
break;case f.UP:this._keyEvent("previous",g);break;case f.DOWN:this._keyEvent("next",g)}}},input:function(a){g?(g=!1,a.preventDefault()):this._searchTimeout(a)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(a){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),this._change(a))}});this._initSource();this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");this._on(this.menu.element,
{mousedown:function(c){c.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur});var e=this.menu.element[0];a(c.target).closest(".ui-menu-item").length||this._delay(function(){var c=this;this.document.one("mousedown",function(d){d.target===c.element[0]||d.target===e||a.contains(e,d.target)||c.close()})})},menufocus:function(c,e){if(this.isNewMenu&&(this.isNewMenu=!1,c.originalEvent&&/^mouse/.test(c.originalEvent.type))){this.menu.blur();this.document.one("mousemove",function(){a(c.target).trigger(c.originalEvent)});
return}var d=e.item.data("ui-autocomplete-item");!1!==this._trigger("focus",c,{item:d})?c.originalEvent&&/^key/.test(c.originalEvent.type)&&this._value(d.value):this.liveRegion.text(d.value)},menuselect:function(a,b){var c=b.item.data("ui-autocomplete-item"),e=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=e,this._delay(function(){this.previous=e;this.selectedItem=c}));!1!==this._trigger("select",a,{item:c})&&this._value(c.value);this.term=this._value();
this.close(a);this.selectedItem=c}});this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b);"source"===a&&this._initSource();
"appendTo"===a&&this.menu.element.appendTo(this._appendTo());"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_appendTo:function(){var c=this.options.appendTo;c&&(c=c.jquery||c.nodeType?a(c):this.document.find(c).eq(0));c||(c=this.element.closest(".ui-front"));c.length||(c=this.document[0].body);return c},_initSource:function(){var c,d,g=this;a.isArray(this.options.source)?(c=this.options.source,this.source=function(d,g){g(a.ui.autocomplete.filter(c,d.term))}):"string"===typeof this.options.source?
(d=this.options.source,this.source=function(c,e){g.xhr&&g.xhr.abort();g.xhr=a.ajax({url:d,data:c,dataType:"json",success:function(a){e(a)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching);this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,b){a=null!=a?a:this._value();this.term=this._value();if(a.length<this.options.minLength)return this.close(b);
if(!1!==this._trigger("search",b))return this._search(a)},_search:function(a){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:a},this._response())},_response:function(){var a=this,b=++d;return function(c){b===d&&a.__response(c);a.pending--;a.pending||a.element.removeClass("ui-autocomplete-loading")}},__response:function(a){a&&(a=this._normalize(a));this._trigger("response",null,{content:a});!this.options.disabled&&a&&a.length&&!this.cancelSearch?
(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0;this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(c){return c.length&&c[0].label&&c[0].value?c:a.map(c,function(c){return"string"===typeof c?{label:c,value:c}:a.extend({label:c.label||
c.value,value:c.value||c.label},c)})},_suggest:function(c){var d=this.menu.element.empty();this._renderMenu(d,c);this.isNewMenu=!0;this.menu.refresh();d.show();this._resizeMenu();d.position(a.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(c,d){var g=this;a.each(d,function(a,b){g._renderItemData(c,b)})},_renderItemData:function(a,
b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(c,d){return a("<li>").append(a("<a>").text(d.label)).appendTo(c)},_move:function(a,b){if(this.menu.element.is(":visible"))if(this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a))this._value(this.term),this.menu.blur();else this.menu[a](b);else this.search(null,b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,
b){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(a,b),b.preventDefault()}});a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(c,d){var g=RegExp(a.ui.autocomplete.escapeRegex(d),"i");return a.grep(c,function(a){return g.test(a.label||a.value||a)})}});a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(1<a?" results are":" result is")+
" available, use up and down arrow keys to navigate."}}},__response:function(a){var b;this._superApply(arguments);this.options.disabled||this.cancelSearch||(b=a&&a.length?this.options.messages.results(a.length):this.options.messages.noResults,this.liveRegion.text(b))}})})(d);(function(a){function c(c,d){var e=RegExp(a.ui.autocomplete.escapeRegex(d),"i");return a.grep(c,function(c){return e.test(a("<div>").html(c.label||c.value||c).text())})}var d=a.ui.autocomplete.prototype,e=d._initSource;a.extend(d,
{_initSource:function(){this.options.html&&a.isArray(this.options.source)?this.source=function(a,b){b(c(this.options.source,a.term))}:e.call(this)},_renderItem:function(c,d){return a("<li></li>").data("item.autocomplete",d).append(a("<a></a>")[this.options.html?"html":"text"](d.label)).appendTo(c)}})})(d)};a();f.resolveWith(a)})})})();(function(){FD31.module("ui/core",function(d){var f=function(){(function(a,b){function c(b,c){var e,f;e=b.nodeName.toLowerCase();if("area"===e){e=b.parentNode;f=e.name;
if(!b.href||!f||"map"!==e.nodeName.toLowerCase())return!1;e=a("img[usemap=#"+f+"]")[0];return!!e&&d(e)}return(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"===e?b.href||c:c)&&d(b)}function d(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var e=0,f=/^ui-id-\d+$/;a.ui=a.ui||{};a.extend(a.ui,{version:"1.10.4pre",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,
NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});a.fn.extend({focus:function(b){return function(c,d){return"number"===typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus();d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?
this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0);return/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length){c=a(this[0]);for(var d;c.length&&
c[0]!==document;){d=c.css("position");if("absolute"===d||"relative"===d||"fixed"===d)if(d=parseInt(c.css("zIndex"),10),!isNaN(d)&&0!==d)return d;c=c.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&a(this).removeAttr("id")})}});a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,
d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||0<=d)&&c(b,!e)}});a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function e(b,c,d,f){a.each(g,function(){c-=parseFloat(a.css(b,"padding"+this))||0;d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0);f&&(c-=parseFloat(a.css(b,"margin"+this))||0)});return c}var g="Width"===d?["Left","Right"]:["Top","Bottom"],f=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,
innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(f,e(this,c)+"px")})};a.fn["outer"+d]=function(b,c){return"number"!==typeof b?h["outer"+d].call(this,b):this.each(function(){a(this).css(f,e(this,b,!0,c)+"px")})}});a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&
(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData));a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());a.support.selectstart="onselectstart"in document.createElement("div");a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});
a.extend(a.ui,{plugin:{add:function(b,c,d){var e;b=a.ui[b].prototype;for(e in d)b.plugins[e]=b.plugins[e]||[],b.plugins[e].push([c,d[e]])},call:function(a,b,c){var d=a.plugins[b];if(d&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(b=0;b<d.length;b++)a.options[d[b][0]]&&d[b][1].apply(a.element,c)}},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;if(0<b[d])return!0;b[d]=1;e=0<b[d];b[d]=0;return e}});a(function(){0<
a("body > #fd_.ui").length||a(document.createElement("div")).attr("id","fd_").addClass("ui").css({position:"absolute",top:0,left:0,overflow:"visible",width:0,height:0}).appendTo("body")})})(d)};f();this.resolveWith(f)})})();(function(){FD31.module("ui/widget",function(d){var f=function(){(function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c=0,d;null!=(d=b[c]);c++)try{a(d).triggerHandler("remove")}catch(g){}e(b)};a.widget=function(b,c,d){var e,g,f,k,u={},v=
b.split(".")[0];b=b.split(".")[1];e=v+"-"+b;d||(d=c,c=a.Widget);a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)};a[v]=a[v]||{};g=a[v][b];f=a[v][b]=function(a,b){if(!this._createWidget)return new f(a,b);arguments.length&&this._createWidget(a,b)};a.extend(f,g,{version:d.version,_proto:a.extend({},d),_childConstructors:[]});k=new c;k.options=a.widget.extend({},k.options);a.each(d,function(b,d){a.isFunction(d)?u[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},
e=function(a){return c.prototype[b].apply(this,a)};return function(){var b=this._super,c=this._superApply,g;this._super=a;this._superApply=e;g=d.apply(this,arguments);this._super=b;this._superApply=c;return g}}():u[b]=d});f.prototype=a.widget.extend(k,{widgetEventPrefix:g?k.widgetEventPrefix:b},u,{constructor:f,namespace:v,widgetName:b,widgetFullName:e});g?(a.each(g._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,f,c._proto)}),delete g._childConstructors):
c._childConstructors.push(f);a.widget.bridge(b,f)};a.widget.extend=function(c){for(var e=d.call(arguments,1),f=0,k=e.length,p,q;f<k;f++)for(p in e[f])q=e[f][p],e[f].hasOwnProperty(p)&&q!==b&&(a.isPlainObject(q)?c[p]=a.isPlainObject(c[p])?a.widget.extend({},c[p],q):a.widget.extend({},q):c[p]=q);return c};a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(k){var p="string"===typeof k,q=d.call(arguments,1),w=this;k=!p&&q.length?a.widget.extend.apply(null,[k].concat(q)):
k;p?this.each(function(){var d,e=a.data(this,f);if(!e)return a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+k+"'");if(!a.isFunction(e[k])||"_"===k.charAt(0))return a.error("no such method '"+k+"' for "+c+" widget instance");d=e[k].apply(e,q);if(d!==e&&d!==b)return w=d&&d.jquery?w.pushStack(d.get()):d,!1}):this.each(function(){var b=a.data(this,f);b?b.option(k||{})._init():a.data(this,f,new e(k,this))});return w}};a.Widget=function(){};a.Widget._childConstructors=
[];a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0];this.element=a(d);this.uuid=c++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=a.widget.extend({},this.options,this._getCreateOptions(),b);this.bindings=a();this.hoverable=a();this.focusable=a();d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&
this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+
"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e=c,g,f,k;if(0===arguments.length)return a.widget.extend({},this.options);if("string"===typeof c)if(e={},g=c.split("."),c=g.shift(),g.length){f=e[c]=a.widget.extend({},this.options[c]);for(k=0;k<g.length-1;k++)f[g[k]]=f[g[k]]||{},f=f[g[k]];c=g.pop();if(d===
b)return f[c]===b?null:f[c];f[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];e[c]=d}this._setOptions(e);return this},_setOptions:function(a){for(var b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){this.options[a]=b;"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"));return this},enable:function(){return this._setOption("disabled",
!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,c,d){var e,g=this;"boolean"!==typeof b&&(d=c,c=b,b=!1);d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget());a.each(d,function(d,f){function k(){if(b||!0!==g.options.disabled&&!a(this).hasClass("ui-state-disabled"))return("string"===typeof f?g[f]:f).apply(g,arguments)}"string"!==typeof f&&(k.guid=f.guid=f.guid||k.guid||a.guid++);var r=d.match(/^(\w+)\s*(.*)$/),s=r[1]+g.eventNamespace;(r=r[2])?
e.delegate(r,s,k):c.bind(s,k)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(b).undelegate(b)},_delay:function(a,b){var c=this;return setTimeout(function(){return("string"===typeof a?c[a]:a).apply(c,arguments)},b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b);this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=
this.focusable.add(b);this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,g=this.options[b];d=d||{};c=a.Event(c);c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();c.target=this.element[0];if(b=c.originalEvent)for(e in b)e in c||(c[e]=b[e]);this.element.trigger(c,d);return!(a.isFunction(g)&&!1===g.apply(this.element[0],[c].concat(d))||c.isDefaultPrevented())}};
a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,g){"string"===typeof e&&(e={effect:e});var f,k=e?!0===e||"number"===typeof e?c:e.effect||c:b;e=e||{};"number"===typeof e&&(e={duration:e});f=!a.isEmptyObject(e);e.complete=g;e.delay&&d.delay(e.delay);if(f&&a.effects&&a.effects.effect[k])d[b](e);else if(k!==b&&d[k])d[k](e.duration,e.easing,g);else d.queue(function(c){a(this)[b]();g&&g.call(d[0]);c()})}})})(d)};f();this.resolveWith(f)})})();(function(){FD31.module("ui/menu",
function(d){var f=this;d.require().script("ui/widget").done(function(){var a=function(){(function(a,c){a.widget("ui.menu",{version:"1.10.4pre",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,
tabIndex:0}).bind("click"+this.eventNamespace,a.proxy(function(a){this.options.disabled&&a.preventDefault()},this));this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item > a":function(a){a.preventDefault()},"click .ui-state-disabled > a":function(a){a.preventDefault()},"click .ui-menu-item:has(a)":function(c){var d=a(c.target).closest(".ui-menu-item");!this.mouseHandled&&d.not(".ui-state-disabled").length&&(this.mouseHandled=
!0,this.select(c),d.has(".ui-menu").length?this.expand(c):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(c){var d=a(c.currentTarget);d.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(c,d)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var c=this.active||this.element.children(".ui-menu-item").eq(0);
b||this.focus(a,c)},blur:function(c){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(c)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(c){a(c.target).closest(".ui-menu").length||this.collapseAll(c);this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();
this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var c=a(this);c.data("ui-menu-submenu-carat")&&c.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(c){function d(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,
"\\$&")}var f,k,r,n,p=!0;switch(c.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(c);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(c);break;case a.ui.keyCode.HOME:this._move("first","first",c);break;case a.ui.keyCode.END:this._move("last","last",c);break;case a.ui.keyCode.UP:this.previous(c);break;case a.ui.keyCode.DOWN:this.next(c);break;case a.ui.keyCode.LEFT:this.collapse(c);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(c);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(c);
break;case a.ui.keyCode.ESCAPE:this.collapse(c);break;default:p=!1,f=this.previousFilter||"",k=String.fromCharCode(c.keyCode),r=!1,clearTimeout(this.filterTimer),k===f?r=!0:k=f+k,n=RegExp("^"+d(k),"i"),f=this.activeMenu.children(".ui-menu-item").filter(function(){return n.test(a(this).children("a").text())}),f=r&&-1!==f.index(this.active.next())?this.active.nextAll(".ui-menu-item"):f,f.length||(k=String.fromCharCode(c.keyCode),n=RegExp("^"+d(k),"i"),f=this.activeMenu.children(".ui-menu-item").filter(function(){return n.test(a(this).children("a").text())})),
f.length?(this.focus(c,f),1<f.length?(this.previousFilter=k,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter):delete this.previousFilter}p&&c.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var c,d=this.options.icons.submenu;c=this.element.find(this.options.menus);c.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,
"aria-hidden":"true","aria-expanded":"false"}).each(function(){var c=a(this),g=c.prev("a"),f=a("<span>").addClass("ui-menu-icon ui-icon "+d).data("ui-menu-submenu-carat",!0);g.attr("aria-haspopup","true").prepend(f);c.attr("aria-labelledby",g.attr("id"))});c=c.add(this.element);c.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});c.children(":not(.ui-menu-item)").each(function(){var c=
a(this);/[^\-\u2014\u2013\s]/.test(c.text())||c.addClass("ui-widget-content ui-menu-divider")});c.children(".ui-state-disabled").attr("aria-disabled","true");this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,b){"icons"===a&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(b.submenu);this._super(a,b)},focus:function(a,b){var c;this.blur(a,a&&
"focus"===a.type);this._scrollIntoView(b);this.active=b.first();c=this.active.children("a").addClass("ui-state-focus");this.options.role&&this.element.attr("aria-activedescendant",c.attr("id"));this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);c=b.children(".ui-menu");c.length&&/^mouse/.test(a.type)&&this._startOpening(c);this.activeMenu=b.parent();this._trigger("focus",
a,{item:b})},_scrollIntoView:function(c){var d,f,k;this._hasScroll()&&(d=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,f=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,d=c.offset().top-this.activeMenu.offset().top-d-f,f=this.activeMenu.scrollTop(),k=this.activeMenu.height(),c=c.height(),0>d?this.activeMenu.scrollTop(f+d):d+c>k&&this.activeMenu.scrollTop(f+d-k+c))},blur:function(a,b){b||clearTimeout(this.timer);this.active&&(this.active.children("a").removeClass("ui-state-focus"),
this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer);"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(a)},this.delay))},_open:function(c){var d=a.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(c.parents(".ui-menu")).hide().attr("aria-hidden","true");c.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(d)},collapseAll:function(c,
d){clearTimeout(this.timer);this.timer=this._delay(function(){var f=d?this.element:a(c&&c.target).closest(this.element.find(".ui-menu"));f.length||(f=this.element);this._close(f);this.blur(c);this.activeMenu=f},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element);a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",
this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},
_move:function(a,b,c){var d;this.active&&(d="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0));d&&d.length&&this.active||(d=this.activeMenu.children(".ui-menu-item")[b]());this.focus(c,d)},nextPage:function(c){var d,f,k;this.active?this.isLastItem()||(this._hasScroll()?(f=this.active.offset().top,k=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){d=a(this);return 0>d.offset().top-f-k}),
this.focus(c,d)):this.focus(c,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())):this.next(c)},previousPage:function(c){var d,f,k;this.active?this.isFirstItem()||(this._hasScroll()?(f=this.active.offset().top,k=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){d=a(this);return 0<d.offset().top-f+k}),this.focus(c,d)):this.focus(c,this.activeMenu.children(".ui-menu-item").first())):this.next(c)},_hasScroll:function(){return this.element.outerHeight()<
this.element.prop("scrollHeight")},select:function(c){this.active=this.active||a(c.target).closest(".ui-menu-item");var d={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(c,!0);this._trigger("select",c,d)}})})(d)};a();f.resolveWith(a)})})})()});
FD31.installer("Komento","definitions",function(f){f.module("komento/admin.comment.actions komento/komento.common komento/komento.language komento/syntaxhighlighter komento/admin.language komento/admin.database komento/admin.integrations.customsmileys komento/admin.report.actions komento/dashboard.comment.item komento/dashboard.flag.item komento/komento.admincomments komento/komento.bbcode komento/komento.commentform komento/komento.commentitem komento/komento.commentlist komento/sharelinks komento/markitup komento/komento.commenttools komento/komento.famelist komento/komento.insertvideo komento/komento komento/komento.profile komento/komento.upload komento/location komento/migrator.actions komento/migrator.common komento/migrator.custom komento/migrator.progress".split(" "));f.require.template.loader("komento/dialogs/error komento/dialogs/delete.affectchild komento/comment/edit.form komento/dialogs/unpublish.affectchild komento/dialogs/delete.single komento/comment/item/edit.form komento/dialogs/delete.attachment komento/notifications/new.comment komento/comment/form/uploadrow".split(" "));
f.require.language.loader("COM_KOMENTO_ERROR COM_KOMENTO_LOADING COM_KOMENTO_UNPUBLISHED COM_KOMENTO_PUBLISHED COM_KOMENTO_NOFLAG COM_KOMENTO_SPAM COM_KOMENTO_OFFENSIVE COM_KOMENTO_OFFTOPIC COM_KOMENTO_COMMENTS_LOADING COM_KOMENTO_COMMENT_EDIT COM_KOMENTO_COMMENT_EDIT_CANCEL COM_KOMENTO_COMMENT_EDITTED_BY COM_KOMENTO_COMMENT_REPLY COM_KOMENTO_COMMENT_REPLY_CANCEL COM_KOMENTO_COMMENT_REPORT COM_KOMENTO_COMMENT_REPORTED COM_KOMENTO_COMMENT_SHARE COM_KOMENTO_COMMENT_SHARE_CANCEL COM_KOMENTO_COMMENT_LIKE COM_KOMENTO_COMMENT_UNLIKE COM_KOMENTO_COMMENT_STICK COM_KOMENTO_COMMENT_UNSTICK COM_KOMENTO_COMMENT_WHERE_ARE_YOU COM_KOMENTO_COMMENT_PEOPLE_WHO_LIKED_THIS COM_KOMENTO_FORM_LEAVE_YOUR_COMMENTS COM_KOMENTO_FORM_IN_REPLY_TO COM_KOMENTO_FORM_SUBMIT COM_KOMENTO_FORM_REPLY COM_KOMENTO_FORM_NOTIFICATION_SUBMITTED COM_KOMENTO_FORM_NOTIFICATION_PENDING COM_KOMENTO_FORM_NOTIFICATION_COMMENT_REQUIRED COM_KOMENTO_FORM_NOTIFICATION_COMMENT_TOO_SHORT COM_KOMENTO_FORM_TNC COM_KOMENTO_FORM_AGREE_TNC COM_KOMENTO_FORM_OR_DROP_FILES_HERE COM_KOMENTO_FORM_NOTIFICATION_NOTIFICATION_USERNAME_REQUIRED COM_KOMENTO_FORM_NOTIFICATION_NAME_REQUIRED COM_KOMENTO_FORM_NOTIFICATION_EMAIL_REQUIRED COM_KOMENTO_FORM_NOTIFICATION_EMAIL_INVALID COM_KOMENTO_FORM_NOTIFICATION_WEBSITE_REQUIRED COM_KOMENTO_FORM_NOTIFICATION_WEBSITE_INVALID COM_KOMENTO_FORM_NOTIFICATION_TNC_REQUIRED COM_KOMENTO_FORM_NOTIFICATION_CAPTCHA_REQUIRED COM_KOMENTO_FORM_NOTIFICATION_SUBSCRIBED COM_KOMENTO_FORM_NOTIFICATION_SUBSCRIBE_CONFIRMATION_REQUIRED COM_KOMENTO_FORM_NOTIFICATION_SUBSCRIBE_ERROR COM_KOMENTO_FORM_NOTIFICATION_UNSUBSCRIBED COM_KOMENTO_FORM_NOTIFICATION_MAX_FILE_SIZE COM_KOMENTO_FORM_NOTIFICATION_MAX_FILE_ITEM COM_KOMENTO_FORM_NOTIFICATION_FILE_EXTENSION COM_KOMENTO_FORM_NOTIFICATION_UPLOAD_NOT_ALLOWED COM_KOMENTO_FORM_LOCATION_AUTODETECT COM_KOMENTO_FORM_LOCATION_DETECTING COM_KOMENTO_BBCODE_BOLD COM_KOMENTO_BBCODE_ITALIC COM_KOMENTO_BBCODE_UNDERLINE COM_KOMENTO_BBCODE_LINK COM_KOMENTO_BBCODE_LINK_TEXT COM_KOMENTO_BBCODE_PICTURE COM_KOMENTO_BBCODE_VIDEO COM_KOMENTO_BBCODE_BULLETLIST COM_KOMENTO_BBCODE_NUMERICLIST COM_KOMENTO_BBCODE_BULLET COM_KOMENTO_BBCODE_QUOTE COM_KOMENTO_BBCODE_CLEAN COM_KOMENTO_BBCODE_SMILE COM_KOMENTO_BBCODE_HAPPY COM_KOMENTO_BBCODE_SURPRISED COM_KOMENTO_BBCODE_TONGUE COM_KOMENTO_BBCODE_UNHAPPY COM_KOMENTO_BBCODE_WINK COM_KOMENTO_INSERT_VIDEO COM_KOMENTO_CONFIRM_DELETE_AFFECT_ALL_CHILD COM_KOMENTO_CONFIRM_DELETE COM_KOMENTO_DELETE_COMMENT COM_KOMENTO_DELETE_ALL_CHILD COM_KOMENTO_DELETE_MOVE_CHILD_UP COM_KOMENTO_DELETING COM_KOMENTO_CONFIRM_PUBLISH_AFFECT_ALL_CHILD COM_KOMENTO_PUBLISH_ALL_CHILD COM_KOMENTO_PUBLISH_SINGLE COM_KOMENTO_CHILD_UNPUBLISHED COM_KOMENTO_PARENT_PUBLISHED COM_KOMENTO_MIGRATORS_LOG_COMPLETE COM_KOMENTO_MIGRATORS_PROGRESS_DONE COM_KOMENTO_YES_OPTION COM_KOMENTO_NO_OPTION COM_KOMENTO_ACL_RECOMMENDED COM_KOMENTO_PUBLISH_ITEM COM_KOMENTO_UNPUBLISH_ITEM COM_KOMENTO_SETTINGS_DATABASE_POPULATE_DEPTH_STATUS_UPDATING COM_KOMENTO_SETTINGS_DATABASE_POPULATE_DEPTH_STATUS_COMPLETED COM_KOMENTO_SETTINGS_DATABASE_POPULATE_DEPTH_STATUS_ERROR COM_KOMENTO_SETTINGS_DATABASE_FIX_STRUCTURE_STATUS_UPDATING_STAGE1 COM_KOMENTO_SETTINGS_DATABASE_FIX_STRUCTURE_STATUS_UPDATING_STAGE2 COM_KOMENTO_SETTINGS_DATABASE_FIX_STRUCTURE_STATUS_ERROR COM_KOMENTO_SETTINGS_DATABASE_FIX_STRUCTURE_STATUS_COMPLETED".split(" "));
(function(){var d=f.stylesheet({content:""})?"resolve":"reject";f.each(["komento/dialog/default","komento/fancybox/default"],function(k,a){f.require.stylesheet.loader(a)[d]()})})()});
FD31.installer("Komento","scripts",function(f){Komento.module("admin.comment.actions",function(d){var f=this;Komento.require().library("dialog").stylesheet("dialog/default").script("komento.common","admin.language").done(function(){var a,b;"1.5"==Komento.options.jversion?(a="images/tick.png",b="images/publish_x.png"):(a="templates/bluestork/images/admin/tick.png",b="templates/bluestork/images/admin/publish_x.png");Komento.actions={loadReplies:function(a){var b=d(".kmt-row").length;Komento.ajax("admin.views.comments.loadreplies",
{parentId:a,startCount:b},{success:function(b){d("#kmt-"+a).after(b).find(".linked-cell").text("-");d(".kmt-row").each(function(a,b){var c=a%2;b.removeClass("row1","row0").addClass("row"+c)});"3.0">Komento.options.jversion&&d("#toggle").attr("onClick","checkAll("+d(".kmt-row").length+");")}})},submit:function(a,b){0!=d(".foundryDialog").length&&d(".foundryDialog").controller().close();Komento.actions.affectchild=b;var e=[],f=[];d('input[type="checkbox"]:checked').each(function(b,g){if(""!=g.value){e.push(g.value);
f.push(d("#kmt-"+g.value));var k;k="unstick"==a||"stick"==a?"sticked":"published";d("#kmt-"+g.value).find("."+k+"-cell a img").attr("src",Komento.options.spinner)}});Komento.ajax("admin.views.comments."+a,{ids:e,affectchild:b},{success:function(){var b=[],e=[];d.each(f,function(d,f){Komento.actions[a](f);0<f.attr("childs")&&b.push(1);0!=f.attr("parentid")&&e.push(1)});if("publish"==a&&0<e.length||"publish"!=a&&0<b.length)Komento.actions[a+"Dialog"]()},fail:function(){}})},publish:function(b){var f=
b.find(".published-cell a").attr("onclick").replace("unpublish","publish").replace("publish","unpublish");b.find(".published-cell a").attr("onclick",f).attr("title",d.language("COM_KOMENTO_UNPUBLISH_ITEM"));"3.0">Komento.options.jversion?b.find(".published-cell a img").attr("src",a):b.find(".published-cell i").removeClass("icon-unpublish").addClass("icon-publish");Komento.actions.publishParent(b);Komento.actions.publishChild(b)},publishParent:function(b){if(b.exists()){var f=b.find(".published-cell a").attr("onclick").replace("unpublish",
"publish").replace("publish","unpublish");b.find(".published-cell a").attr("onclick",f).attr("title",d.language("COM_KOMENTO_UNPUBLISH_ITEM"));"3.0">Komento.options.jversion?b.find(".published-cell a img").attr("src",a):b.find(".published-cell i").removeClass("icon-unpublish").addClass("icon-publish");0!=b.attr("parentid")&&Komento.actions.publishParent(d("#kmt-"+b.attr("parentid")))}},publishChild:function(b){if(b.exists()){var f=b.find(".published-cell a").attr("onclick").replace("unpublish","publish").replace("publish",
"unpublish");b.find(".published-cell a").attr("onclick",f).attr("title",d.language("COM_KOMENTO_UNPUBLISH_ITEM"));"3.0">Komento.options.jversion?b.find(".published-cell a img").attr("src",a):b.find(".published-cell i").removeClass("icon-unpublish").addClass("icon-publish");1==Komento.actions.affectchild&0<b.attr("childs")&&(b=b.attr("id").split("-")[1],Komento.actions.publishChild(d('.kmt-row[parentid="'+b+'"]')))}},publishDialog:function(){d.dialog("<p>"+d.language("COM_KOMENTO_PARENT_PUBLISHED")+
"</p>")},publishParentDialog:function(){d.dialog("<p>"+d.language("COM_KOMENTO_PARENT_PUBLISHED")+"</p>")},unpublish:function(a){if(a.exists()){var f=a.find(".published-cell a").attr("onclick").replace("unpublish","publish");a.find(".published-cell a").attr("onclick",f).attr("title",d.language("COM_KOMENTO_PUBLISH_ITEM"));"3.0">Komento.options.jversion?a.find(".published-cell a img").attr("src",b):a.find(".published-cell i").removeClass("icon-publish").addClass("icon-unpublish");0<a.attr("childs")&&
(a=a.attr("id").split("-")[1],Komento.actions.unpublish(d('.kmt-row[parentid="'+a+'"]')))}},unpublishDialog:function(){d.dialog("<p>"+d.language("COM_KOMENTO_CHILD_UNPUBLISHED")+"</p>")},stick:function(a){var b=a.find(".sticked-cell a").attr("onclick").replace("stick","unstick");a.find(".sticked-cell a").attr("onclick",b);"3.0">Komento.options.jversion?a.find(".sticked-cell a img").attr("src","components/com_komento/assets/images/sticked.png"):a.find(".sticked-cell i").removeClass("icon-star-empty").addClass("icon-star")},
stickDialog:function(){},unstick:function(a){var b=a.find(".sticked-cell a").attr("onclick").replace("unstick","stick");a.find(".sticked-cell a").attr("onclick",b);"3.0">Komento.options.jversion?a.find(".sticked-cell a img").attr("src","components/com_komento/assets/images/unsticked.png"):a.find(".sticked-cell i").removeClass("icon-star").addClass("icon-star-empty")},unstickDialog:function(){}};Komento.prepare={checkChild:function(){var a=[];d('input[type="checkbox"]:checked').each(function(b,e){""!=
e.value&&0<d("#kmt-"+e.value).attr("childs")&&a.push(1)});return 0<a.length?!0:!1},remove:function(){var a,b;Komento.prepare.checkChild()?(a=d.language("COM_KOMENTO_CONFIRM_DELETE_AFFECT_ALL_CHILD"),b='<button onclick="Komento.prepare.removeall()">'+d.language("COM_KOMENTO_DELETE_ALL_CHILD")+"</button>",b+='<button onclick="Komento.prepare.removesingle()">'+d.language("COM_KOMENTO_DELETE_MOVE_CHILD_UP")+"</button>"):(a=d.language("COM_KOMENTO_CONFIRM_DELETE"),b='<button onclick="Komento.prepare.removeall()">'+
d.language("COM_KOMENTO_DELETE_COMMENT")+"</button>");d.dialog('<div style="text-align: center;"><p>'+a+"</p>"+b+"</div>")},removeall:function(){prepareSubmit("remove",1)},removesingle:function(){prepareSubmit("remove",0)},publish:function(){if(Komento.prepare.checkChild()){var a=d.language("COM_KOMENTO_CONFIRM_PUBLISH_AFFECT_ALL_CHILD"),b='<button onclick="Komento.prepare.publishall()">'+d.language("COM_KOMENTO_PUBLISH_ALL_CHILD")+"</button>",b=b+('<button onclick="Komento.prepare.publishsingle()">'+
d.language("COM_KOMENTO_PUBLISH_SINGLE")+"</button>");d.dialog('<div style="text-align: center;"><p>'+a+"</p>"+b+"</div>")}else Komento.actions.submit("publish",1)},publishall:function(){Komento.actions.submit("publish",1)},publishsingle:function(){Komento.actions.submit("publish",0)},unpublish:function(){Komento.actions.submit("unpublish",1)},stick:function(){Komento.actions.submit("stick",1)},unstick:function(){Komento.actions.submit("unstick",1)},saveColumns:function(){submitform("saveColumns")}};
window.submitbutton=function(a){Komento.prepare[a]()};window.prepareSubmit=function(a,b){0!=d(".foundryDialog").length&&d(".foundryDialog").controller().close();document.adminForm.affectchild.value=b;submitform(a)};window.listItemTask=function(a,b){var d=document.adminForm,f=d[a];if(f){for(var k=0;;k++){var r=d["cb"+k];if(!r)break;r.checked=!1}f.checked=!0;d.boxchecked.value=1;submitbutton(b)}return!1};f.resolve()})});Komento.module("komento.common",function(d){var f=this;Komento.require().library("ui/effect",
"scrollTo").script("komento.language").done(function(){var a=d.fn.hide,b=d.fn.show;d.fn.hide=function(){a.apply(this,arguments);this.addClass("hidden");return this};d.fn.show=function(){b.apply(this,arguments);this.removeClass("hidden");return this};d.fn.scroll=function(){d.scrollTo(this,500)};d.fn.highlight=function(){this.effect("highlight",{color:"#FDFFE0"},2E3);return this};d.fn.enable=function(){this.removeClass("disabled");return this};d.fn.disable=function(){this.addClass("disabled");return this};
d.fn.switchOn=function(){this.removeClass("cancel");return this};d.fn.switchOff=function(){this.addClass("cancel");return this};d.fn.checkSwitch=function(){return this.hasClass("cancel")?!1:!0};d.fn.checkClick=function(){if(this.hasClass("disabled"))return!1;this.addClass("disabled");return!0};d.fn.clearClick=function(){this.removeClass("disabled");return this};d.fn.loading=function(){this.addClass("loading");return this};d.fn.doneLoading=function(){this.removeClass("loading");return this};d.fn.exists=
function(){return 0<this.length?!0:!1};d.fn.acl=function(a,b,d){Komento.ajax("site.views.komento.checkAcl",{component:a,rule:b},{success:function(){return d&&d()}})};d.fn.permission=function(a,b,d){Komento.ajax("site.views.komento.checkPermission",{id:a,action:b},{success:function(){return d&&d()}})};d.shortenlink=function(a,b){Komento.ajax("site.views.komento.shortenLink",{url:a},{success:function(a){Komento.shortenLink=a;return b&&b(a)}})};d.stripHtml=function(a){return d("<div>"+a+"</div>").text()};
d.bugReport=function(a){Komento.require().library("dialog").stylesheet("dialog/default").view("dialogs/error").done(function(){d.dialog({title:d.language("COM_KOMENTO_ERROR"),width:500,customClass:"kmt-dialog",content:Komento.View("dialogs/error",{status:a.status,statusText:a.statusText,responseText:d.stripHtml(a.responseText)})})})};d.loadSHBrushes=function(){Komento.require().script("syntaxhighlighter").done(function(){d(".kmt-item pre code").each(function(a,b){hljs.highlightBlock(b)})})};f.resolve()})});
Komento.module("komento.language",function(d){var f=this;Komento.require().language("COM_KOMENTO_ERROR","COM_KOMENTO_LOADING","COM_KOMENTO_UNPUBLISHED","COM_KOMENTO_PUBLISHED","COM_KOMENTO_NOFLAG","COM_KOMENTO_SPAM","COM_KOMENTO_OFFENSIVE","COM_KOMENTO_OFFTOPIC","COM_KOMENTO_COMMENTS_LOADING","COM_KOMENTO_COMMENT_EDIT","COM_KOMENTO_COMMENT_EDIT_CANCEL","COM_KOMENTO_COMMENT_EDITTED_BY","COM_KOMENTO_COMMENT_REPLY","COM_KOMENTO_COMMENT_REPLY_CANCEL","COM_KOMENTO_COMMENT_REPORT","COM_KOMENTO_COMMENT_REPORTED",
"COM_KOMENTO_COMMENT_SHARE","COM_KOMENTO_COMMENT_SHARE_CANCEL","COM_KOMENTO_COMMENT_LIKE","COM_KOMENTO_COMMENT_UNLIKE","COM_KOMENTO_COMMENT_STICK","COM_KOMENTO_COMMENT_UNSTICK","COM_KOMENTO_COMMENT_WHERE_ARE_YOU","COM_KOMENTO_COMMENT_PEOPLE_WHO_LIKED_THIS","COM_KOMENTO_FORM_LEAVE_YOUR_COMMENTS","COM_KOMENTO_FORM_IN_REPLY_TO","COM_KOMENTO_FORM_SUBMIT","COM_KOMENTO_FORM_REPLY","COM_KOMENTO_FORM_NOTIFICATION_SUBMITTED","COM_KOMENTO_FORM_NOTIFICATION_PENDING","COM_KOMENTO_FORM_NOTIFICATION_COMMENT_REQUIRED",
"COM_KOMENTO_FORM_NOTIFICATION_COMMENT_TOO_SHORT","COM_KOMENTO_FORM_TNC","COM_KOMENTO_FORM_AGREE_TNC","COM_KOMENTO_FORM_OR_DROP_FILES_HERE","COM_KOMENTO_FORM_NOTIFICATION_NOTIFICATION_USERNAME_REQUIRED","COM_KOMENTO_FORM_NOTIFICATION_NAME_REQUIRED","COM_KOMENTO_FORM_NOTIFICATION_EMAIL_REQUIRED","COM_KOMENTO_FORM_NOTIFICATION_EMAIL_INVALID","COM_KOMENTO_FORM_NOTIFICATION_WEBSITE_REQUIRED","COM_KOMENTO_FORM_NOTIFICATION_WEBSITE_INVALID","COM_KOMENTO_FORM_NOTIFICATION_TNC_REQUIRED","COM_KOMENTO_FORM_NOTIFICATION_CAPTCHA_REQUIRED",
"COM_KOMENTO_FORM_NOTIFICATION_SUBSCRIBED","COM_KOMENTO_FORM_NOTIFICATION_SUBSCRIBE_CONFIRMATION_REQUIRED","COM_KOMENTO_FORM_NOTIFICATION_SUBSCRIBE_ERROR","COM_KOMENTO_FORM_NOTIFICATION_UNSUBSCRIBED","COM_KOMENTO_FORM_NOTIFICATION_MAX_FILE_SIZE","COM_KOMENTO_FORM_NOTIFICATION_MAX_FILE_ITEM","COM_KOMENTO_FORM_NOTIFICATION_FILE_EXTENSION","COM_KOMENTO_FORM_NOTIFICATION_UPLOAD_NOT_ALLOWED","COM_KOMENTO_FORM_LOCATION_AUTODETECT","COM_KOMENTO_FORM_LOCATION_DETECTING","COM_KOMENTO_BBCODE_BOLD","COM_KOMENTO_BBCODE_ITALIC",
"COM_KOMENTO_BBCODE_UNDERLINE","COM_KOMENTO_BBCODE_LINK","COM_KOMENTO_BBCODE_LINK_TEXT","COM_KOMENTO_BBCODE_PICTURE","COM_KOMENTO_BBCODE_VIDEO","COM_KOMENTO_BBCODE_BULLETLIST","COM_KOMENTO_BBCODE_NUMERICLIST","COM_KOMENTO_BBCODE_BULLET","COM_KOMENTO_BBCODE_QUOTE","COM_KOMENTO_BBCODE_CLEAN","COM_KOMENTO_BBCODE_SMILE","COM_KOMENTO_BBCODE_HAPPY","COM_KOMENTO_BBCODE_SURPRISED","COM_KOMENTO_BBCODE_TONGUE","COM_KOMENTO_BBCODE_UNHAPPY","COM_KOMENTO_BBCODE_WINK","COM_KOMENTO_INSERT_VIDEO").done(function(){f.resolve()})});
Komento.module("syntaxhighlighter",function(d){var f=new function(){function a(a){return a.replace(/&/gm,"&amp;").replace(/</gm,"&lt;")}function b(a,b,c){return RegExp(b,"m"+(a.cI?"i":"")+(c?"g":""))}function c(a,b){for(var d="",e=0;e<a.childNodes.length;e++)if(3==a.childNodes[e].nodeType){var f=a.childNodes[e].nodeValue;b&&(f=f.replace(/\n/g,""));d+=f}else d="BR"==a.childNodes[e].nodeName?d+"\n":d+c(a.childNodes[e]);/MSIE [678]/.test(navigator.userAgent)&&(d=d.replace(/\r/g,"\n"));return d}function d(a){var b=
[];(function x(a,c){for(var d=0;d<a.childNodes.length;d++)3==a.childNodes[d].nodeType?c+=a.childNodes[d].nodeValue.length:"BR"==a.childNodes[d].nodeName?c+=1:1==a.childNodes[d].nodeType&&(b.push({event:"start",offset:c,node:a.childNodes[d]}),c=x(a.childNodes[d],c),b.push({event:"stop",offset:c,node:a.childNodes[d]}));return c})(a,0);return b}function e(b,c,d){function e(b){for(var c="<"+b.nodeName.toLowerCase(),d=0;d<b.attributes.length;d++){var f=b.attributes[d],c=c+(" "+f.nodeName.toLowerCase());
void 0!==f.value&&!1!==f.value&&null!==f.value&&(c+='="'+a(f.value)+'"')}return c+">"}for(var f=0,g="",h=[];b.length||c.length;){var k=(b.length&&c.length?b[0].offset!=c[0].offset?b[0].offset<c[0].offset?b:c:"start"==c[0].event?b:c:b.length?b:c).splice(0,1)[0],g=g+a(d.substr(f,k.offset-f)),f=k.offset;if("start"==k.event)g+=e(k.node),h.push(k.node);else if("stop"==k.event){var m,n=h.length;do n--,m=h[n],g+="</"+m.nodeName.toLowerCase()+">";while(m!=k.node);for(h.splice(n,1);n<h.length;)g+=e(h[n]),
n++}}return g+a(d.substr(f))}function h(){function a(c,d,e){if(!c.compiled){var g=[];if(c.k){var h={},m=function(a,b){for(var c=b.split(" "),d=0;d<c.length;d++){var e=c[d].split("|");h[e[0]]=[a,e[1]?Number(e[1]):1];g.push(e[0])}};c.lR=b(d,c.l||f.IR,!0);if("string"==typeof c.k)m("keyword",c.k);else for(var n in c.k)c.k.hasOwnProperty(n)&&m(n,c.k[n]);c.k=h}e||(c.bWK&&(c.b="\\b("+g.join("|")+")\\s"),c.bR=b(d,c.b?c.b:"\\B|\\b"),c.e||c.eW||(c.e="\\B|\\b"),c.e&&(c.eR=b(d,c.e)));c.i&&(c.iR=b(d,c.i));void 0===
c.r&&(c.r=1);c.c||(c.c=[]);c.compiled=!0;for(e=0;e<c.c.length;e++)"self"==c.c[e]&&(c.c[e]=c),a(c.c[e],d,!1);c.starts&&a(c.starts,d,!1)}}for(var c in w)w.hasOwnProperty(c)&&a(w[c].dM,w[c],!0)}function m(c,d){function e(a,b){if(q[a].e&&q[a].eR.test(b))return 1;if(q[a].eW){var c=e(a-1,b);return c?c+1:0}return 0}function f(a,c){var d=q[q.length-1];if(void 0===d.t){var e;e=p;for(var g=[],h=0;h<d.c.length;h++)g.push(d.c[h].b);h=q.length-1;do q[h].e&&g.push(q[h].e),h--;while(q[h+1].eW);d.i&&g.push(d.i);
e=g.length?b(e,g.join("|"),!0):null;d.t=e}var k;d.t&&(d.t.lastIndex=c,k=d.t.exec(a));return k?[a.substr(c,k.index-c),k[0],!1]:[a.substr(c),"",!0]}function g(b,c){if(c.sL&&w[c.sL]||""==c.sL){var d;d=""==c.sL?r(b):m(c.sL,b);0<c.r&&(H+=d.keyword_count,L+=d.r);return'<span class="'+d.language+'">'+d.value+"</span>"}d=a(b);if(c.k){var e="",f=0;c.lR.lastIndex=0;for(var h=c.lR.exec(d);h;){var e=e+d.substr(f,h.index-f),f=c,k=h,k=p.cI?k[0].toLowerCase():k[0];(f=(f=f.k[k])&&f instanceof Array?f:!1)?(H+=f[1],
e+='<span class="'+f[0]+'">'+h[0]+"</span>"):e+=h[0];f=c.lR.lastIndex;h=c.lR.exec(d)}d=e+d.substr(f)}return d}function k(b,c){var d=b.cN?'<span class="'+b.cN+'">':"";b.rB?(D+=d,b.buffer=""):b.eB?(D+=a(c)+d,b.buffer=""):(D+=d,b.buffer=c);q.push(b);L+=b.r}function n(b,c,d){var f=q[q.length-1];if(d)return D+=g(f.buffer+b,f),!1;a:{for(d=0;d<f.c.length;d++){var h=f.c[d].bR.exec(c);if(h&&0==h.index){d=f.c[d];break a}}d=void 0}if(d)return D+=g(f.buffer+b,f),k(d,c),d.rB;if(d=e(q.length-1,c)){h=f.cN?"</span>":
"";for(D=f.rE?D+(g(f.buffer+b,f)+h):f.eE?D+(g(f.buffer+b,f)+h+a(c)):D+(g(f.buffer+b+c,f)+h);1<d;)h=q[q.length-2].cN?"</span>":"",D+=h,d--,q.length--;b=q[q.length-1];q.length--;q[q.length-1].buffer="";b.starts&&k(b.starts,"");return f.rE}if(f.i&&f.iR.test(c))throw"Illegal";}h.called||(h(),h.called=!0);var p=w[c],q=[p.dM],L=0,H=0,D="";try{var C,I=0;p.dM.buffer="";do{C=f(d,I);var B=n(C[0],C[1],C[2]),I=I+C[0].length;B||(I+=C[1].length)}while(!C[2]);return{r:L,keyword_count:H,value:D,language:c}}catch(S){if("Illegal"==
S)return{r:0,keyword_count:0,value:a(d)};throw S;}}function r(b){var c={keyword_count:0,r:0,value:a(b)},d=c,e;for(e in w)if(w.hasOwnProperty(e)){var f=m(e,b);f.language=e;f.keyword_count+f.r>d.keyword_count+d.r&&(d=f);f.keyword_count+f.r>c.keyword_count+c.r&&(d=c,c=f)}d.language&&(c.second_best=d);return c}function n(a,b,c){b&&(a=a.replace(/^((<[^>]+>|\t)+)/gm,function(a,c,d,e){return c.replace(/\t/g,b)}));c&&(a=a.replace(/\n/g,"<br>"));return a}function p(a,b,f){var h=c(a,f),k;a:{var p=a;k=p.className.split(/\s+/);
k=k.concat(p.parentNode.className.split(/\s+/));for(p=0;p<k.length;p++){var q=k[p].replace(/^language-/,"");if(w[q]||"no-highlight"==q){k=q;break a}}k=void 0}if("no-highlight"!=k){k?p=m(k,h):(p=r(h),k=p.language);var A=d(a);A.length&&(q=document.createElement("pre"),q.innerHTML=p.value,p.value=e(A,d(q),h));p.value=n(p.value,b,f);b=a.className;b.match("(\\s|^)(language-)?"+k+"(\\s|$)")||(b=b?b+" "+k:k);/MSIE [678]/.test(navigator.userAgent)&&"CODE"==a.tagName&&"PRE"==a.parentNode.tagName?(q=a.parentNode,
f=document.createElement("div"),f.innerHTML="<pre><code>"+p.value+"</code></pre>",a=f.firstChild.firstChild,f.firstChild.cN=q.cN,q.parentNode.replaceChild(f.firstChild,q)):a.innerHTML=p.value;a.className=b;a.result={language:k,kw:p.keyword_count,re:p.r};p.second_best&&(a.second_best={language:p.second_best.language,kw:p.second_best.keyword_count,re:p.second_best.r})}}function q(){if(!q.called){q.called=!0;for(var a=document.getElementsByTagName("pre"),b=0;b<a.length;b++){var c;a:{c=a[b];for(var d=
0;d<c.childNodes.length;d++){var e=c.childNodes[d];if("CODE"==e.nodeName){c=e;break a}if(3!=e.nodeType||!e.nodeValue.match(/\s+/))break}c=void 0}c&&p(c,f.tabReplace)}}}var w={};this.LANGUAGES=w;this.highlight=m;this.highlightAuto=r;this.fixMarkup=n;this.highlightBlock=p;this.initHighlighting=q;this.initHighlightingOnLoad=function(){window.addEventListener?(window.addEventListener("DOMContentLoaded",q,!1),window.addEventListener("load",q,!1)):window.attachEvent?window.attachEvent("onload",q):window.onload=
q};this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="\\b(0[xX][a-fA-F0-9]+|(\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.BE={b:"\\\\.",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE],r:0};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE],r:0};this.CLCM=
{cN:"comment",b:"//",e:"$"};this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"};this.HCM={cN:"comment",b:"#",e:"$"};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM={cN:"number",b:this.BNR,r:0};this.inherit=function(a,b){var c={},d;for(d in a)c[d]=a[d];if(b)for(d in b)c[d]=b[d];return c}};f.LANGUAGES.bash=function(a){var b={cN:"variable",b:"\\$([a-zA-Z0-9_]+)\\b"},c={cN:"variable",b:"\\$\\{(([^}])|(\\\\}))+\\}",c:[a.CNM]},d={cN:"string",b:'"',e:'"',i:"\\n",c:[a.BE,b,c],
r:0},e={cN:"string",b:"'",e:"'",c:[{b:"''"}],r:0},f={cN:"test_condition",b:"",e:"",c:[d,e,b,c,a.CNM],k:{literal:"true false"},r:0};return{dM:{k:{keyword:"if then else fi for break continue while in do done echo exit return set declare",literal:"true false"},c:[{cN:"shebang",b:"(#!\\/bin\\/bash)|(#!\\/bin\\/sh)",r:10},b,c,a.HCM,a.CNM,d,e,a.inherit(f,{b:"\\[ ",e:" \\]",r:0}),a.inherit(f,{b:"\\[\\[ ",e:" \\]\\]"})]}}}(f);f.LANGUAGES.cs={dM:{k:"abstract as base bool break byte case catch char checked class const continue decimal default delegate do double else enum event explicit extern false finally fixed float for foreach goto if implicit in int interface internal is lock long namespace new null object operator out override params private protected public readonly ref return sbyte sealed short sizeof stackalloc static string struct switch this throw true try typeof uint ulong unchecked unsafe ushort using virtual volatile void while ascending descending from get group into join let orderby partial select set value var where yield",
c:[{cN:"comment",b:"///",e:"$",rB:!0,c:[{cN:"xmlDocTag",b:"///|\x3c!--|--\x3e"},{cN:"xmlDocTag",b:"</?",e:">"}]},f.CLCM,f.CBLCLM,{cN:"preprocessor",b:"#",e:"$",k:"if else elif endif define undef warning error line region endregion pragma checksum"},{cN:"string",b:'@"',e:'"',c:[{b:'""'}]},f.ASM,f.QSM,f.CNM]}};f.LANGUAGES.ruby=function(a){var b={keyword:"and false then defined module in return redo if BEGIN retry end for true self when next until do begin unless END rescue nil else break undef not super class case require yield alias while ensure elsif or def",
keymethods:"__id__ __send__ abort abs all? allocate ancestors any? arity assoc at at_exit autoload autoload? between? binding binmode block_given? call callcc caller capitalize capitalize! casecmp catch ceil center chomp chomp! chop chop! chr class class_eval class_variable_defined? class_variables clear clone close close_read close_write closed? coerce collect collect! compact compact! concat const_defined? const_get const_missing const_set constants count crypt default default_proc delete delete! delete_at delete_if detect display div divmod downcase downcase! downto dump dup each each_byte each_index each_key each_line each_pair each_value each_with_index empty? entries eof eof? eql? equal? eval exec exit exit! extend fail fcntl fetch fileno fill find find_all first flatten flatten! floor flush for_fd foreach fork format freeze frozen? fsync getc gets global_variables grep gsub gsub! has_key? has_value? hash hex id include include? included_modules index indexes indices induced_from inject insert inspect instance_eval instance_method instance_methods instance_of? instance_variable_defined? instance_variable_get instance_variable_set instance_variables integer? intern invert ioctl is_a? isatty iterator? join key? keys kind_of? lambda last length lineno ljust load local_variables loop lstrip lstrip! map map! match max member? merge merge! method method_defined? method_missing methods min module_eval modulo name nesting new next next! nil? nitems nonzero? object_id oct open pack partition pid pipe pop popen pos prec prec_f prec_i print printf private_class_method private_instance_methods private_method_defined? private_methods proc protected_instance_methods protected_method_defined? protected_methods public_class_method public_instance_methods public_method_defined? public_methods push putc puts quo raise rand rassoc read read_nonblock readchar readline readlines readpartial rehash reject reject! remainder reopen replace require respond_to? reverse reverse! reverse_each rewind rindex rjust round rstrip rstrip! scan seek select send set_trace_func shift singleton_method_added singleton_methods size sleep slice slice! sort sort! sort_by split sprintf squeeze squeeze! srand stat step store strip strip! sub sub! succ succ! sum superclass swapcase swapcase! sync syscall sysopen sysread sysseek system syswrite taint tainted? tell test throw times to_a to_ary to_f to_hash to_i to_int to_io to_proc to_s to_str to_sym tr tr! tr_s tr_s! trace_var transpose trap truncate tty? type ungetc uniq uniq! unpack unshift untaint untrace_var upcase upcase! update upto value? values values_at warn write write_nonblock zero? zip"},
c={cN:"yardoctag",b:"@[A-Za-z]+"},d=[{cN:"comment",b:"#",e:"$",c:[c]},{cN:"comment",b:"^\\=begin",e:"^\\=end",c:[c],r:10},{cN:"comment",b:"^__END__",e:"\\n$"}],c={cN:"subst",b:"#\\{",e:"}",l:"[a-zA-Z_][a-zA-Z0-9_]*(\\!|\\?)?",k:b},e=[a.BE,c],f=[{cN:"string",b:"'",e:"'",c:e,r:0},{cN:"string",b:'"',e:'"',c:e,r:0},{cN:"string",b:"%[qw]?\\(",e:"\\)",c:e},{cN:"string",b:"%[qw]?\\[",e:"\\]",c:e},{cN:"string",b:"%[qw]?{",e:"}",c:e},{cN:"string",b:"%[qw]?<",e:">",c:e,r:10},{cN:"string",b:"%[qw]?/",e:"/",
c:e,r:10},{cN:"string",b:"%[qw]?%",e:"%",c:e,r:10},{cN:"string",b:"%[qw]?-",e:"-",c:e,r:10},{cN:"string",b:"%[qw]?\\|",e:"\\|",c:e,r:10}],e={cN:"function",b:"\\bdef\\s+",e:" |$|;",l:"[a-zA-Z_][a-zA-Z0-9_]*(\\!|\\?)?",k:b,c:[{cN:"title",b:"[a-zA-Z_]\\w*[!?=]?|[-+~]\\@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?",l:"[a-zA-Z_][a-zA-Z0-9_]*(\\!|\\?)?",k:b},{cN:"params",b:"\\(",e:"\\)",l:"[a-zA-Z_][a-zA-Z0-9_]*(\\!|\\?)?",k:b}].concat(d)},k={cN:"identifier",b:"[a-zA-Z_][a-zA-Z0-9_]*(\\!|\\?)?",
l:"[a-zA-Z_][a-zA-Z0-9_]*(\\!|\\?)?",k:b,r:0};a=d.concat(f.concat([{cN:"class",bWK:!0,e:"$|;",k:"class module",c:[{cN:"title",b:"[A-Za-z_]\\w*(::\\w+)*(\\?|\\!)?",r:0},{cN:"inheritance",b:"<\\s*",c:[{cN:"parent",b:"("+a.IR+"::)?"+a.IR}]}].concat(d)},e,{cN:"constant",b:"(::)?([A-Z]\\w*(::)?)+",r:0},{cN:"symbol",b:":",c:f.concat([k]),r:0},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",r:0},{cN:"number",b:"\\?\\w"},{cN:"variable",b:"(\\$\\W)|((\\$|\\@\\@?)(\\w+))"},
k,{b:"("+a.RSR+")\\s*",c:d.concat([{cN:"regexp",b:"/",e:"/[a-z]*",i:"\\n",c:[a.BE]}]),r:0}]));c.c=a;e.c[1].c=a;return{dM:{l:"[a-zA-Z_][a-zA-Z0-9_]*(\\!|\\?)?",k:b,c:a}}}(f);f.LANGUAGES.diff={cI:!0,dM:{c:[{cN:"chunk",b:"^\\@\\@ +\\-\\d+,\\d+ +\\+\\d+,\\d+ +\\@\\@$",r:10},{cN:"chunk",b:"^\\*\\*\\* +\\d+,\\d+ +\\*\\*\\*\\*$",r:10},{cN:"chunk",b:"^\\-\\-\\- +\\d+,\\d+ +\\-\\-\\-\\-$",r:10},{cN:"header",b:"Index: ",e:"$"},{cN:"header",b:"=====",e:"=====$"},{cN:"header",b:"^\\-\\-\\-",e:"$"},{cN:"header",
b:"^\\*{3} ",e:"$"},{cN:"header",b:"^\\+\\+\\+",e:"$"},{cN:"header",b:"\\*{5}",e:"\\*{5}$"},{cN:"addition",b:"^\\+",e:"$"},{cN:"deletion",b:"^\\-",e:"$"},{cN:"change",b:"^\\!",e:"$"}]}};f.LANGUAGES.javascript={dM:{k:{keyword:"in if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete",literal:"true false null undefined NaN Infinity"},c:[f.ASM,f.QSM,f.CLCM,f.CBLCLM,f.CNM,{b:"("+f.RSR+"|\\b(case|return|throw)\\b)\\s*",
k:"return throw case",c:[f.CLCM,f.CBLCLM,{cN:"regexp",b:"/",e:"/[gim]*",c:[{b:"\\\\/"}]}],r:0},{cN:"function",bWK:!0,e:"{",k:"function",c:[{cN:"title",b:"[A-Za-z$_][0-9A-Za-z$_]*"},{cN:"params",b:"\\(",e:"\\)",c:[f.CLCM,f.CBLCLM],i:"[\"'\\(]"}],i:"\\[|%"}]}};f.LANGUAGES.css=function(a){var b={cN:"function",b:a.IR+"\\(",e:"\\)",c:[{eW:!0,eE:!0,c:[a.NM,a.ASM,a.QSM]}]};return{cI:!0,dM:{i:"[=/|']",c:[a.CBLCLM,{cN:"id",b:"\\#[A-Za-z0-9_-]+"},{cN:"class",b:"\\.[A-Za-z0-9_-]+",r:0},{cN:"attr_selector",b:"\\[",
e:"\\]",i:"$"},{cN:"pseudo",b:":(:)?[a-zA-Z0-9\\_\\-\\+\\(\\)\\\"\\']+"},{cN:"at_rule",b:"@(font-face|page)",l:"[a-z-]+",k:"font-face page"},{cN:"at_rule",b:"@",e:"[{;]",eE:!0,k:"import page media charset",c:[b,a.ASM,a.QSM,a.NM]},{cN:"tag",b:a.IR,r:0},{cN:"rules",b:"{",e:"}",i:"[^\\s]",r:0,c:[a.CBLCLM,{cN:"rule",b:"[^\\s]",rB:!0,e:";",eW:!0,c:[{cN:"attribute",b:"[A-Z\\_\\.\\-]+",e:":",eE:!0,i:"[^\\s]",starts:{cN:"value",eW:!0,eE:!0,c:[b,a.NM,a.QSM,a.ASM,a.CBLCLM,{cN:"hexcolor",b:"\\#[0-9A-F]+"},{cN:"important",
b:"!important"}]}}]}]}]}}}(f);f.LANGUAGES.xml=function(a){a={eW:!0,c:[{cN:"attribute",b:"[A-Za-z0-9\\._:-]+",r:0},{b:'="',rB:!0,e:'"',c:[{cN:"value",b:'"',eW:!0}]},{b:"='",rB:!0,e:"'",c:[{cN:"value",b:"'",eW:!0}]},{b:"=",c:[{cN:"value",b:"[^\\s/>]+"}]}]};return{cI:!0,dM:{c:[{cN:"pi",b:"<\\?",e:"\\?>",r:10},{cN:"doctype",b:"<!DOCTYPE",e:">",r:10,c:[{b:"\\[",e:"\\]"}]},{cN:"comment",b:"\x3c!--",e:"--\x3e",r:10},{cN:"cdata",b:"<\\!\\[CDATA\\[",e:"\\]\\]>",r:10},{cN:"tag",b:"<style(?=\\s|>|$)",e:">",
k:{title:"style"},c:[a],starts:{e:"</style>",rE:!0,sL:"css"}},{cN:"tag",b:"<script(?=\\s|>|$)",e:">",k:{title:"script"},c:[a],starts:{e:"\x3c/script>",rE:!0,sL:"javascript"}},{b:"<%",e:"%>",sL:"vbscript"},{cN:"tag",b:"</?",e:"/?>",c:[{cN:"title",b:"[^ />]+"},a]}]}}}(f);f.LANGUAGES.http={dM:{i:"\\S",c:[{cN:"status",b:"^HTTP/[0-9\\.]+",e:"$",c:[{cN:"number",b:"\\b\\d{3}\\b"}]},{cN:"request",b:"^[A-Z]+ (.*?) HTTP/[0-9\\.]+$",rB:!0,e:"$",c:[{cN:"string",b:" ",e:" ",eB:!0,eE:!0}]},{cN:"attribute",b:"^\\w",
e:": ",eE:!0,i:"\\n",starts:{cN:"string",e:"$"}},{b:"\\n\\n",starts:{sL:"",eW:!0}}]}};f.LANGUAGES.java={dM:{k:"false synchronized int abstract float private char boolean static null if const for true while long throw strictfp finally protected import native final return void enum else break transient new catch instanceof byte super volatile case assert short package default double public try this switch continue throws",c:[{cN:"javadoc",b:"/\\*\\*",e:"\\*/",c:[{cN:"javadoctag",b:"@[A-Za-z]+"}],r:10},
f.CLCM,f.CBLCLM,f.ASM,f.QSM,{cN:"class",bWK:!0,e:"{",k:"class interface",i:":",c:[{bWK:!0,k:"extends implements",r:10},{cN:"title",b:f.UIR}]},f.CNM,{cN:"annotation",b:"@[A-Za-z]+"}]}};f.LANGUAGES.php=function(a){var b={cN:"variable",b:"\\$+[a-zA-Z_\u007f-\u00ff][a-zA-Z0-9_\u007f-\u00ff]*"},c=[a.inherit(a.ASM,{i:null}),a.inherit(a.QSM,{i:null}),{cN:"string",b:'b"',e:'"',c:[a.BE]},{cN:"string",b:"b'",e:"'",c:[a.BE]}],d=[a.CNM,a.BNM],e={cN:"title",b:a.UIR};return{cI:!0,dM:{k:"and include_once list abstract global private echo interface as static endswitch array null if endwhile or const for endforeach self var while isset public protected exit foreach throw elseif include __FILE__ empty require_once do xor return implements parent clone use __CLASS__ __LINE__ else break print eval new catch __METHOD__ case exception php_user_filter default die require __FUNCTION__ enddeclare final try this switch continue endfor endif declare unset true false namespace trait goto instanceof insteadof __DIR__ __NAMESPACE__ __halt_compiler",
c:[a.CLCM,a.HCM,{cN:"comment",b:"/\\*",e:"\\*/",c:[{cN:"phpdoc",b:"\\s@[A-Za-z]+"}]},{cN:"comment",eB:!0,b:"__halt_compiler.+?;",eW:!0},{cN:"string",b:"<<<['\"]?\\w+['\"]?$",e:"^\\w+;",c:[a.BE]},{cN:"preprocessor",b:"<\\?php",r:10},{cN:"preprocessor",b:"\\?>"},b,{cN:"function",bWK:!0,e:"{",k:"function",i:"\\$|\\[|%",c:[e,{cN:"params",b:"\\(",e:"\\)",c:["self",b,a.CBLCLM].concat(c).concat(d)}]},{cN:"class",bWK:!0,e:"{",k:"class",i:"[:\\(\\$]",c:[{bWK:!0,eW:!0,k:"extends",c:[e]},e]},{b:"=>"}].concat(c).concat(d)}}}(f);
f.LANGUAGES.python=function(a){var b=[{cN:"string",b:"(u|b)?r?'''",e:"'''",r:10},{cN:"string",b:'(u|b)?r?"""',e:'"""',r:10},{cN:"string",b:"(u|r|ur)'",e:"'",c:[a.BE],r:10},{cN:"string",b:'(u|r|ur)"',e:'"',c:[a.BE],r:10},{cN:"string",b:"(b|br)'",e:"'",c:[a.BE]},{cN:"string",b:'(b|br)"',e:'"',c:[a.BE]}].concat([a.ASM,a.QSM]),c={cN:"title",b:a.UIR},d={cN:"params",b:"\\(",e:"\\)",c:["self",a.CNM].concat(b)},c={bWK:!0,e:":",i:"[${=;\\n]",c:[c,d],r:10};return{dM:{k:{keyword:"and elif is global as in if from raise for except finally print import pass return exec else break not with class assert yield try while continue del or def lambda nonlocal|10",
built_in:"None True False Ellipsis NotImplemented"},i:"(</|->|\\?)",c:b.concat([a.HCM,a.inherit(c,{cN:"function",k:"def"}),a.inherit(c,{cN:"class",k:"class"}),a.CNM,{cN:"decorator",b:"@",e:"$"},{b:"\\b(print|exec)\\("}])}}}(f);f.LANGUAGES.sql={cI:!0,dM:{i:"[^\\s]",c:[{cN:"operator",b:"(begin|start|commit|rollback|savepoint|lock|alter|create|drop|rename|call|delete|do|handler|insert|load|replace|select|truncate|update|set|show|pragma|grant)\\b",e:";",eW:!0,k:{keyword:"all partial global month current_timestamp using go revoke smallint indicator end-exec disconnect zone with character assertion to add current_user usage input local alter match collate real then rollback get read timestamp session_user not integer bit unique day minute desc insert execute like ilike|2 level decimal drop continue isolation found where constraints domain right national some module transaction relative second connect escape close system_user for deferred section cast current sqlstate allocate intersect deallocate numeric public preserve full goto initially asc no key output collation group by union session both last language constraint column of space foreign deferrable prior connection unknown action commit view or first into float year primary cascaded except restrict set references names table outer open select size are rows from prepare distinct leading create only next inner authorization schema corresponding option declare precision immediate else timezone_minute external varying translation true case exception join hour default double scroll value cursor descriptor values dec fetch procedure delete and false int is describe char as at in varchar null trailing any absolute current_time end grant privileges when cross check write current_date pad begin temporary exec time update catalog user sql date on identity timezone_hour natural whenever interval work order cascade diagnostics nchar having left call do handler load replace truncate start lock show pragma",
aggregate:"count sum min max avg"},c:[{cN:"string",b:"'",e:"'",c:[f.BE,{b:"''"}],r:0},{cN:"string",b:'"',e:'"',c:[f.BE,{b:'""'}],r:0},{cN:"string",b:"`",e:"`",c:[f.BE]},f.CNM]},f.CBLCLM,{cN:"comment",b:"--",e:"$"}]}};f.LANGUAGES.ini={cI:!0,dM:{i:"[^\\s]",c:[{cN:"comment",b:";",e:"$"},{cN:"title",b:"^\\[",e:"\\]"},{cN:"setting",b:"^[a-z0-9_\\[\\]]+[ \\t]*=[ \\t]*",e:"$",c:[{cN:"value",eW:!0,k:"on off true false yes no",c:[f.QSM,f.NM]}]}]}};f.LANGUAGES.perl=function(a){var b={cN:"subst",b:"[$@]\\{",
e:"\\}",k:"getpwent getservent quotemeta msgrcv scalar kill dbmclose undef lc ma syswrite tr send umask sysopen shmwrite vec qx utime local oct semctl localtime readpipe do return format read sprintf dbmopen pop getpgrp not getpwnam rewinddir qqfileno qw endprotoent wait sethostent bless s|0 opendir continue each sleep endgrent shutdown dump chomp connect getsockname die socketpair close flock exists index shmgetsub for endpwent redo lstat msgctl setpgrp abs exit select print ref gethostbyaddr unshift fcntl syscall goto getnetbyaddr join gmtime symlink semget splice x|0 getpeername recv log setsockopt cos last reverse gethostbyname getgrnam study formline endhostent times chop length gethostent getnetent pack getprotoent getservbyname rand mkdir pos chmod y|0 substr endnetent printf next open msgsnd readdir use unlink getsockopt getpriority rindex wantarray hex system getservbyport endservent int chr untie rmdir prototype tell listen fork shmread ucfirst setprotoent else sysseek link getgrgid shmctl waitpid unpack getnetbyname reset chdir grep split require caller lcfirst until warn while values shift telldir getpwuid my getprotobynumber delete and sort uc defined srand accept package seekdir getprotobyname semop our rename seek if q|0 chroot sysread setpwent no crypt getc chown sqrt write setnetent setpriority foreach tie sin msgget map stat getlogin unless elsif truncate exec keys glob tied closedirioctl socket readlink eval xor readline binmode setservent eof ord bind alarm pipe atan2 getgrent exp time push setgrent gt lt or ne m|0",
r:10},c={cN:"variable",b:"\\$\\d"},d={cN:"variable",b:"[\\$\\%\\@\\*](\\^\\w\\b|#\\w+(\\:\\:\\w+)*|[^\\s\\w{]|{\\w+}|\\w+(\\:\\:\\w*)*)"},e=[a.BE,b,c,d],f={b:"->",c:[{b:a.IR},{b:"{",e:"}"}]},k={cN:"comment",b:"^(__END__|__DATA__)",e:"\\n$",r:5};a=[c,d,a.HCM,k,{cN:"comment",b:"^\\=\\w",e:"\\=cut",eW:!0},f,{cN:"string",b:"q[qwxr]?\\s*\\(",e:"\\)",c:e,r:5},{cN:"string",b:"q[qwxr]?\\s*\\[",e:"\\]",c:e,r:5},{cN:"string",b:"q[qwxr]?\\s*\\{",e:"\\}",c:e,r:5},{cN:"string",b:"q[qwxr]?\\s*\\|",e:"\\|",c:e,
r:5},{cN:"string",b:"q[qwxr]?\\s*\\<",e:"\\>",c:e,r:5},{cN:"string",b:"qw\\s+q",e:"q",c:e,r:5},{cN:"string",b:"'",e:"'",c:[a.BE],r:0},{cN:"string",b:'"',e:'"',c:e,r:0},{cN:"string",b:"`",e:"`",c:[a.BE]},{cN:"string",b:"{\\w+}",r:0},{cN:"string",b:"-?\\w+\\s*\\=\\>",r:0},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",r:0},{b:"("+a.RSR+"|\\b(split|return|print|reverse|grep)\\b)\\s*",k:"split return print reverse grep",r:0,c:[a.HCM,k,{cN:"regexp",b:"(s|tr|y)/(\\\\.|[^/])*/(\\\\.|[^/])*/[a-z]*",
r:10},{cN:"regexp",b:"(m|qr)?/",e:"/[a-z]*",c:[a.BE],r:0}]},{cN:"sub",bWK:!0,e:"(\\s*\\(.*?\\))?[;{]",k:"sub",r:5},{cN:"operator",b:"-\\w\\b",r:0}];b.c=a;f.c[1].c=a;return{dM:{k:"getpwent getservent quotemeta msgrcv scalar kill dbmclose undef lc ma syswrite tr send umask sysopen shmwrite vec qx utime local oct semctl localtime readpipe do return format read sprintf dbmopen pop getpgrp not getpwnam rewinddir qqfileno qw endprotoent wait sethostent bless s|0 opendir continue each sleep endgrent shutdown dump chomp connect getsockname die socketpair close flock exists index shmgetsub for endpwent redo lstat msgctl setpgrp abs exit select print ref gethostbyaddr unshift fcntl syscall goto getnetbyaddr join gmtime symlink semget splice x|0 getpeername recv log setsockopt cos last reverse gethostbyname getgrnam study formline endhostent times chop length gethostent getnetent pack getprotoent getservbyname rand mkdir pos chmod y|0 substr endnetent printf next open msgsnd readdir use unlink getsockopt getpriority rindex wantarray hex system getservbyport endservent int chr untie rmdir prototype tell listen fork shmread ucfirst setprotoent else sysseek link getgrgid shmctl waitpid unpack getnetbyname reset chdir grep split require caller lcfirst until warn while values shift telldir getpwuid my getprotobynumber delete and sort uc defined srand accept package seekdir getprotobyname semop our rename seek if q|0 chroot sysread setpwent no crypt getc chown sqrt write setnetent setpriority foreach tie sin msgget map stat getlogin unless elsif truncate exec keys glob tied closedirioctl socket readlink eval xor readline binmode setservent eof ord bind alarm pipe atan2 getgrent exp time push setgrent gt lt or ne m|0",
c:a}}}(f);f.LANGUAGES.json=function(a){var b={literal:"true false null"},c=[a.QSM,a.CNM],d={cN:"value",e:",",eW:!0,eE:!0,c:c,k:b},e={b:"{",e:"}",c:[{cN:"attribute",b:'\\s*"',e:'"\\s*:\\s*',eB:!0,eE:!0,c:[a.BE],i:"\\n",starts:d}],i:"\\S"};a={b:"\\[",e:"\\]",c:[a.inherit(d,{cN:null})],i:"\\S"};c.splice(c.length,0,e,a);return{dM:{c:c,k:b,i:"\\S"}}}(f);f.LANGUAGES.cpp=function(a){var b={keyword:"false int float while private char catch export virtual operator sizeof dynamic_cast|10 typedef const_cast|10 const struct for static_cast|10 union namespace unsigned long throw volatile static protected bool template mutable if public friend do return goto auto void enum else break new extern using true class asm case typeid short reinterpret_cast|10 default double register explicit signed typename try this switch continue wchar_t inline delete alignof char16_t char32_t constexpr decltype noexcept nullptr static_assert thread_local restrict _Bool complex",
built_in:"std string cin cout cerr clog stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap array shared_ptr"};return{dM:{k:b,i:"</",c:[a.CLCM,a.CBLCLM,a.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},a.CNM,{cN:"preprocessor",b:"#",e:"$"},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",
e:">",k:b,r:10,c:["self"]}]}}}(f);window.hljs=f;this.resolve()});Komento.module("admin.language",function(d){var f=this;Komento.require().language("COM_KOMENTO_CONFIRM_DELETE_AFFECT_ALL_CHILD","COM_KOMENTO_CONFIRM_DELETE","COM_KOMENTO_DELETE_COMMENT","COM_KOMENTO_DELETE_ALL_CHILD","COM_KOMENTO_DELETE_MOVE_CHILD_UP","COM_KOMENTO_DELETING","COM_KOMENTO_CONFIRM_PUBLISH_AFFECT_ALL_CHILD","COM_KOMENTO_PUBLISH_ALL_CHILD","COM_KOMENTO_PUBLISH_SINGLE","COM_KOMENTO_CHILD_UNPUBLISHED","COM_KOMENTO_PARENT_PUBLISHED",
"COM_KOMENTO_MIGRATORS_LOG_COMPLETE","COM_KOMENTO_MIGRATORS_PROGRESS_DONE","COM_KOMENTO_YES_OPTION","COM_KOMENTO_NO_OPTION","COM_KOMENTO_ACL_RECOMMENDED","COM_KOMENTO_PUBLISH_ITEM","COM_KOMENTO_UNPUBLISH_ITEM").done(function(){f.resolve()})});Komento.module("admin.database",function(d){var f=this;Komento.require().language("COM_KOMENTO_SETTINGS_DATABASE_POPULATE_DEPTH_STATUS_UPDATING","COM_KOMENTO_SETTINGS_DATABASE_POPULATE_DEPTH_STATUS_COMPLETED","COM_KOMENTO_SETTINGS_DATABASE_POPULATE_DEPTH_STATUS_ERROR",
"COM_KOMENTO_SETTINGS_DATABASE_FIX_STRUCTURE_STATUS_UPDATING_STAGE1","COM_KOMENTO_SETTINGS_DATABASE_FIX_STRUCTURE_STATUS_UPDATING_STAGE2","COM_KOMENTO_SETTINGS_DATABASE_FIX_STRUCTURE_STATUS_ERROR","COM_KOMENTO_SETTINGS_DATABASE_FIX_STRUCTURE_STATUS_COMPLETED").done(function(a){Komento.Controller("Database.DepthMaintenance",{defaultOptions:{"{start}":".start","{status}":".status","{total}":".total","{count}":".count","{statusWrapper}":".statusWrapper","{totalWrapper}":".totalWrapper","{countWrapper}":".countWrapper"}},
function(b){return{init:function(){},"{start} click":function(c){c.enabled()&&(b.counter=0,c.disabled(!0),b.statusWrapper().show(),b.totalWrapper().show(),b.countWrapper().show(),b.status().html('<img src="'+Komento.options.spinner+'" />'+a.language("COM_KOMENTO_SETTINGS_DATABASE_POPULATE_DEPTH_STATUS_UPDATING")),b.totalArticle(0),b.countArticle(0),Komento.ajax("admin.views.system.getArticleStatistics").done(function(a){b.totalArticle(a.length);b.articles=a;b.populateDepth()}).fail(function(){b.status().html(a.language("COM_KOMENTO_SETTINGS_DATABASE_POPULATE_DEPTH_STATUS_ERROR"))}))},
populateDepth:function(){var c=b.articles[b.counter];void 0===c?b.populateComplete():Komento.ajax("admin.views.system.populateDepth",{component:c.component,cid:c.cid}).done(function(a){b.counter++;b.countArticle(parseInt(b.countArticle())+1);b.populateDepth()}).fail(function(){b.status().html(a.language("COM_KOMENTO_SETTINGS_DATABASE_POPULATE_DEPTH_STATUS_ERROR"))})},totalArticle:function(a){return void 0===a?b.total().html():b.total().html(a)},countArticle:function(a){return void 0===a?b.count().html():
b.count().html(a)},populateComplete:function(){b.status().html(a.language("COM_KOMENTO_SETTINGS_DATABASE_POPULATE_DEPTH_STATUS_COMPLETED"));b.start().enabled(!0)}}});Komento.Controller("Database.FixStructure",{defaultOptions:{"{component}":".componentSelection","{article}":".articleSelection","{start}":".start","{status}":".status","{total}":".total","{count}":".count","{statusWrapper}":".statusWrapper","{totalWrapper}":".totalWrapper","{countWrapper}":".countWrapper"}},function(b){return{init:function(){},
"{component} change":function(c){c=c.val();b.article().html(b.createOption("all","*"));"all"!==c&&Komento.ajax("admin.views.system.getArticles",{component:c}).done(function(c){a.each(c,function(a,c){b.article().append(b.createOption(c,c))})})},createOption:function(b,d){var e=a("<option></option>");e.attr("value",b);e.text(d);return e},"{start} click":function(c){if(c.enabled()){b.counter=0;c.disabled(!0);b.statusWrapper().show();b.totalWrapper().show();b.countWrapper().show();b.status().html('<img src="'+
Komento.options.spinner+'" />'+a.language("COM_KOMENTO_SETTINGS_DATABASE_FIX_STRUCTURE_STATUS_UPDATING_STAGE1"));b.totalArticle(0);b.countArticle(0);c=b.component().val();var d=b.article().val();Komento.ajax("admin.views.system.getArticleStatistics",{component:c,cid:d}).done(function(a){b.totalArticle(a.length);b.articles=a;b.normalizeStructure()}).fail(function(){b.status().html(a.language("COM_KOMENTO_SETTINGS_DATABASE_FIX_STRUCTURE_STATUS_ERROR"))})}},normalizeStructure:function(){var c=b.articles[b.counter];
void 0===c?(b.status().html('<img src="'+Komento.options.spinner+'" />'+a.language("COM_KOMENTO_SETTINGS_DATABASE_FIX_STRUCTURE_STATUS_UPDATING_STAGE2")),b.countArticle(0),b.counter=0,b.fixStructure()):Komento.ajax("admin.views.system.normalizeStructure",{component:c.component,cid:c.cid}).done(function(a){b.counter++;b.countArticle(parseInt(b.countArticle())+1);b.normalizeStructure()})},fixStructure:function(){var c=b.articles[b.counter];void 0===c?b.fixComplete():Komento.ajax("admin.views.system.fixStructure",
{component:c.component,cid:c.cid}).done(function(a){b.counter++;b.countArticle(parseInt(b.countArticle())+1);b.fixStructure()}).fail(function(){b.status().html(a.language("COM_KOMENTO_SETTINGS_DATABASE_FIX_STRUCTURE_STATUS_ERROR"))})},totalArticle:function(a){return void 0===a?b.total().html():b.total().html(a)},countArticle:function(a){return void 0===a?b.count().html():b.count().html(a)},fixComplete:function(){b.status().html(a.language("COM_KOMENTO_SETTINGS_DATABASE_FIX_STRUCTURE_STATUS_COMPLETED"));
b.start().enabled(!0)}}});f.resolve()})});Komento.module("admin.integrations.customsmileys",function(d){Komento.Controller("CustomSmileys",{defaultOptions:{"{smiley}":"[data-smiley]","{addRow}":"[data-smiley-add-row]","{add}":"[data-smiley-add-button]","{delete}":"[data-smiley-delete-button]"}},function(d){return{init:function(){},"{add} click":function(){var a=d.smiley().eq(0).clone();a.find("input").val("");d.addRow().before(a)},"{delete} click":function(a){a=a.parent("[data-smiley]");1<d.smiley().length?
a.remove():a.find("input").val("")}}});this.resolve()});Komento.module("admin.report.actions",function(d){var f=this;Komento.require().library("dialog").stylesheet("dialog/default").script("komento.common","admin.language").done(function(){var a,b;"1.5"==Komento.options.jversion?(a="images/tick.png",b="images/publish_x.png"):(a="templates/bluestork/images/admin/tick.png",b="templates/bluestork/images/admin/publish_x.png");Komento.actions={submit:function(a,b){0!=d(".foundryDialog").length&&d(".foundryDialog").controller().close();
Komento.actions.affectchild=b;var e=[],f=[];d('input[type="checkbox"]:checked').each(function(b,g){if(""!=g.value){e.push(g.value);f.push(d("#kmt-"+g.value));var k;k="unstick"==a||"stick"==a?"sticked":"published";d("#kmt-"+g.value).find("."+k+"-cell a img").attr("src",Komento.options.spinner)}});Komento.ajax("admin.views.comments."+a,{ids:e,affectchild:b},{success:function(){var b=[],e=[];d.each(f,function(d,f){Komento.actions[a](f);0<f.attr("childs")&&b.push(1);0!=f.attr("parentid")&&e.push(1)});
if("publish"==a&&0<e.length||"publish"!=a&&0<b.length)Komento.actions[a+"Dialog"]()},fail:function(){}})},publish:function(b){var f=b.find(".published-cell a").attr("onclick").replace("unpublish","publish").replace("publish","unpublish");b.find(".published-cell a").attr("onclick",f).attr("title",d.language("COM_KOMENTO_UNPUBLISH_ITEM"));"3.0">Komento.options.jversion?b.find(".published-cell a img").attr("src",a):b.find(".published-cell i").removeClass("icon-unpublish").addClass("icon-publish");Komento.actions.publishParent(b);
Komento.actions.publishChild(b)},publishParent:function(b){if(b.exists()){var f=b.find(".published-cell a").attr("onclick").replace("unpublish","publish").replace("publish","unpublish");b.find(".published-cell a").attr("onclick",f).attr("title",d.language("COM_KOMENTO_UNPUBLISH_ITEM"));"3.0">Komento.options.jversion?b.find(".published-cell a img").attr("src",a):b.find(".published-cell i").removeClass("icon-unpublish").addClass("icon-publish");0!=b.attr("parentid")&&Komento.actions.publishParent(d("#kmt-"+
b.attr("parentid")))}},publishChild:function(b){if(b.exists()){var f=b.find(".published-cell a").attr("onclick").replace("unpublish","publish").replace("publish","unpublish");b.find(".published-cell a").attr("onclick",f).attr("title",d.language("COM_KOMENTO_UNPUBLISH_ITEM"));"3.0">Komento.options.jversion?b.find(".published-cell a img").attr("src",a):b.find(".published-cell i").removeClass("icon-unpublish").addClass("icon-publish");1==Komento.actions.affectchild&0<b.attr("childs")&&(b=b.attr("id").split("-")[1],
Komento.actions.publishChild(d('.kmt-row[parentid="'+b+'"]')))}},publishDialog:function(){d.dialog("<p>"+d.language("COM_KOMENTO_PARENT_PUBLISHED")+"</p>")},publishParentDialog:function(){d.dialog("<p>"+d.language("COM_KOMENTO_PARENT_PUBLISHED")+"</p>")},unpublish:function(a){if(a.exists()){var f=a.find(".published-cell a").attr("onclick").replace("unpublish","publish");a.find(".published-cell a").attr("onclick",f).attr("title",d.language("COM_KOMENTO_PUBLISH_ITEM"));"3.0">Komento.options.jversion?
a.find(".published-cell a img").attr("src",b):a.find(".published-cell i").removeClass("icon-publish").addClass("icon-unpublish");0<a.attr("childs")&&(a=a.attr("id").split("-")[1],Komento.actions.unpublish(d('.kmt-row[parentid="'+a+'"]')))}},unpublishDialog:function(){d.dialog("<p>"+d.language("COM_KOMENTO_CHILD_UNPUBLISHED")+"</p>")}};Komento.prepare={checkChild:function(){var a=[];d('input[type="checkbox"]:checked').each(function(b,e){""!=e.value&&0<d("#kmt-"+e.value).attr("childs")&&a.push(1)});
return 0<a.length?!0:!1},remove:function(){var a,b;Komento.prepare.checkChild()?(a=d.language("COM_KOMENTO_CONFIRM_DELETE_AFFECT_ALL_CHILD"),b='<button onclick="Komento.prepare.removeall()">'+d.language("COM_KOMENTO_DELETE_ALL_CHILD")+"</button>",b+='<button onclick="Komento.prepare.removesingle()">'+d.language("COM_KOMENTO_DELETE_MOVE_CHILD_UP")+"</button>"):(a=d.language("COM_KOMENTO_CONFIRM_DELETE"),b='<button onclick="Komento.prepare.removeall()">'+d.language("COM_KOMENTO_DELETE_COMMENT")+"</button>");
d.dialog('<div style="text-align: center;"><p>'+a+"</p>"+b+"</div>")},removeall:function(){prepareSubmit("remove",1)},removesingle:function(){prepareSubmit("remove",0)},publish:function(){if(Komento.prepare.checkChild()){var a=d.language("COM_KOMENTO_CONFIRM_PUBLISH_AFFECT_ALL_CHILD"),b='<button onclick="Komento.prepare.publishall()">'+d.language("COM_KOMENTO_PUBLISH_ALL_CHILD")+"</button>",b=b+('<button onclick="Komento.prepare.publishsingle()">'+d.language("COM_KOMENTO_PUBLISH_SINGLE")+"</button>");
d.dialog('<div style="text-align: center;"><p>'+a+"</p>"+b+"</div>")}else Komento.actions.submit("publish",1)},publishall:function(){Komento.actions.submit("publish",1)},publishsingle:function(){Komento.actions.submit("publish",0)},unpublish:function(){Komento.actions.submit("unpublish",1)},clear:function(){submitform("clear")}};window.submitbutton=function(a){Komento.prepare[a]()};window.prepareSubmit=function(a,b){0!=d(".foundryDialog").length&&d(".foundryDialog").controller().close();document.adminForm.affectchild.value=
b;submitform(a)};window.listItemTask=function(a,b){var d=document.adminForm,f=d[a];if(f){for(var k=0;;k++){var r=d["cb"+k];if(!r)break;r.checked=!1}f.checked=!0;d.boxchecked.value=1;submitbutton(b)}return!1};f.resolve()})});Komento.module("dashboard.comment.item",function(d){Komento.require().library("dialog").view("dialogs/delete.affectchild","comment/edit.form").done(function(){Komento.Controller("Dashboard.CommentItem",{defaults:{commentId:0,view:{editForm:"comment/edit.form",affectChild:"dialogs/delete.affectchild"}}},
function(f){return{init:function(){},unpublishComment:function(){var a=f.options.commentId.split("-")[1];Komento.ajax("site.views.komento.unpublish",{id:a},{success:function(){f.closeDialog();f.unpublishChild(f.element.attr("id"));f.statusButton().text(d.language("COM_KOMENTO_UNPUBLISHED"));f.publishButton().show();f.unpublishButton().hide();f.statusOptions().hide()},fail:function(){}})},unpublishChild:function(a){var b=d.language("COM_KOMENTO_UNPUBLISHED");d('li[parentid="'+a+'"]').each(function(){d(this).find(".kmt-status").text(b);
d(this).find(".kmt-unpublish").hide();d(this).find(".kmt-publish").show();f.unpublishChild(d(this).attr("id"))})}}})})});Komento.module("dashboard.flag.item",function(d){var f=this;Komento.require().library("ui/effect","dialog").stylesheet("dialog/default").language("COM_KOMENTO_UNPUBLISHED").view("dialogs/delete.affectchild","dialogs/unpublish.affectchild","comment/edit.form").done(function(){Komento.Controller("Dashboard.FlagItem",{defaults:{commentId:0,permalink:0,"{commentText}":".kmt-text","{commentInfo}":".kmt-info",
"{commentStatus}":".kmt-status","{noflagButton}":".kmt-noflag","{spamButton}":".kmt-spam","{offensiveButton}":".kmt-offensive","{offtopicButton}":".kmt-offtopic","{publishButton}":".kmt-publish","{unpublishButton}":".kmt-unpublish","{deleteButton}":".kmt-delete",view:{editForm:"comment/edit.form",deleteDialog:"dialogs/delete.affectchild",unpublishDialog:"dialogs/unpublish.affectchild"}}},function(a){return{init:function(){},closeDialog:function(){d(".foundryDialog").controller().close()},"{noflagButton} click":function(){a.markComment("0")},
"{spamButton} click":function(){a.markComment("1")},"{offensiveButton} click":function(){a.markComment("2")},"{offtopicButton} click":function(){a.markComment("3")},"{publishButton} click":function(){a.publishComment()},"{unpublishButton} click":function(){a.showUnpublishDialog()},"{deleteButton} click":function(){a.showDeleteDialog()},markComment:function(b){var c=a.options.commentId.split("-")[1];Komento.ajax("site.views.komento.mark",{id:c,type:b},{success:function(){a.element.hide("fade",function(){a.element.remove()})},
fail:function(){}})},showPublishDialog:function(){},publishComment:function(){var b=a.options.commentId.split("-")[1];Komento.ajax("site.views.komento.publish",{id:b,affectChild:0},{success:function(){a.element.hide("fade",function(){a.element.remove()})},fail:function(){}})},showUnpublishDialog:function(){d.dialog({content:a.view.unpublishDialog(!0),afterShow:function(){d(".foundryDialog").find(".unpublish-affectChild").click(function(){a.unpublishComment()})}})},unpublishComment:function(){var b=
a.options.commentId.split("-")[1];Komento.ajax("site.views.komento.unpublish",{id:b},{success:function(){a.closeDialog();a.unpublishChild(a.element.attr("id"));a.commentStatus().text(d.language("COM_KOMENTO_UNPUBLISHED"));a.unpublishButton().parent().hide("drop")},fail:function(){}})},unpublishChild:function(b){d('tr[parentid="'+b+'"]').each(function(){d(this).find(".kmt-unpublish").parent().hide("drop");d(this).find(".kmt-status").text(d.language("COM_KOMENTO_UNPUBLISHED"));a.unpublishChild(d(this).attr("id"))})},
showDeleteDialog:function(){d.dialog({content:a.view.deleteDialog(!0),afterShow:function(){d(".foundryDialog").find(".delete-affectChild").click(function(){a.deleteComment(1)});d(".foundryDialog").find(".delete-moveChild").click(function(){a.deleteComment(0)})}})},deleteComment:function(b){var c=a.options.commentId.split("-")[1];Komento.ajax("site.views.komento.deletecomment",{id:c,affectChild:b},{success:function(){a.closeDialog();b&&a.deleteChild(a.element.attr("id"));a.element.hide("fade",function(){a.element.remove()})},
fail:function(){}})},deleteChild:function(b){d('tr[parentid="'+b+'"]').each(function(){a.deleteChild(d(this).attr("id"))}).hide("fade",function(){d(this).remove()})}}});f.resolve()})});Komento.module("komento.admincomments",function(d){var f=this;Komento.require().library("dialog").done(function(){Komento.Controller("AdminComments",{defaults:{}},function(a){return{init:function(){}}});f.resolve()})});Komento.module("komento.bbcode",function(d){d.getBBcodeSettings=function(){var f={previewParserVar:"data",
markupSet:[]};1==Komento.options.config.bbcode_bold&&f.markupSet.push({name:d.language("COM_KOMENTO_BBCODE_BOLD"),key:"B",openWith:"[b]",closeWith:"[/b]",className:"kmt-markitup-bold"});1==Komento.options.config.bbcode_italic&&f.markupSet.push({name:d.language("COM_KOMENTO_BBCODE_ITALIC"),key:"I",openWith:"[i]",closeWith:"[/i]",className:"kmt-markitup-italic"});1==Komento.options.config.bbcode_underline&&f.markupSet.push({name:d.language("COM_KOMENTO_BBCODE_UNDERLINE"),key:"U",openWith:"[u]",closeWith:"[/u]",
className:"kmt-markitup-underline"});1!=Komento.options.config.bbcode_bold&&1!=Komento.options.config.bbcode_italic&&1!=Komento.options.config.bbcode_underline||f.markupSet.push({separator:"---------------"});1==Komento.options.config.bbcode_link&&f.markupSet.push({name:d.language("COM_KOMENTO_BBCODE_LINK"),key:"L",openWith:'[url="[![Link:!:http://]!]"(!( title="[![Title]!]")!)]',closeWith:"[/url]",placeHolder:d.language("COM_KOMENTO_BBCODE_LINK_TEXT"),className:"kmt-markitup-link"});1==Komento.options.config.bbcode_picture&&
f.markupSet.push({name:d.language("COM_KOMENTO_BBCODE_PICTURE"),key:"P",replaceWith:"[img][![Url]!][/img]",className:"kmt-markitup-picture"});1==Komento.options.config.bbcode_video&&f.markupSet.push({name:d.language("COM_KOMENTO_BBCODE_VIDEO"),key:"V",replaceWith:function(a){Komento.ajax("site.views.komento.showVideoDialog",{caretPosition:a.caretPosition,element:d(a.textarea).attr("id")},{success:function(a){Komento.require().library("dialog").stylesheet("dialog/default").done(function(){d.dialog({content:a,
title:d.language("COM_KOMENTO_INSERT_VIDEO"),width:400,afterShow:function(){d(".foundryDialog").find(".videoUrl").focus()}})})}})},className:"kmt-markitup-video"});1!=Komento.options.config.bbcode_link&&1!=Komento.options.config.bbcode_picture||f.markupSet.push({separator:"---------------"});1==Komento.options.config.bbcode_bulletlist&&f.markupSet.push({name:d.language("COM_KOMENTO_BBCODE_BULLETLIST"),openWith:"[list]\n",closeWith:"\n[/list]",className:"kmt-markitup-bullet"});1==Komento.options.config.bbcode_numericlist&&
f.markupSet.push({name:d.language("COM_KOMENTO_BBCODE_NUMERICLIST"),openWith:"[list=[![Starting number]!]]\n",closeWith:"\n[/list]",className:"kmt-markitup-numeric"});1==Komento.options.config.bbcode_bullet&&f.markupSet.push({name:d.language("COM_KOMENTO_BBCODE_BULLET"),openWith:"[*]",closeWith:"[/*]",className:"kmt-markitup-list"});1!=Komento.options.config.bbcode_bulletlist&&1!=Komento.options.config.bbcode_numericlist&&1!=Komento.options.config.bbcode_bullet||f.markupSet.push({separator:"---------------"});
1==Komento.options.config.bbcode_quote&&f.markupSet.push({name:d.language("COM_KOMENTO_BBCODE_QUOTE"),openWith:"[quote]",closeWith:"[/quote]",className:"kmt-markitup-quote"});1==Komento.options.config.bbcode_code&&f.markupSet.push({name:d.language("COM_KOMENTO_BBCODE_CODE"),openWith:'[code type="xml"]',closeWith:"[/code]",className:"kmt-markitup-code"});1==Komento.options.config.bbcode_clean&&f.markupSet.push({name:d.language("COM_KOMENTO_BBCODE_CLEAN"),className:"clean",replaceWith:function(a){return a.selection.replace(/\[(.*?)\]/g,
"")},className:"kmt-markitup-clean"});(1==Komento.options.config.bbcode_quote||Komento.options.config.bbcode_code||1==Komento.options.config.bbcode_clean)&&f.markupSet.push({separator:"---------------"});1==Komento.options.config.bbcode_smile&&f.markupSet.push({name:d.language("COM_KOMENTO_BBCODE_SMILE"),openWith:":)",className:"kmt-markitup-smile"});1==Komento.options.config.bbcode_happy&&f.markupSet.push({name:d.language("COM_KOMENTO_BBCODE_HAPPY"),openWith:":D",className:"kmt-markitup-happy"});
1==Komento.options.config.bbcode_surprised&&f.markupSet.push({name:d.language("COM_KOMENTO_BBCODE_SURPRISED"),openWith:":o",className:"kmt-markitup-surprised"});1==Komento.options.config.bbcode_tongue&&f.markupSet.push({name:d.language("COM_KOMENTO_BBCODE_TONGUE"),openWith:":p",className:"kmt-markitup-tongue"});1==Komento.options.config.bbcode_unhappy&&f.markupSet.push({name:d.language("COM_KOMENTO_BBCODE_UNHAPPY"),openWith:":(",className:"kmt-markitup-unhappy"});1==Komento.options.config.bbcode_wink&&
f.markupSet.push({name:d.language("COM_KOMENTO_BBCODE_WINK"),openWith:";)",className:"kmt-markitup-wink"});d.isArray(Komento.options.config.smileycode)&&d.each(Komento.options.config.smileycode,function(a,b){f.markupSet.push({name:b,openWith:b,className:"kmt-markitup-custom-"+a})});return f};this.resolve()});Komento.module("komento.commentform",function(d){var f=this,a=Komento.require(),b=[];b.push("komento.common");b.push("komento.upload");1==Komento.options.config.enable_bbcode&&b.push("komento.bbcode");
1==Komento.options.config.show_location&&b.push("location");a.script.apply(a,b).image(Komento.options.spinner).library("dialog","markitup").stylesheet("dialog/default").done(function(){Komento.Controller("CommentForm",{defaults:{"{addCommentButton}":".addCommentButton","{formArea}":".formArea","{commentInput}":"#commentInput","{markItUpButtons}":".markItUpButton a","{submitButton}":".submitButton","{parentId}":'input[name="parent"]',"{formAuthor}":".formAuthor","{usernameInput}":"#register-username",
"{nameInput}":"#register-name","{emailInput}":"#register-email","{websiteInput}":"#register-website","{registerCheckbox}":"#register-checkbox","{tncCheckbox}":".tncCheckbox","{tncRead}":".tncRead","{subscribeForm}":".subscribeForm","{subscribeCheckbox}":".subscribeCheckbox","{unsubscribeButton}":".unsubscribeButton","{locationForm}":".locationForm","{formAlert}":".formAlert","{recaptchaChallenge}":"#recaptcha_challenge_field","{recaptchaResponse}":"#recaptcha_response_field","{captchaImage}":"#captcha-image",
"{captchaResponse}":"#captcha-response","{recaptchaResponse}":"#recaptcha_response_field","{captchaId}":"#captcha-id","{captchaReload}":".kmt-captcha-reload","{locationInput}":".locationInput","{locationLatitude}":".locationLatitude","{locationLongitude}":".locationLongitude","{parentLink}":".parentLink","{parentContainer}":".parentContainer","{cancelStaticReplyButton}":".cancelStaticReply","{commentLength}":".commentLength","{commentLengthCount}":".commentLengthCount","{uploaderWrap}":".uploaderWrap",
"{pageItemId}":".pageItemId"}},function(a){return{init:function(){a.parentid=0;a.commentInput().val("");1==Komento.options.config.enable_bbcode&&(a.commentInput().markItUp(d.getBBcodeSettings()),d.isArray(Komento.options.config.smileycode)&&d.each(Komento.options.config.smileycode,function(a,b){d.cssRule(".kmt-markitup-custom-"+a+" a",{"background-image":"url('"+Komento.options.config.smileypath[a]+"') !important"})}));1==Komento.options.config.show_location&&a.locationForm().exists()&&a.locationForm().implement("Komento.Controller.Location.Form.Simple");
1==Komento.options.config.upload_enable&&1==Komento.options.acl.upload_attachment&&a.uploaderWrap().exists()&&(Komento.options.element.commentupload=d(".uploaderWrap").addController("Komento.Controller.UploadForm"),Komento.options.element.commentupload.kmt=Komento.options.element)},"{commentInput} textChange":function(b){a.commentLengthCheck();a.experimentalValidateComment()},"{commentInput} keyup":function(b){a.commentLengthCheck()},"{nameInput} keyup":function(){a.experimentalValidateComment()},
"{emailInput} keyup":function(){a.experimentalValidateComment()},"{websiteInput} keyup":function(){a.experimentalValidateComment()},"{commentInput} keyup":function(){a.experimentalValidateComment()},"{subscribeCheckbox} click":function(){a.experimentalValidateComment()},"{tncCheckbox} click":function(){a.experimentalValidateComment()},"{tncRead} click":function(){var a="<p>"+Komento.options.config.tnc_text.replace(/\n/g,"<br />")+"</p>";d.dialog({title:d.language("COM_KOMENTO_FORM_TNC"),customClass:"kmt-dialog",
width:500,showOverlay:!1,content:a})},"{submitButton} click":function(b){b.checkClick()&&b.html('<img src="'+Komento.options.spinner+'" />');a.validateComment()},"{unsubscribeButton} click":function(b){b.checkClick()&&(b.html('<img src="'+Komento.options.spinner+'" />'),a.unsubscribe())},"{captchaReload} click":function(){a.reloadCaptcha()},"{parentLink} mouseover":function(){a.parentContainer().show()},"{parentLink} mouseout":function(){a.parentContainer().hide()},"{cancelStaticReplyButton} click":function(){a.cancelStaticReply()},
"{addCommentButton} click":function(){a.loadForm()},loadForm:function(){1==Komento.options.config.form_toggle_button&&(a.addCommentButton().hide(),a.formArea().show(),1==Komento.options.config.enable_upload&&a.kmt.commentupload&&a.kmt.commentupload.plupload.refresh())},hideForm:function(){1==Komento.options.config.form_toggle_button&&(a.addCommentButton().show(),a.formArea().hide())},commentLengthCheck:function(){1==Komento.options.config.antispam_max_length_enable&&a.commentInput().val().length>
Komento.options.config.antispam_max_length&&a.commentInput().val(a.commentInput().val().slice(0,Komento.options.config.antispam_max_length));a.commentLengthCount().text(a.commentInput().val().length)},validateComment:function(){a.clearNotification();if(0==Komento.options.konfig.enable_js_form_validation)a.kmt.commentupload?a.kmt.commentupload.startUpload():a.postComment();else{var b=d.trim(a.nameInput().val()),e=d.trim(a.emailInput().val()),f=d.trim(a.websiteInput().val()),k=d.trim(a.commentInput().val()),
r=d.trim(a.captchaResponse().val()),n=d.trim(a.recaptchaResponse().val()),p=[];0==k.length?(a.errorNotification(d.language("COM_KOMENTO_FORM_NOTIFICATION_COMMENT_REQUIRED")),p.push("1")):1==Komento.options.config.antispam_min_length_enable&&0<Komento.options.config.antispam_min_length&&k.length<Komento.options.config.antispam_min_length&&(a.errorNotification(d.language("COM_KOMENTO_FORM_NOTIFICATION_COMMENT_TOO_SHORT")),p.push("1"));if(a.captchaResponse().exists()&&0==r.length||a.recaptchaResponse().exists()&&
0==n.length)a.errorNotification(d.language("COM_KOMENTO_FORM_NOTIFICATION_CAPTCHA_REQUIRED")),p.push("1");0==b.length&&(2==Komento.options.config.show_name&&2==Komento.options.config.require_name||1==Komento.options.guest&&0<Komento.options.config.show_name&&1==Komento.options.config.require_name)?(0==a.nameInput().siblings("span").length?a.nameInput().after('<span class="help-inline">'+d.language("COM_KOMENTO_FORM_NOTIFICATION_NAME_REQUIRED")+"</span>"):a.nameInput().siblings("span").show(),a.nameInput().parents("li").addClass("error"),
p.push("1")):(a.nameInput().siblings("span").hide(),a.nameInput().parents("li").removeClass("error"));a.emailInput().siblings("span").remove();0==e.length&&(2==Komento.options.config.show_email&&(2==Komento.options.config.require_email||a.subscribeCheckbox().prop("checked"))||1==Komento.options.guest&&0<Komento.options.config.show_email&&(1==Komento.options.config.require_email||a.subscribeCheckbox().prop("checked")))?(a.emailInput().after('<span class="help-inline">'+d.language("COM_KOMENTO_FORM_NOTIFICATION_EMAIL_REQUIRED")+
"</span>"),a.emailInput().parents("li").addClass("error"),p.push("1")):0<e.length&&!a.validateEmail(e)?(a.emailInput().after('<span class="help-inline">'+d.language("COM_KOMENTO_FORM_NOTIFICATION_EMAIL_INVALID")+"</span>"),a.emailInput().parents("li").addClass("error"),p.push("1")):a.emailInput().parents("li").removeClass("error");a.websiteInput().siblings("span").remove();0==f.length&&(2==Komento.options.config.show_website&&2==Komento.options.config.require_website||1==Komento.options.guest&&0<
Komento.options.config.show_website&&1==Komento.options.config.require_website)?(a.websiteInput().after('<span class="help-inline">'+d.language("COM_KOMENTO_FORM_NOTIFICATION_WEBSITE_REQUIRED")+"</span>"),a.websiteInput().parents("li").addClass("error"),p.push("1")):0<f.length&&!a.validateWebsite(f)?(a.websiteInput().after('<span class="help-inline">'+d.language("COM_KOMENTO_FORM_NOTIFICATION_WEBSITE_INVALID")+"</span>"),a.websiteInput().parents("li").addClass("error"),p.push("1")):a.websiteInput().parents("li").removeClass("error");
1==Komento.options.config.show_tnc&&0==a.tncCheckbox().prop("checked")&&(a.errorNotification(d.language("COM_KOMENTO_FORM_NOTIFICATION_TNC_REQUIRED")),p.push("1"));""!=a.locationLongitude().val()&&""!=a.locationLatitude().val()&&""!=a.locationInput().val()||a.locationInput().val("");0==p.length?a.kmt.commentupload?a.kmt.commentupload.startUpload():a.postComment():0==a.parentid?a.submitButton().text(d.language("COM_KOMENTO_FORM_SUBMIT")):a.submitButton().text(d.language("COM_KOMENTO_FORM_REPLY"))}},
experimentalValidateComment:function(){if(0==Komento.options.konfig.enable_live_form_validation)return a.submitButton().enable(),!0;var b=d.trim(a.nameInput().val()),e=d.trim(a.emailInput().val()),f=d.trim(a.websiteInput().val()),k=d.trim(a.commentInput().val()),r=d.trim(a.captchaResponse().val()),n=d.trim(a.recaptchaResponse().val()),p=[];0==a.commentInput().val().length?p.push("1"):1==Komento.options.config.antispam_min_length_enable&&0<Komento.options.config.antispam_min_length&&k.length<Komento.options.config.antispam_min_comment_length&&
p.push("1");(a.captchaResponse().exists()&&0==r.length||a.recaptchaResponse().exists()&&0==n.length)&&p.push("1");0==b.length&&(2==Komento.options.config.show_name&&2==Komento.options.config.require_name||1==Komento.options.guest&&0<Komento.options.config.show_name&&0<Komento.options.config.require_name)&&p.push("1");0==e.length&&(2==Komento.options.config.show_email&&(2==Komento.options.config.require_email||a.subscribeCheckbox().prop("checked"))||1==Komento.options.guest&&0<Komento.options.config.show_email&&
(0<Komento.options.config.require_email||a.subscribeCheckbox().prop("checked")))&&p.push("1");0==f.length&&(2==Komento.options.config.show_website&&2==Komento.options.config.require_website||1==Komento.options.guest&&0<Komento.options.config.show_website&&0<Komento.options.config.require_website)&&p.push("1");1==Komento.options.config.show_tnc&&0==a.tncCheckbox().prop("checked")&&p.push("1");0==p.length?a.submitButton().enable():a.submitButton().disable()},validateEmail:function(a){if(1==Komento.options.config.enable_email_regex){var b=
Komento.options.config.email_regex;d.isArray(Komento.options.config.email_regex)&&(b=decodeURIComponent(Komento.options.config.email_regex[0]));return RegExp(b).test(a)}return!0},validateWebsite:function(a){if(1==Komento.options.config.enable_website_regex){var b=Komento.options.config.website_regex;d.isArray(Komento.options.config.website_regex)&&(b=decodeURIComponent(Komento.options.config.website_regex[0]));return RegExp(b).test(a)}return!0},postComment:function(){a.submitButton().disable();var b=
[];a.kmt.commentupload&&(b=a.kmt.commentupload.options.uploadedId);Komento.ajax("site.views.komento.addcomment",{component:Komento.component,cid:Komento.cid,comment:a.commentInput().val(),parent_id:a.parentid,depth:a.depth,username:a.usernameInput().val(),name:a.nameInput().val(),email:a.emailInput().val(),website:a.websiteInput().val(),subscribe:a.subscribeCheckbox().prop("checked"),register:a.registerCheckbox().prop("checked"),tnc:a.tncCheckbox().prop("checked"),recaptchaChallenge:a.recaptchaChallenge().val(),
recaptchaResponse:a.recaptchaResponse().val(),captchaResponse:a.captchaResponse().val(),captchaId:a.captchaId().val(),latitude:a.locationLatitude().val(),longitude:a.locationLongitude().val(),address:a.locationInput().val(),contentLink:Komento.contentLink,attachments:b,pageItemId:a.pageItemId().val()},{success:function(b,f,g){f=d.buildHTML(f);1==g?(1==Komento.options.acl.read_comment&&a.kmt.commentlist.addComment(b,f),a.successNotification(d.language("COM_KOMENTO_FORM_NOTIFICATION_SUBMITTED"))):a.successNotification(d.language("COM_KOMENTO_FORM_NOTIFICATION_PENDING"));
0==a.captchaId().length&&0==d("#recaptcha_table").length||a.reloadCaptcha();0!=a.parentid&&a.kmt.commentlist.cancelReply();a.commentInput().val("");a.commentLengthCount().text("0");0<a.locationForm().length&&a.locationForm().controller().removeLocation();0==a.parentid?a.submitButton().text(d.language("COM_KOMENTO_FORM_SUBMIT")):a.submitButton().text(d.language("COM_KOMENTO_FORM_REPLY"));a.kmt.commentupload&&(a.kmt.commentupload.options.uploadedId=[])},fail:function(b){a.errorNotification(b);a.submitButton().text(d.language("COM_KOMENTO_ERROR"))},
captcha:function(b){1==Komento.options.config.antispam_captcha_type?Recaptcha.reload():(a.captchaImage().attr("src",b.image),a.captchaId().val(b.id),a.captchaResponse().val(""));0==a.parentid?a.submitButton().text(d.language("COM_KOMENTO_FORM_SUBMIT")):a.submitButton().text(d.language("COM_KOMENTO_FORM_REPLY"))},subscribe:function(){a.subscribeForm().text(d.language("COM_KOMENTO_FORM_NOTIFICATION_SUBSCRIBED")).addClass("subscribed")},confirmSubscribe:function(){a.subscribeForm().text(d.language("COM_KOMENTO_FORM_NOTIFICATION_SUBSCRIBE_CONFIRMATION_REQUIRED")).addClass("subscribed")},
subscribeError:function(){a.subscribeForm().text(d.language("COM_KOMENTO_FORM_NOTIFICATION_SUBSCRIBE_ERROR"))},notification:function(b){a.notification(b)},error:function(b){a.errorNotification(b.statusText);d.bugReport(b);a.submitButton().text(d.language("COM_KOMENTO_ERROR"))}})},reloadCaptcha:function(){1==Komento.options.config.antispam_captcha_type?void 0!==Recaptcha&&Recaptcha.reload():Komento.ajax("site.views.komento.reloadCaptcha",{component:Komento.component},{success:function(b){a.captchaImage().attr("src",
b.image);a.captchaId().val(b.id);a.captchaResponse().val("")}})},staticReply:function(b){var e=b.parentid.split("-")[1];a.parentid=e;a.depth=parseInt(b.depth)+1;var f=d("#"+parentid);b=f.find(".kmt-avatar:not(.parentContainer > .kmt-avatar)").clone();var k=f.find(".kmt-author:not(.parentContainer > .kmt-author)").clone(),r=f.find(".kmt-time:not(.parentContainer > .kmt-time)").clone(),f=f.find(".commentText:not(.parentContainer > .commentText)").clone(),e='<a href="javascript:void(0);" class="cancelStaticReply">x</a>'+
d.language("COM_KOMENTO_FORM_IN_REPLY_TO")+'<a href="'+Komento.contentLink+"#"+parentid+'" class="parentLink kmt-parent-link">#'+e+"</a>",n=d('<span class="parentContainer hidden"></span>');n.html("").append(b).append(k).append(r).append(f);a.element.find("h3.kmt-title").html("").append(e).append(n);a.submitButton().text(d.language("COM_KOMENTO_FORM_REPLY"));a.element.scroll()},cancelStaticReply:function(){a.parentid=0;a.depth=0;a.element.find("h3.kmt-title").text(d.language("COM_KOMENTO_FORM_LEAVE_YOUR_COMMENTS"))},
reply:function(b){a.loadForm();a.parentid=b.id;a.depth=parseInt(b.depth)+1;a.element.find("h3.kmt-title").text(d.language("COM_KOMENTO_FORM_REPLY"));a.element.find(".submitButton").text(d.language("COM_KOMENTO_FORM_REPLY"));b.mine.append(a.element).scroll()},cancelReply:function(){a.hideForm();a.element.find("h3.kmt-title").text(d.language("COM_KOMENTO_FORM_LEAVE_YOUR_COMMENTS"));a.parentid=0;a.depth=0;a.element.find(".submitButton").text(d.language("COM_KOMENTO_FORM_SUBMIT"));0==Komento.options.config.form_position?
0==Komento.options.config.tabbed_comments?d(".commentTools").before(a.element):d(".fameList").before(a.element):0==Komento.options.config.tabbed_comments?d(".commentList").after(a.element):d(".fameList").after(a.element)},unsubscribe:function(){Komento.ajax("site.views.komento.unsubscribe",{component:Komento.component,cid:Komento.cid},{success:function(){a.subscribeForm().text(d.language("COM_KOMENTO_FORM_NOTIFICATION_UNSUBSCRIBED")).removeClass("subscribed")},fail:function(){a.subscribeForm().text(d.language("COM_KOMENTO_ERROR"))}})},
errorNotification:function(b){a.formAlert().removeClass("success").addClass("error");a.notification(b)},successNotification:function(b){a.formAlert().removeClass("error").addClass("success");var d=parseInt(Komento.options.config.autohide_form_notification);a.notification(b,d)},notification:function(b,d){a.formAlert().show();a.formAlert().append("<li>"+b+"</li>");1==d&&setTimeout(function(){a.closeNotification()},5E3)},closeNotification:function(){a.formAlert().hide()},clearNotification:function(){a.formAlert().html("").removeClass("error").hide()}}});
f.resolve()})});Komento.module("komento.commentitem",function(d){d.fn.itemset=function(f){var a=d(this),b=d(a).parents(".kmt-item").data();if(!b.item){var c={};c.mine=d(a).parents(".kmt-item");c.commentid=c.mine.attr("id");c.both=d("."+c.commentid);c.id=c.commentid.split("-")[1];c.parentid=c.mine.attr("parentid");c.depth=c.mine.attr("depth");c.childs=c.mine.attr("childs");c.published=c.mine.attr("published");c.element={};c.element.mine={};c.element.both={};c.element.mine.commentText=c.mine.find(f["{commentText}"]);
c.element.mine.commentInfo=c.mine.find(f["{commentInfo}"]);c.element.mine.commentForm=c.mine.find(f["{commentForm}"]);c.element.mine.stickButton=c.mine.find(f["{stickButton}"]);c.element.mine.replyButton=c.mine.find(f["{replyButton}"]);c.element.mine.reportButton=c.mine.find(f["{reportButton}"]);c.element.mine.likeButton=c.mine.find(f["{likeButton}"]);c.element.mine.likesCounter=c.mine.find(f["{likesCounter}"]);c.element.mine.editButton=c.mine.find(f["{editButton}"]);c.element.mine.saveEditButton=
c.mine.find(f["{saveEditButton}"]);c.element.mine.deleteButton=c.mine.find(f["{deleteButton}"]);c.element.mine.publishButton=c.mine.find(f["{publishButton}"]);c.element.mine.unpublishButton=c.mine.find(f["{unpublishButton}"]);c.element.mine.parentLink=c.mine.find(f["{parentLink}"]);c.element.mine.parentContainer=c.mine.find(f["{parentContainer}"]);c.element.mine.attachmentWrap=c.mine.find(f["{attachmentWrap}"]);c.element.mine.attachmentFile=c.mine.find(f["{attachmentFile}"]);c.element.both.commentText=
c.both.find(f["{commentText}"]);c.element.both.commentInfo=c.both.find(f["{commentInfo}"]);c.element.both.stickButton=c.both.find(f["{stickButton}"]);c.element.both.replyButton=c.both.find(f["{replyButton}"]);c.element.both.reportButton=c.both.find(f["{reportButton}"]);c.element.both.likeButton=c.both.find(f["{likeButton}"]);c.element.both.likesCounter=c.both.find(f["{likesCounter}"]);c.element.both.parentLink=c.both.find(f["{parentLink}"]);c.element.both.parentContainer=c.both.find(f["{parentContainer}"]);
c.element.both.attachmentWrap=c.both.find(f["{attachmentWrap}"]);c.element.both.attachmentFile=c.both.find(f["{attachmentFile}"]);c.mine.data("item",c);b.item=c}return b.item};this.resolve()});Komento.module("komento.commentlist",function(d){var f=this;Komento.require().library("ui/effect","fancybox","dialog").stylesheet("dialog/default","fancybox/default").image(Komento.options.spinner).script("sharelinks","markitup","komento.common","komento.commentitem","komento.bbcode","komento.language").view("dialogs/delete.single",
"dialogs/delete.affectchild","dialogs/unpublish.affectchild","comment/item/edit.form","dialogs/delete.attachment").done(function(){Komento.Controller("CommentList",{defaults:{"{commentList}":".kmt-list","{commentItem}":".kmt-item","{noComment}":".kmt-empty-comment","{loadMore}":".loadMore","{commentText}":".commentText","{commentInfo}":".commentInfo","{commentForm}":".commentForm","{deleteButton}":".deleteButton","{editButton}":".editButton","{saveEditButton}":".saveEditButton","{cancelEditButton}":".cancelEditButton",
"{editForm}":".editForm","{editInput}":".editInput","{replyButton}":".replyButton","{shareBox}":".shareBox","{reportButton}":".reportButton","{statusButton}":".statusButton","{statusOptions}":".statusOptions","{publishButton}":".publishButton","{unpublishButton}":".unpublishButton","{stickButton}":".stickButton","{likeButton}":".likeButton","{likesCounter}":".likesCounter","{parentLink}":".parentLink","{parentContainer}":".parentContainer","{socialButton}":".socialButton","{attachmentWrap}":".attachmentWrap",
"{attachmentList}":".attachmentList","{attachmentFile}":".attachmentFile","{attachmentDelete}":".attachmentDelete","{attachmentImage}":".attachmentImage","{attachmentImageLink}":".attachmentImageLink",view:{editForm:"comment/item/edit.form",deleteSingle:"dialogs/delete.single",deleteChilds:"dialogs/delete.affectchild",publishDialog:"dialogs/publish.affectchild",unpublishDialog:"dialogs/unpublish.affectchild",deleteAttachment:"dialogs/delete.attachment"}}},function(a){return{init:function(){if(0==
a.noComment().length){a.generateSharelinks();if(1==Komento.options.konfig.enable_ajax_permalink){for(var b=document.location.href.split("#"),c,f=0;f<b.length;f++)if("kmt-"==b[f].substring(0,4)){c=b[f];break}c&&a.finditem(c);1==Komento.options.config.upload_image_fancybox&&a.attachmentImageLink().fancybox({type:"image",helpers:{overlay:1==Komento.options.config.upload_image_overlay?!0:!1}})}1==Komento.options.config.enable_syntax_highlighting&&d.loadSHBrushes()}},generateSharelinks:function(){a.generateShortLinks(function(){a.socialButton().each(function(a,
c){d(c).sharelinks()})})},generateShortLinks:function(b){var c=function(c){a.socialButton().each(function(a,b){if(!d(b).attr("loaded")){var f=d(b).attr("commentid"),f=c+"#kmt"+f;d(b).attr("url",f);d(b).parents(".kmt-share-balloon").find(".short-url").val(f)}});b&&b()};Komento.shortenLink?c(Komento.shortenLink):d.shortenlink(Komento.contentLink,c)},finditem:function(b){0==d("#"+b).length?a.loadMore().is(":hidden")||0==a.loadMore().length||a.loadMoreComments(function(){a.finditem(b)}):(d("#"+b).scroll(),
d("#"+b).highlight())},"{loadMore} click":function(b){b.checkClick()&&(b.loading(),a.loadMoreComments())},addComment:function(b,c,f){f=c.filter("li").attr("id");var e=0;0!=a.noComment().length?(a.noComment().remove(),a.commentList().append(c),e=1):0==b||0==Komento.options.config.enable_threaded?1==Komento.options.config.load_previous?("oldest"==Komento.sort&&(a.commentList().append(c),e=1),"latest"!=Komento.sort||0!=a.loadMore().length&&!a.loadMore().is(":hidden")||(a.commentList().prepend(c),e=1)):
("oldest"!=Komento.sort||0!=a.loadMore().length&&!a.loadMore().is(":hidden")||(a.commentList().append(c),e=1),"latest"==Komento.sort&&(a.commentList().prepend(c),e=1)):("oldest"==Komento.sort&&("kmt-form"==a.commentList().find("#kmt-"+b).next().attr("id")?a.commentList().find("#kmt-"+b).next().after(c):a.commentList().find("#kmt-"+b).after(c),e=1),"latest"==Komento.sort&&(a.commentList().find("#"+c.attr("parentid")).attr("id")==="kmt-"+b?"kmt-form"==a.commentList().find("#kmt-"+b).next().attr("id")?
a.commentList().find("#kmt-"+b).next().after(c):a.commentList().find("#kmt-"+b).after(c):a.commentList().find("#kmt-"+b).before(c),e=1));e&&(Komento.loadedCount++,0!=b&&a.addChildCount(d("#"+f).attr("parentid")),a.generateSharelinks(),1==Komento.options.config.scroll_to_comment&&(b=d("#"+f),b.highlight(),b.scroll()),1==Komento.options.config.enable_syntax_highlighting&&d.loadSHBrushes());a.kmt.tools.addCommentCounter();Komento.totalCount++},addChildCount:function(b){var c=parseInt(d("."+b).attr("childs"));
d("."+b).attr("childs",c+1);d("."+b).exists()&&0<parseInt(d("li."+b).attr("parentid").split("-")[1])&&a.addChildCount(d("."+b).attr("parentid"))},loadMoreComments:function(b){var c,f=parseInt(Komento.options.config.max_comments_per_page);1==Komento.options.config.load_previous?(c=Komento.totalCount-Komento.loadedCount-f,0>c&&(f+=c,c=0)):c=Komento.loadedCount;Komento.ajax("site.views.komento.loadmorecomments",{component:Komento.component,cid:Komento.cid,start:c,limit:f,sort:Komento.sort,contentLink:Komento.contentLink},
{success:function(c,h,k){c=d(c).filter("li");1==Komento.options.config.load_previous?a.commentList().prepend(c):a.commentList().append(c);c.highlight();Komento.loadedCount=h;a.loadMore().removeClass("loading");1==k?(a.loadMore().removeClass("disabled"),1==Komento.options.config.load_previous?(h=Komento.totalCount-Komento.loadedCount-f,0>h&&(f+=h,h=0)):h=Komento.loadedCount,a.loadMore().attr("href","#!kmt-start="+h)):a.loadMore().hide();b&&b()},fail:function(a,b,c){}})},set:function(b){a.item=b.itemset(a.options)},
"{deleteButton} click":function(b,c){c.stopPropagation();a.set(b);a.showDeleteDialog()},"{editButton} click":function(b,c){c.stopPropagation();a.set(b);b.checkClick()&&(b.checkSwitch()?a.edit(b):a.cancelEdit(b))},"{saveEditButton} click":function(b,c){c.stopPropagation();a.set(b);a.saveEdit(b)},"{cancelEditButton} click":function(b,c){c.stopPropagation();a.set(b);a.cancelEdit(b)},"{replyButton} click":function(b,c){c.stopPropagation();a.set(b);1==Komento.options.konfig.enable_inline_reply?b.checkSwitch()?
a.reply():a.cancelReply():a.kmt.form.staticReply(a.item)},"{reportButton} click":function(b,c){c.stopPropagation();a.set(b);b.checkClick()&&(b.checkSwitch()?a.reportComment(b):a.cancelreportComment(b))},"{publishButton} click":function(b,c){c.stopPropagation();a.set(b);0<a.item.childs?a.showPublishDialog(b):a.publishComment(b)},"{unpublishButton} click":function(b,c){c.stopPropagation();a.set(b);0<a.item.childs?a.showUnpublishDialog(b):a.unpublishComment(b)},"{stickButton} click":function(b,c){c.stopPropagation();
a.set(b);b.checkClick()&&(b.checkSwitch()?a.stick(b):a.unstick(b))},"{likesCounter} click":function(b,c){c.stopPropagation();a.set(b);a.showLikesDialog(b)},"{likeButton} click":function(b,c){c.stopPropagation();a.set(b);b.checkClick()&&(b.checkSwitch()?a.like(b):a.unlike(b))},"{parentLink} mouseover":function(b){a.set(b);1==Komento.options.config.enable_threaded?d("#"+a.item.parentid).addClass("kmt-highlight"):(a.item.element.mine.parentContainer.show(),0==a.item.element.mine.parentContainer.attr("loaded")&&
(a.item.element.mine.parentContainer.html('<img src="'+Komento.options.spinner+'" />'),a.loadParent()))},"{parentLink} mouseout":function(b){a.set(b);1==Komento.options.config.enable_threaded?d("#"+a.item.parentid).removeClass("kmt-highlight"):a.item.element.mine.parentContainer.hide()},"{parentLink} click":function(b){a.set(b);d("."+a.item.parentid).highlight()},"{attachmentDelete} click":function(b,c){c.stopPropagation();a.set(b);a.showAttachmentDeleteDialog(b)},"{attachmentImage} click":function(a,
c){},closeDialog:function(){0<d(".foundryDialog").length&&d(".foundryDialog").controller().close()},edit:function(){var b=a.item.mine.find("#"+a.item.commentid+"-edit");0==b.length?Komento.ajax("site.views.komento.getcommentraw",{id:a.item.id},{success:function(b){a.item.element.mine.editButton.text(d.language("COM_KOMENTO_COMMENT_EDIT_CANCEL")).switchOff().enable();b=a.view.editForm({commentId:a.item.commentid,commentText:b});a.item.element.mine.commentText.after(b);a.item.element.mine.editForm=
d(b);a.item.element.mine.editInput=a.item.element.mine.editForm.find(".editInput");a.item.mine.data("item",a.item);a.item.element.mine.editInput.markItUp(d.getBBcodeSettings())},fail:function(b){a.item.element.mine.editButton.text(d.language("COM_KOMENTO_ERROR"))}}):(b.show(),a.item.element.mine.editButton.text(d.language("COM_KOMENTO_COMMENT_EDIT_CANCEL")).switchOff().enable())},cancelEdit:function(){a.item.element.mine.editButton.text(d.language("COM_KOMENTO_COMMENT_EDIT")).switchOn().enable();
a.item.element.mine.editForm.hide()},saveEdit:function(){Komento.ajax("site.views.komento.editcomment",{id:a.item.id,edittedComment:a.item.element.mine.editInput.val()},{success:function(b,c,f){a.item.element.both.commentText.html(b);1==Komento.options.config.enable_info&&a.item.element.both.commentInfo.text(d.language("COM_KOMENTO_COMMENT_EDITTED_BY",c,f)).show().css("display","");1==Komento.options.config.enable_syntax_highlighting&&d.loadSHBrushes();a.cancelEdit()},fail:function(a){d.dialog({content:a})}})},
reply:function(){d(".formAlert").hide().text("");d(a.options["{replyButton}"]).switchOn().find("span").text(d.language("COM_KOMENTO_COMMENT_REPLY"));a.item.element.mine.replyButton.switchOff().find("span").text(d.language("COM_KOMENTO_COMMENT_REPLY_CANCEL"));a.kmt.form.reply(a.item)},cancelReply:function(){d(a.options["{replyButton}"]).switchOn().find("span").text(d.language("COM_KOMENTO_COMMENT_REPLY"));a.kmt.form&&a.kmt.form.cancelReply()},showDeleteDialog:function(){0<a.item.childs?d.dialog({height:150,
content:a.view.deleteChilds(!0,{childs:a.item.childs}),afterShow:function(){d(".foundryDialog").find(".delete-affectChild").click(function(){a.deleteComment(1)});d(".foundryDialog").find(".delete-moveChild").click(function(){a.deleteComment(0)})}}):d.dialog({height:150,content:a.view.deleteSingle(!0),afterShow:function(){d(".foundryDialog").find(".delete-affectChild").click(function(){a.deleteComment(1)})}})},deleteComment:function(b){d(".foundryDialog").find(".kmt-delete-status").show();Komento.ajax("site.views.komento.deletecomment",
{id:a.item.id,affectChild:b},{success:function(){a.closeDialog();1==b?a.deleteChild(a.item.commentid):a.moveChildUp(a.item.commentid,a.item.parentid);a.item.both.hide("fade",function(){a.item.both.remove()});a.kmt.tools.deductCommentCounter()},fail:function(){d(".foundryDialog").find(".kmt-delete-status").text(d.language("COM_KOMENTO_ERROR"))}})},deleteChild:function(b){d('li[parentid="'+b+'"]').each(function(){a.deleteChild(d(this).attr("id"))}).hide("fade",function(){d(this).remove()});b=d('li[parentid="'+
b+'"]').length;a.kmt.tools.deductCommentCounter(b)},moveChildUp:function(b,c){d('li[parentid="'+b+'"]').attr("parentid",c).each(function(){d(this).removeClass("kmt-child-"+d(this).attr("depth")).addClass("kmt-child-"+(d(this).attr("depth")-1));d(this).attr("depth",d(this).attr("depth")-1);a.moveChildUp(d(this).attr("id"))})},reportComment:function(){Komento.ajax("site.views.komento.action",{id:a.item.id,type:"report",action:"add"},{success:function(){a.item.element.both.reportButton.text(d.language("COM_KOMENTO_COMMENT_REPORTED")).switchOff().enable()},
fail:function(){a.item.element.both.reportButton.text(d.language("COM_KOMENTO_ERROR"))}})},cancelreportComment:function(){Komento.ajax("site.views.komento.action",{id:a.item.id,type:"report",action:"remove"},{success:function(){a.item.element.both.reportButton.text(d.language("COM_KOMENTO_COMMENT_REPORT")).switchOn().enable()},fail:function(){a.item.element.both.reportButton.text(d.language("COM_KOMENTO_ERROR"))}})},showUnpublishDialog:function(){d.dialog({height:150,content:a.view.unpublishDialog(!0,
{childs:a.item.childs}),afterShow:function(){d(".foundryDialog").find(".unpublish-affectChild").click(function(){a.unpublishComment()})}})},unpublishComment:function(){Komento.ajax("site.views.komento.unpublish",{id:a.item.id},{success:function(){a.closeDialog();a.unpublishChild(a.item.commentid);a.item.both.hide("fade",function(){a.item.both.remove()});a.kmt.tools.deductCommentCounter()},fail:function(){}})},unpublishChild:function(b){d('li[parentid="'+b+'"]').each(function(){a.unpublishChild(d(this).attr("id"))}).hide("fade",
function(){d(this).remove()});b=d('li[parentid="'+b+'"]').length;a.kmt.tools.deductCommentCounter(b)},showPublishDialog:function(){},publishComment:function(){},publishChild:function(a){},stick:function(b){Komento.ajax("site.views.komento.stick",{id:a.item.id},{success:function(){a.item.element.mine.stickButton.text(d.language("COM_KOMENTO_COMMENT_UNSTICK")).switchOff().enable();a.item.mine.addClass("kmt-sticked");a.kmt.famelist.stickComment(a.item.mine.clone())},fail:function(){a.item.element.mine.stickButton.text(d.language("COM_KOMENTO_ERROR"))}})},
unstick:function(){Komento.ajax("site.views.komento.unstick",{id:a.item.id},{success:function(){a.item.element.both.stickButton.text(d.language("COM_KOMENTO_COMMENT_STICK")).switchOn().enable();a.item.both.removeClass("kmt-sticked");a.kmt.famelist.unstickComment(a.item.commentid)},fail:function(){a.stickButton.text(d.language("COM_KOMENTO_ERROR"))}})},like:function(){Komento.ajax("site.views.komento.action",{id:a.item.id,type:"likes",action:"add"},{success:function(){a.item.element.both.likeButton.switchOff().enable().find("span").text(d.language("COM_KOMENTO_COMMENT_UNLIKE"));
var b=parseInt(a.item.element.mine.likesCounter.find("span").text())+1;a.item.element.both.likesCounter.find("span").text(b)},fail:function(b){a.item.element.both.likesCounter.find("span").text(b)}})},unlike:function(){Komento.ajax("site.views.komento.action",{id:a.item.id,type:"likes",action:"remove"},{success:function(){a.item.element.both.likeButton.switchOn().enable().find("span").text(d.language("COM_KOMENTO_COMMENT_LIKE"));var b=parseInt(a.item.element.mine.likesCounter.find("span").text())-
1;a.item.element.both.likesCounter.find("span").text(b)},fail:function(){a.item.element.both.likesCounter.find("span").text(d.language("COM_KOMENTO_ERROR"))}})},showLikesDialog:function(b){Komento.ajax("site.views.komento.getLikedUsers",{id:a.item.id},{success:function(a){d.dialog({title:d.language("COM_KOMENTO_COMMENT_PEOPLE_WHO_LIKED_THIS"),content:a})}})},loadParent:function(){var b=d("#"+a.item.parentid);if(0!=b.length){var c=b.find(".kmt-avatar:not(.parentContainer > .kmt-avatar)").clone(),f=
b.find(".kmt-author:not(.parentContainer > .kmt-author)").clone(),e=b.find(".kmt-time:not(.parentContainer > .kmt-time)").clone(),b=b.find(".commentText:not(.parentContainer > .commentText)").clone();a.item.element.both.parentContainer.html("").append(c).append(f).append(e).append(b)}else c=a.item.parentid.split("-")[1],Komento.ajax("site.views.komento.getcomment",{id:c},{success:function(b){a.item.element.both.parentContainer.html(b)},fail:function(){}});a.item.element.both.parentContainer.attr("loaded",
1)},showAttachmentDeleteDialog:function(b){var c=d(b).parents(".attachmentFile").attr("attachmentid");b=d(b).parents(".attachmentFile").attr("attachmentname");d.dialog({content:a.view.deleteAttachment(!0,{attachmentname:b}),afterShow:function(){d(".foundryDialog").find(".delete-attachment").click(function(){a.closeDialog();a.deleteFile(c)});d(".foundryDialog").find(".delete-attachment-cancel").click(function(){a.closeDialog()})}})},deleteFile:function(b){Komento.ajax("site.views.komento.deleteAttachment",
{id:a.item.id,attachmentid:b},{success:function(){a.item.element.both.attachmentFile.filter(".file-"+b).remove();0==a.item.mine.find(".attachmentFile").length&&a.item.element.both.attachmentWrap.remove()},fail:function(c){c='<p class="error">'+c+"</p>";a.item.element.both.attachmentFile.filter(".file-"+b).append(c)}})}}});f.resolve()})});Komento.module("sharelinks",function(d){d.sharelinks=function(f,a,b,c){this[a].call(d(f),a,b,c)};d.fn.sharelinks=function(f,a,b){var c=this;if(!c.attr("loaded")){c.attr("loaded",
1);f||(f=c.attr("type"));if(!a){var g,e,h;c.attr("url")&&(g=encodeURIComponent(c.attr("url")));c.attr("title")&&(e=encodeURIComponent(c.attr("title")));c.attr("content")&&(h=encodeURIComponent(c.attr("content")));a={url:g,title:e,content:h}}d(document).ready(function(){d.sharelinks[f].call(c,f,a,function(a,b,c){d.sharelinks.cleanup.call(a);a.bind("click",function(e){d.sharelinks.popup.call(a,c,b)})})})}};d.sharelinks.facebook=function(d,a,b){var c,f,e,h;a.url&&(c=a.url);a.title?(f=a.title,a.content&&
(e=a.content)):a.content&&(f="Comments",e=a.content);a.image&&(h=a.image);b(this,"http://www.facebook.com/sharer.php?s=100"+("&p[url]="+c+"&p[title]="+f+"&p[summary]="+e+"&p[images]="+h),d)};d.sharelinks.twitter=function(d,a,b){var c,f;a.url&&(c=a.url);a.title?f=a.title:a.content&&(f=a.content);b(this,"http://twitter.com/intent/tweet"+("?url="+c+"&text="+f),d)};d.sharelinks.googleplus=function(d,a,b){var c;a.url&&(c=a.url);b(this,"http://plus.google.com/share?url="+c,d)};d.sharelinks.linkedin=function(d,
a,b){var c,f,e;a.url&&(c=a.url);a.title?(f=a.title,a.content&&(e=a.content)):a.content&&(f=a.content);b(this,"http://linkedin.com/shareArticle?mini=true"+("&url="+c+"&title="+f+"&summary="+e),d)};d.sharelinks.pinterest=function(d,a,b){var c,f,e=a.image;a.url&&(c=a.url);a.title?f=a.title:a.content&&(f=a.content);b(this,"http://pinterest.com/pin/create/button/"+("?media="+e+"&url="+c+"&description="+f),d)};d.sharelinks.tumblr=function(d,a,b){var c,f,e;a.url&&(c=a.url);a.title?(f=a.title,a.content&&
(e=a.content)):a.content&&(f=a.content);b(this,"http://www.tumblr.com/share/link"+("?url="+c+"&name="+f+"&description="+e),d)};d.sharelinks.digg=function(d,a,b){var c,f;a.url&&(c=a.url);a.title?f=a.title:a.content&&(f=a.content);b(this,"http://digg.com/submit"+("?url="+c+"&title="+f),d)};d.sharelinks.delicious=function(d,a,b){var c,f;a.url&&(c=a.url);a.title?f=a.title:a.content&&(f=a.content);b(this,"http://delicious.com/post"+("?url="+c+"&title="+f),d)};d.sharelinks.reddit=function(d,a,b){var c,
f;a.url&&(c=a.url);a.title?f=a.title:a.content&&(f=a.content);b(this,"http://reddit.com/submit"+("?url="+c+"&title="+f),d)};d.sharelinks.stumbleupon=function(d,a,b){var c,f;a.url&&(c=a.url);a.title?f=a.title:a.content&&(f=a.content);b(this,"http://www.stumbleupon.com/submit"+("?url="+c+"&title="+f),d)};d.sharelinks.indentica=function(d,a,b){var c,f;a.url&&(c=a.url);a.title?f=a.title:a.content&&(f=a.content);b(this,"http://identi.ca/index.php?action=bookmarkpopup"+("&url="+c+"&title="+f),d)};d.sharelinks.stumpedia=
function(d,a,b){var c;a.url&&(c=a.url);b(this,"http://www.stumpedia.com/submit?url="+c,d)};d.sharelinks.technorati=function(d,a,b){var c="http://technorati.com/faves";add;a.url&&(add=a.url);c+="?add="+url;b(this,c,d)};d.sharelinks.blogmarks=function(d,a,b){var c,f;a.url&&(c=a.url);a.title?f=a.title:a.content&&(f=a.content);b(this,"http://blogmarks.net/my/new.php?mini=1"+("&url="+c+"&title="+f),d)};d.sharelinks.dialog=function(f){Komento.require().library("dialog").stylesheet("dialog/default").done(function(){d.dialog(f)})};
d.sharelinks.cleanup=function(){this.removeAttr("url").removeAttr("type").removeAttr("title").removeAttr("content").removeAttr("image").removeAttr("commentid").attr("loaded",1)};d.sharelinks.popup=function(d,a){window.open(a,"","menubar=0,resizable=0,scrollbars=0,width=660,height=320")};this.resolve()});Komento.module("markitup",function(d){d.fn.markItUp=function(f,a){var b,c,g,e;c=g=e=!1;b={id:"",nameSpace:"",root:"",previewInWindow:"",previewAutoRefresh:!0,previewPosition:"after",previewTemplatePath:"~/templates/preview.html",
previewParserPath:"",previewParserVar:"data",resizeHandle:!0,beforeInsert:"",afterInsert:"",onEnter:{},onShiftEnter:{},onCtrlEnter:{},onTab:{},markupSet:[{}]};d.extend(b,f,a);b.root||d("script").each(function(a,c){miuScript=d(c).get(0).src.match(/(.*)jquery\.markitup(\.pack)?\.js$/);null!==miuScript&&(b.root=miuScript[1])});return this.each(function(){function a(c,d){return d?c.replace(/("|')~\//g,"$1"+b.root):c.replace(/^~\//,b.root)}function f(a){var b=d("<ul></ul>"),c=0;d("li:hover > ul",b).css("display",
"block");d.each(a,function(){var a=this,e="",g,h;g=a.key?(a.name||"")+" [Ctrl+"+a.key+"]":a.name||"";key=a.key?'accesskey="'+a.key+'"':"";if(a.separator)e=d('<li class="markItUpSeparator">'+(a.separator||"")+"</li>").appendTo(b);else{c++;for(h=G.length-1;0<=h;h--)e+=G[h]+"-";e=d('<li class="markItUpButton markItUpButton'+e+c+" "+(a.className||"")+'"><a href="" '+key+' title="'+g+'">'+(a.name||"")+"</a></li>").bind("contextmenu",function(){return!1}).click(function(){return!1}).mousedown(function(){a.call&&
eval(a.call)();setTimeout(function(){q(a)},1);return!1}).hover(function(){d("> ul",this).show();d(document).one("click",function(){d("ul ul",B).hide()})},function(){d("> ul",this).hide()}).appendTo(b);a.dropMenu&&(G.push(c),d(e).addClass("markItUpDropMenu").append(f(a.dropMenu)))}});G.pop();return b}function k(a){return a?(a=a.toString(),a=a.replace(/\(\!\(([\s\S]*?)\)\!\)/g,function(a,b){var c=b.split("|!|");return!0===e?void 0!==c[1]?c[1]:c[0]:void 0===c[1]?"":c[0]}),a=a.replace(/\[\!\[([\s\S]*?)\]\!\]/g,
function(a,b){var c=b.split(":!:");if(!0===P)return!1;value=prompt(c[0],c[1]?c[1]:"");null===value&&(P=!0);return value})):""}function n(a){d.isFunction(a)&&(a=a(I));return k(a)}function p(a){openWith=n(C.openWith);placeHolder=n(C.placeHolder);replaceWith=n(C.replaceWith);closeWith=n(C.closeWith);block=""!==replaceWith?openWith+replaceWith+closeWith:""===selection&&""!==placeHolder?openWith+placeHolder+closeWith:openWith+(a||selection)+closeWith;return{block:block,openWith:openWith,replaceWith:replaceWith,
placeHolder:placeHolder,closeWith:closeWith}}function q(a){var f,h;I=C=a;s();d.extend(I,{line:"",root:b.root,textarea:A,selection:selection||"",caretPosition:H,ctrlKey:c,shiftKey:g,altKey:e});n(b.beforeInsert);n(C.beforeInsert);!0===c&&!0===g&&n(C.beforeMultiInsert);d.extend(I,{line:1});if(!0===c&&!0===g){lines=selection.split(/\r?\n/);a=0;f=lines.length;for(h=0;h<f;h++)""!==d.trim(lines[h])?(d.extend(I,{line:++a,selection:lines[h]}),lines[h]=p(lines[h]).block):lines[h]="";string={block:lines.join("\n")};
start=H;a=string.block.length+(d.browser.opera?f:0)}else!0===c?(string=p(selection),start=H+string.openWith.length,a=string.block.length-string.openWith.length-string.closeWith.length,a-=u(string.block)):!0===g?(string=p(selection),start=H,a=string.block.length,a-=u(string.block)):(string=p(selection),start=H+string.block.length,a=0,start-=u(string.block));""===selection&&""===string.replaceWith&&(D+=w(string.block),start=H+string.openWith.length,a=string.block.length-string.openWith.length-string.closeWith.length,
D=z.val().substring(H,z.val().length).length,D-=w(z.val().substring(0,H)));d.extend(I,{caretPosition:H,scrollPosition:L});string.block!==selection&&!1===P?(f=string.block,document.selection?document.selection.createRange().text=f:z.val(z.val().substring(0,H)+f+z.val().substring(H+selection.length,z.val().length)),z.trigger("textChange",z.val()),v(start,a)):D=-1;s();d.extend(I,{line:"",selection:selection});!0===c&&!0===g&&n(C.afterMultiInsert);n(C.afterInsert);n(b.afterInsert);K&&b.previewAutoRefresh&&
x();g=e=c=P=!1}function w(a){return d.browser.opera?a.length-a.replace(/\n*/g,"").length:0}function u(a){return d.browser.msie?a.length-a.replace(/\r*/g,"").length:0}function v(a,b){if(A.createTextRange){if(d.browser.opera&&9.5<=d.browser.version&&0==b)return!1;range=A.createTextRange();range.collapse(!0);range.moveStart("character",a);range.moveEnd("character",b);range.select()}else A.setSelectionRange&&A.setSelectionRange(a,a+b);A.scrollTop=L;A.focus()}function s(){A.focus();L=A.scrollTop;if(document.selection)if(selection=
document.selection.createRange().text,d.browser.msie){var a=document.selection.createRange(),b=a.duplicate();b.moveToElementText(A);for(H=-1;b.inRange(a);)b.moveStart("character"),H++}else H=A.selectionStart;else H=A.selectionStart,selection=z.val().substring(H,A.selectionEnd);return selection}function x(){""!==b.previewParserPath?d.ajax({type:"POST",url:b.previewParserPath,data:b.previewParserVar+"="+encodeURIComponent(z.val()),success:function(b){t(a(b,1))}}):M||d.ajax({url:b.previewTemplatePath,
success:function(b){t(a(b,1).replace(/\x3c!-- content --\x3e/g,z.val()))}});return!1}function t(a){if(K.document){try{sp=K.document.documentElement.scrollTop}catch(c){sp=0}K.document.open();K.document.write(a);K.document.close();K.document.documentElement.scrollTop=sp}b.previewInWindow&&K.focus()}function E(a){g=a.shiftKey;c=(e=a.altKey)&&a.ctrlKey?!1:a.ctrlKey;c=!1;if("keydown"===a.type){if(!0===c&&(li=d("a[accesskey="+String.fromCharCode(a.keyCode)+"]",B).parent("li"),0!==li.length))return c=!1,
setTimeout(function(){li.triggerHandler("mousedown")},1),!1;if(13===a.keyCode||10===a.keyCode){if(!0===c)return c=!1,q(b.onCtrlEnter),b.onCtrlEnter.keepDefault;if(!0===g)return g=!1,q(b.onShiftEnter),b.onShiftEnter.keepDefault;q(b.onEnter);return b.onEnter.keepDefault}if(9===a.keyCode){if(!0==g||!0==c||!0==e)return!1;if(-1!==D)return s(),D=z.val().length-D,v(D,0),D=-1,!1;q(b.onTab);return b.onTab.keepDefault}}}var z,A,G,L,H,D,C,I,B,S,K,M,P;z=d(this);A=this;G=[];P=!1;L=H=0;D=-1;b.previewParserPath=
a(b.previewParserPath);b.previewTemplatePath=a(b.previewTemplatePath);(function(){nameSpace=id="";b.id?id='id="'+b.id+'"':z.attr("id")&&(id='id="markItUp'+z.attr("id").substr(0,1).toUpperCase()+z.attr("id").substr(1)+'"');b.nameSpace&&(nameSpace='class="'+b.nameSpace+'"');z.wrap("<div "+nameSpace+"></div>");z.wrap("<div "+id+' class="markItUp"></div>');z.wrap('<div class="markItUpContainer"></div>');z.addClass("markItUpEditor");B=d('<div class="markItUpHeader"></div>').insertBefore(z);d(f(b.markupSet)).appendTo(B);
S=d('<div class="markItUpFooter"></div>').insertAfter(z);!0===b.resizeHandle&&!0!==d.browser.safari&&(resizeHandle=d('<div class="markItUpResizeHandle"></div>').insertAfter(z).bind("mousedown",function(a){var b=z.height(),c=a.clientY,e,f;e=function(a){z.css("height",Math.max(20,a.clientY+b-c)+"px");return!1};f=function(a){d("html").unbind("mousemove",e).unbind("mouseup",f);return!1};d("html").bind("mousemove",e).bind("mouseup",f)}),S.append(resizeHandle));z.keydown(E).keyup(E);z.bind("insertion",
function(a,b){!1!==b.target&&s();A===d.markItUp.focused&&q(b)});z.focus(function(){d.markItUp.focused=this})})()})};d.fn.markItUpRemove=function(){return this.each(function(){var f=d(this).unbind().removeClass("markItUpEditor");f.parent("div").parent("div.markItUp").parent("div").replaceWith(f)})};d.markItUp=function(f){var a={target:!1};d.extend(a,f);if(a.target)return d(a.target).each(function(){d(this).focus();d(this).trigger("insertion",[a])});d("textarea").trigger("insertion",[a])};this.resolve()});
Komento.module("komento.commenttools",function(d){var f=this;Komento.require().script("komento.commentlist","komento.common","komento.language").library("dialog").stylesheet("dialog/default").view("notifications/new.comment").done(function(){Komento.Controller("CommentTools",{defaults:{"{commentCounter}":".commentCounter","{sortOldest}":".sortOldest a","{sortLatest}":".sortLatest a","{sortButton}":".kmt-sorting a","{adminButton}":".adminMode a","{subscribeEmail}":".subscribeEmail a","{addYours}":".kmt-addyours",
view:{newComment:"notifications/new.comment"}}},function(a){return{init:function(){1==Komento.options.acl.read_comment&&1==Komento.options.konfig.enable_ajax_load_list&&a.loadCommentList();1==Komento.options.konfig.enable_live_notification&&(a.hasNew=0,a.newCount=0,a.checkNewComment())},loadCommentList:function(){a.reloadComments(Komento.sort)},"{addYours} click":function(){a.kmt.form&&a.kmt.form.loadForm()},"{sortOldest} click":function(b){a.sortButton().checkClick()&&(a.sortButton().removeClass("selected"),
b.loading().addClass("selected"),a.reloadComments("oldest"))},"{sortLatest} click":function(b){a.sortButton().checkClick()&&(a.sortButton().removeClass("selected"),b.loading().addClass("selected"),a.reloadComments("latest"))},"{sortLikes} click":function(b){a.sortButton().checkClick()&&(a.sortButton().removeClass("selected"),b.loading().addClass("selected"),a.reloadComments("likes"))},"{adminButton} click":function(b){a.reloadComments(Komento.sort,"all")},"{subscribeEmail} click":function(b){d.dialog({content:a.getSubscribeContent(),
afterShow:function(){var c=d(".foundryDialog"),f=c.find(".subscribe"),e=c.find(".unsubscribe"),h=c.find(".subscribeName"),k=c.find(".subscribeEmail"),r=c.find(".subscribeUser"),n=c.find(".subscribeError");f.click(function(){if(0<r.length)Komento.ajax("site.views.komento.subscribeuser",{user:r.val(),component:Komento.component,cid:Komento.cid},{success:function(){a.kmt.form&&a.kmt.form.subscribeForm().text(d.language("COM_KOMENTO_FORM_NOTIFICATION_SUBSCRIBED")).addClass("subscribed");d(".foundryDialog").controller().close()}});
else{if(""==h.val()||""==k.val())return n.show(),!1;Komento.ajax("site.views.komento.subscribeguest",{name:h.val(),email:k.val(),component:Komento.component,cid:Komento.cid},{success:function(){d(".foundryDialog").controller().close();b.remove()}})}});e.click(function(){Komento.ajax("site.views.komento.unsubscribeuser",{user:r.val(),component:Komento.component,cid:Komento.cid},{success:function(){a.kmt.form&&a.kmt.form.subscribeForm().text(d.language("COM_KOMENTO_FORM_NOTIFICATION_UNSUBSCRIBED")).removeClass("subscribed");
d(".foundryDialog").controller().close()}})})}})},getSubscribeContent:function(){var a=d.Deferred();Komento.ajax("site.views.komento.getsubscribecontent",{component:Komento.component,cid:Komento.cid},{success:function(c){a.resolve(c)}});return a},reloadComments:function(b,c){a.kmt&&a.kmt.commentlist.cancelReply();d(".commentList").html('<img src="'+Komento.options.spinner+'" />'+d.language("COM_KOMENTO_COMMENTS_LOADING"));Komento.ajax("site.views.komento.reloadcomments",{component:Komento.component,
cid:Komento.cid,contentLink:Komento.contentLink,options:{sort:b,published:c}},{success:function(c,e,f){Komento.sort=b;Komento.loadedCount=e;Komento.totalCount=f;a.setCommentCounter(e);c=d(c);d(".commentList").html(c).controller().init();a.sortButton().enable().doneLoading();d(".kmt-notification").remove()},fail:function(){d(".commentList").text(d.language("COM_KOMENTO_ERROR"))}})},checkNewComment:function(){var b=Komento.options.konfig.live_notification_interval?1E3*parseInt(Komento.options.konfig.live_notification_interval):
3E4;setTimeout(function(){Komento.ajax("site.views.komento.checknewcomment",{component:Komento.component,cid:Komento.cid,total:Komento.totalCount},{success:function(b,f){if(1==b&&f>a.newCount){d(".kmt-notification").remove();var e=a.view.newComment({count:f});e.find(".reloadComments").bind("click",function(){a.kmt.tools.reloadComments(Komento.sort)});d("body").append(e)}a.newCount=f;a.hasNew=b},fail:function(){},complete:function(){a.kmt.tools.checkNewComment()}})},b)},addCommentCounter:function(){var b=
a.commentCounter().text();a.commentCounter().text(parseInt(b)+1)},deductCommentCounter:function(b){void 0===b&&(b=1);var c=a.commentCounter().text();a.commentCounter().text(parseInt(c)-b);Komento.loadedCount-=b;Komento.totalCount-=b},setCommentCounter:function(b){void 0===b&&(b=0);a.commentCounter().text(b)}}});f.resolve()})});Komento.module("komento.famelist",function(d){var f=this;Komento.require().library("ui/effect","dialog").stylesheet("dialog/default").image(Komento.options.spinner).script("sharelinks",
"markitup","komento.common","komento.commentitem","komento.language").view("dialogs/delete.single","dialogs/delete.affectchild","dialogs/unpublish.affectchild","comment/item/edit.form","dialogs/delete.attachment").done(function(){Komento.Controller("FameList",{defaults:{"{commentList}":".kmt-list","{stickList}":".stickList .kmt-list","{loveList}":".loveList .kmt-list","{commentItem}":".kmt-item","{stickItem}":".stickList .kmt-list .kmt-item","{loveItem}":".loveList .kmt-list .kmt-item","{noComment}":".kmt-empty-comment",
"{loadMore}":".loadMore","{navs}":".navs","{tabs}":".tabs","{commentText}":".commentText","{commentInfo}":".commentInfo","{commentForm}":".commentForm","{deleteButton}":".deleteButton","{editButton}":".editButton","{saveEditButton}":".saveEditButton","{editForm}":".editForm","{editInput}":".editInput","{replyButton}":".replyButton","{shareBox}":".shareBox","{reportButton}":".reportButton","{statusButton}":".statusButton","{statusOptions}":".statusOptions","{publishButton}":".publishButton","{unpublishButton}":".unpublishButton",
"{stickButton}":".stickButton","{likeButton}":".likeButton","{likesCounter}":".likesCounter","{parentLink}":".parentLink","{parentContainer}":".parentContainer","{socialButton}":".socialButton",view:{editForm:"comment/item/edit.form",deleteDialog:"dialogs/delete.affectchild",publishDialog:"dialogs/publish.affectchild",unpublishDialog:"dialogs/unpublish.affectchild",deleteAttachment:"dialogs/delete.attachment"}}},function(a){return{init:function(){0<a.navs().length&&a.navs().eq(0).trigger("click")},
ajaxinit:function(){a.generateSharelinks()},generateSharelinks:function(){a.generateShortLinks(function(){a.socialButton().each(function(a,c){d(c).sharelinks()})})},generateShortLinks:function(b){var c=function(c){a.socialButton().each(function(a,b){if(!d(b).attr("loaded")){var f=d(b).attr("commentid"),f=c+"#kmt"+f;d(b).attr("url",f);d(b).parents(".kmt-share-balloon").find(".short-url").val(f)}});b&&b()};Komento.shortenLink?c(Komento.shortenLink):d.shortenlink(Komento.contentLink,c)},"{navs} click":function(b){var c=
d(b).attr("func"),f=d(b).attr("tab"),e=d("."+f);e.attr("loaded")||(a[c](),("stickList"==f&&"1"!=Komento.options.konfig.enforce_live_stickies||"loveList"==f&&"1"!=Komento.options.konfig.enforce_live_lovies)&&e.attr("loaded",1));a.tabs().hide();e.show();a.navs().removeClass("active");b.addClass("active")},loadMainList:function(){a.loadComments("main")},loadStickList:function(){1==Komento.options.acl.read_stickies&&1==Komento.options.config.enable_stickies&&1==Komento.options.konfig.enable_ajax_load_stickies&&
a.loadComments("stickies")},loadLoveList:function(){1==Komento.options.acl.read_lovies&&1==Komento.options.config.enable_lovies&&1==Komento.options.konfig.enable_ajax_load_lovies&&a.loadComments("lovies")},loadComments:function(b){var c,f,e;switch(b){case "stickies":c=".stickList";f=1;e="default";limit=parseInt(Komento.options.config.max_stickies);break;case "lovies":c=".loveList";f="all";e="love";limit=parseInt(Komento.options.config.max_lovies);break;default:c=".mainList",f="all",e="default",limit=
parseInt(Komento.options.config.max_comments_per_page)}d(c).html('<div class="loading"><img src="'+Komento.options.spinner+'" />'+d.language("COM_KOMENTO_COMMENTS_LOADING")+"</div>");Komento.ajax("site.views.komento.loadcomments",{type:b,component:Komento.component,cid:Komento.cid,sticked:f,threaded:0,sort:e,limit:limit,contentLink:Komento.contentLink},{success:function(b){b=d(b);d(c).html(b);a.ajaxinit()},fail:function(){d(c).text(d.language("COM_KOMENTO_ERROR"))}})},stickComment:function(b){b=d(b);
b.children(".kmt-wrap").attr("style","left-margin: 0px !important");var c=b.attr("id").split("-")[1],f=0;0==a.stickItem().length?a.loadStickList():a.stickItem().length<Komento.options.config.max_stickies&&(a.stickItem().each(function(a,h){d(h).attr("id").split("-")[1]>c&&(d(h).before(b),f=1)}),0==f&&a.stickList().append(d(b)))},unstickComment:function(b){a.stickList().find("#"+b).remove()},set:function(b){a.item=b.itemset(a.options)},"{deleteButton} click":function(b){a.set(b);a.showDeleteDialog()},
"{editButton} click":function(b){a.set(b);b.checkClick()&&(b.checkSwitch()?a.edit(b):a.cancelEdit(b))},"{saveEditButton} click":function(b){a.set(b);a.saveEdit(b)},"{replyButton} click":function(b){a.set(b);1==Komento.options.konfig.enable_inline_reply?b.checkSwitch()?a.reply(b):a.cancelReply(b):a.kmt.form.staticReply(a.item.parentid)},"{reportButton} click":function(b){a.set(b);b.checkClick()&&(b.checkSwitch()?a.reportComment(b):a.cancelreportComment(b))},"{unpublishButton} click":function(){a.set(el);
0<a.childs?a.showUnpublishDialog(el):a.unpublishComment(el)},"{stickButton} click":function(b){a.set(b);b.checkClick()&&(b.checkSwitch()?a.stick(b):a.unstick(b))},"{likesCounter} click":function(b){a.set(b);a.showLikesDialog()},"{likeButton} click":function(b){a.set(b);b.checkClick()&&(b.checkSwitch()?a.like(b):a.unlike(b))},"{parentLink} mouseover":function(b){a.set(b);1==Komento.options.config.enable_threaded?d("#"+a.item.parentid).addClass("kmt-highlight"):(a.item.element.mine.parentContainer.show(),
0==a.item.element.mine.parentContainer.attr("loaded")&&(a.item.element.mine.parentContainer.html('<img src="'+Komento.options.spinner+'" />'),a.loadParent()))},"{parentLink} mouseout":function(b){a.set(b);1==Komento.options.config.enable_threaded?d("#"+a.item.parentid).removeClass("kmt-highlight"):a.item.element.mine.parentContainer.hide()},"{parentLink} click":function(b){a.set(b);d("."+a.item.parentid).highlight()},"{attachmentDelete} click":function(b){a.set(b);a.showAttachmentDeleteDialog(b)},
closeDialog:function(){0<d(".foundryDialog").length&&d(".foundryDialog").controller().close()},edit:function(){var b=a.item.mine.find("#"+a.item.commentid+"-edit");0==b.length?Komento.ajax("site.views.komento.getcommentraw",{id:a.item.id},{success:function(b){a.item.element.mine.editButton.text(d.language("COM_KOMENTO_COMMENT_EDIT_CANCEL")).switchOff().enable();b=a.view.editForm({commentId:a.item.commentid,commentText:b});a.item.element.mine.commentText.after(b);a.item.element.mine.editForm=d(b);
a.item.element.mine.editInput=a.item.element.mine.editForm.find(".editInput");a.item.mine.data("item",a.item);a.item.element.mine.editInput.markItUp(d.getBBcodeSettings())},fail:function(){a.item.element.mine.editButton.text(d.language("COM_KOMENTO_ERROR"))}}):(b.show(),a.item.element.mine.editButton.text(d.language("COM_KOMENTO_COMMENT_EDIT_CANCEL")).switchOff().enable())},cancelEdit:function(){a.item.element.mine.editButton.text(d.language("COM_KOMENTO_COMMENT_EDIT")).switchOn().enable();a.item.element.mine.editForm.hide()},
saveEdit:function(){Komento.ajax("site.views.komento.editcomment",{id:a.item.id,edittedComment:a.item.element.mine.editInput.val()},{success:function(b,c,f){a.item.element.both.commentText.html(b);a.item.element.both.commentInfo.text(d.language("COM_KOMENTO_COMMENT_EDITTED_BY",c,f)).show();1==Komento.options.config.enable_syntax_highlighting&&d.loadSHBrushes();a.cancelEdit()},fail:function(a){d.dialog({content:message})}})},reply:function(){d(".commentForm");d(".formAlert").hide().text("");d(a.options["{replyButton}"]).switchOn().find("span").text(d.language("COM_KOMENTO_COMMENT_REPLY"));
a.item.element.mine.replyButton.switchOff().find("span").text(d.language("COM_KOMENTO_COMMENT_REPLY_CANCEL"));a.kmt.form.reply(a.item)},cancelReply:function(){d(a.options["{replyButton}"]).switchOn().find("span").text(d.language("COM_KOMENTO_COMMENT_REPLY"));a.kmt.form.cancelReply()},showDeleteDialog:function(){d.dialog({height:150,content:a.view.deleteDialog(!0,{childs:a.childs}),afterShow:function(){d(".foundryDialog").find(".delete-affectChild").click(function(){a.deleteComment(1)});d(".foundryDialog").find(".delete-moveChild").click(function(){a.deleteComment(0)})}})},
deleteComment:function(b){d(".foundryDialog").find(".kmt-delete-status").show();Komento.ajax("site.views.komento.deletecomment",{id:a.item.id,affectChild:b},{success:function(){a.closeDialog();b?a.deleteChild(a.item.id):a.moveChildUp(a.item.id,a.item.parentid);a.item.both.hide("fade",function(){a.item.both.remove()})},fail:function(){d(".foundryDialog").find(".kmt-delete-status").text(d.language("COM_KOMENTO_ERROR"))}})},deleteChild:function(b){d('li[parentid="'+b+'"]').each(function(){a.deleteChild(d(this).attr("id"))}).hide("fade",
function(){d(this).remove()})},moveChildUp:function(b,c){d('li[parentid="'+b+'"]').attr("parentid",c).each(function(){d(this).removeClass("kmt-child-"+d(this).attr("depth")).addClass("kmt-child-"+(d(this).attr("depth")-1));d(this).attr("depth",d(this).attr("depth")-1);a.moveChildUp(d(this).attr("id"))})},reportComment:function(){Komento.ajax("site.views.komento.action",{id:a.item.id,type:"report",action:"add"},{success:function(){a.item.element.both.reportButton.text(d.language("COM_KOMENTO_COMMENT_REPORTED")).switchOff().enable()},
fail:function(){a.item.element.both.reportButton.text(d.language("COM_KOMENTO_ERROR"))}})},cancelreportComment:function(){Komento.ajax("site.views.komento.action",{id:a.item.id,type:"report",action:"remove"},{success:function(){a.item.element.both.reportButton.text(d.language("COM_KOMENTO_COMMENT_REPORT")).switchOn().enable()},fail:function(){a.item.element.both.reportButton.text(d.language("COM_KOMENTO_ERROR"))}})},showUnpublishDialog:function(){d.dialog({height:150,content:a.view.unpublishDialog(!0,
{childs:a.childs}),afterShow:function(){d(".foundryDialog").find(".unpublish-affectChild").click(function(){a.unpublishComment()})}})},unpublishComment:function(){Komento.ajax("site.views.komento.unpublish",{id:a.item.id},{success:function(){a.closeDialog();a.unpublishChild(a.item.id);a.item.both.hide("fade",function(){a.item.both.remove()})},fail:function(){}})},unpublishChild:function(b){d('li[parentid="'+b+'"]').each(function(){a.unpublishChild(d(this).attr("id"))}).hide("fade",function(){d(this).remove()})},
stick:function(b){Komento.ajax("site.views.komento.stick",{id:a.item.id},{success:function(){a.item.element.mine.stickButton.text(d.language("COM_KOMENTO_COMMENT_UNSTICK")).switchOff().enable();a.item.mine.addClass("kmt-sticked");a.kmt.famelist.stickComment(a.item.mine.clone())},fail:function(){a.item.element.mine.stickButton.text(d.language("COM_KOMENTO_ERROR"))}})},unstick:function(){Komento.ajax("site.views.komento.unstick",{id:a.item.id},{success:function(){a.item.element.both.stickButton.text(d.language("COM_KOMENTO_COMMENT_STICK")).switchOn().enable();
a.item.both.removeClass("kmt-sticked");a.unstickComment(a.item.commentid)},fail:function(){a.stickButton.text(d.language("COM_KOMENTO_ERROR"))}})},like:function(){Komento.ajax("site.views.komento.action",{id:a.item.id,type:"likes",action:"add"},{success:function(){a.item.element.both.likeButton.switchOff().enable().find("span").text(d.language("COM_KOMENTO_COMMENT_UNLIKE"));var b=parseInt(a.item.element.mine.likesCounter.find("span").text())+1;a.item.element.both.likesCounter.find("span").text(b)},
fail:function(b){a.item.element.both.likesCounter.find("span").text(b)}})},unlike:function(){Komento.ajax("site.views.komento.action",{id:a.item.id,type:"likes",action:"remove"},{success:function(){a.item.element.both.likeButton.switchOn().enable().find("span").text(d.language("COM_KOMENTO_COMMENT_LIKE"));var b=parseInt(a.item.element.mine.likesCounter.find("span").text())-1;a.item.element.both.likesCounter.find("span").text(b)},fail:function(){a.item.element.both.likesCounter.find("span").text(d.language("COM_KOMENTO_ERROR"))}})},
showLikesDialog:function(b){Komento.ajax("site.views.komento.getLikedUsers",{id:a.item.id},{success:function(a){d.dialog({title:d.language("COM_KOMENTO_COMMENT_PEOPLE_WHO_LIKED_THIS"),content:a})}})},loadParent:function(){var b=d("#"+a.item.parentid);if(0!=b.length){var c=b.find(".kmt-avatar:not(.parentContainer > .kmt-avatar)").clone(),f=b.find(".kmt-author:not(.parentContainer > .kmt-author)").clone(),e=b.find(".kmt-time:not(.parentContainer > .kmt-time)").clone(),b=b.find(".commentText:not(.parentContainer > .commentText)").clone();
a.item.element.both.parentContainer.html("").append(c).append(f).append(e).append(b)}else c=a.item.parentid.split("-")[1],Komento.ajax("site.views.komento.getcomment",{id:c},{success:function(b){a.item.element.both.parentContainer.html(b)},fail:function(){}});a.item.element.both.parentContainer.attr("loaded",1)},showAttachmentDeleteDialog:function(b){var c=d(b).parents(".attachmentFile").attr("attachmentid");b=d(b).parents(".attachmentFile").attr("attachmentname");d.dialog({height:150,content:a.view.deleteAttachment(!0,
{attachmentname:b}),afterShow:function(){d(".foundryDialog").find(".delete-attachment").click(function(){a.closeDialog();a.deleteFile(c)});d(".foundryDialog").find(".delete-attachment-cancel").click(function(){a.closeDialog()})}})},deleteFile:function(b){Komento.ajax("site.views.komento.deleteAttachment",{id:a.item.id,attachmentid:b},{success:function(){a.item.element.both.attachmentFile.filter(".file-"+b).remove();0==a.item.mine.find(".attachmentFile").length&&a.item.element.both.attachmentWrap.remove()},
fail:function(c){c='<p class="error">'+c+"</p>";a.item.element.both.attachmentFile.filter(".file-"+b).append(c)}})}}});f.resolve()})});Komento.module("komento.insertvideo",function(d){Komento.Controller("InsertVideo",{defaults:{caretPosition:"",element:"","{videoUrl}":".videoUrl","{insertVideo}":".insertVideo","{cancelVideo}":".cancelVideo"}},function(f){return{init:function(){},"{insertVideo} click":function(){f.addVideoLink()},"{cancelVideo} click":function(){f.closeDialog()},"{videoUrl} keypress":function(a,
b){13==b.keyCode&&(b.preventDefault(),f.addVideoLink())},addVideoLink:function(){var a=f.videoUrl().val();if(""!==a){var b=d("#"+f.options.element),a="[video]"+a+"[/video]",c=b.val();if(0==f.options.caretPosition)return b.val(a+c),d(".commentInput").focus(),d(".commentForm").controller().commentLengthCheck(),f.closeDialog(),!0;c=b.val();b.val(c.substring(0,f.options.caretPosition)+a+c.substring(f.options.caretPosition,c.length));d(".commentInput").focus();d(".commentForm").controller().commentLengthCheck();
f.closeDialog()}},closeDialog:function(){d(".foundryDialog").controller().close()}}});this.resolve()});Komento.ready(function(d){d(function(){d("#section-kmt").responsive([{at:818,switchTo:"w768"},{at:600,switchTo:"w600"},{at:400,switchTo:"w320"}])})});Komento.module("komento.profile",function(d){var f=this;Komento.require().script("komento.common").done(function(){Komento.Controller("Profile",{defaults:{uid:0,"{navComments}":".navComments","{navActivities}":".navActivities","{navPopular}":".navPopular",
"{navSticked}":".navSticked","{navs}":".navs","{tabs}":".tabs","{commentsTab}":"#kmt-comments","{activitiesTab}":"#kmt-activities","{popularTab}":"#kmt-popular","{stickedTab}":"#kmt-sticked","{loadMore}":".loadMore"}},function(a){return{init:function(){a.navs(":eq(0)").trigger("click");a.loaded={};a.total={}},"{navs} click":function(b){var c=d(b).attr("func"),f=d(b).attr("tab");a.tabs().hide();d("#"+f).show();a.navs().removeClass("active");b.addClass("active");a[c]&&a[c]()},"{loadMore} click":function(b){b.checkClick()&&
(b=b.parents(".tabs").attr("id").substring(4),b="loadMore"+b.charAt(0).toUpperCase()+b.slice(1),a[b]())},loadComments:function(){a.commentsTab().attr("loaded")||(a.commentsTab().html('<img src="'+Komento.options.spinner+'" />'+d.language("COM_KOMENTO_LOADING")),Komento.ajax("site.views.profile.getcomments",{uid:a.options.uid},{success:function(b,c,d){a.commentsTab().html(b);a.commentsTab().attr("loaded",!0);a.loaded.comments=parseInt(c);a.total.comments=parseInt(d)},fail:function(){}}))},loadMoreComments:function(){Komento.ajax("site.views.profile.getcomments",
{loadMore:1,uid:a.options.uid,start:a.loaded.comments},{success:function(b,c,d){a.commentsTab().children("ul").append(b);a.loaded.comments+=parseInt(c);a.loaded.comments>=a.total.comments&&a.hideLoadMore("comments");a.loadMore().enable()},fail:function(){}})},loadActivities:function(){a.activitiesTab().attr("loaded")||(a.activitiesTab().html('<img src="'+Komento.options.spinner+'" />'+d.language("COM_KOMENTO_LOADING")),Komento.ajax("site.views.profile.getactivities",{uid:a.options.uid},{success:function(b,
c,d){a.activitiesTab().html(b);a.activitiesTab().attr("loaded",!0);a.loaded.activities=parseInt(c);a.total.activities=parseInt(d)},fail:function(){}}))},loadMoreActivities:function(){Komento.ajax("site.views.profile.getactivities",{loadMore:1,uid:a.options.uid,start:a.loaded.activities},{success:function(b,c,d){a.activitiesTab().children("ul").append(b);a.loaded.activities+=parseInt(c);a.loaded.activities>=a.total.activities&&a.hideLoadMore("activities");a.loadMore().enable()},fail:function(){}})},
loadPopular:function(){a.popularTab().attr("loaded")||(a.popularTab().html('<img src="'+Komento.options.spinner+'" />'+d.language("COM_KOMENTO_LOADING")),Komento.ajax("site.views.profile.getpopularcomments",{uid:a.options.uid},{success:function(b,c,d){a.popularTab().html(b);a.popularTab().attr("loaded",!0);a.loaded.popular=parseInt(c);a.total.popular=parseInt(d)},fail:function(){}}))},loadMorePopular:function(){Komento.ajax("site.views.profile.getpopularcomments",{loadMore:1,uid:a.options.uid,start:a.loaded.popular},
{success:function(b,c,d){a.popularTab().children("ul").append(b);a.loaded.popular+=parseInt(c);a.loaded.popular>=a.total.popular&&a.hideLoadMore("popular");a.loadMore().enable()},fail:function(){}})},loadSticked:function(){a.stickedTab().attr("loaded")||(a.stickedTab().html('<img src="'+Komento.options.spinner+'" />'+d.language("COM_KOMENTO_LOADING")),Komento.ajax("site.views.profile.getstickedcomments",{uid:a.options.uid},{success:function(b,c,d){a.stickedTab().html(b);a.stickedTab().attr("loaded",
!0);a.loaded.sticked=parseInt(c);a.total.sticked=parseInt(d)},fail:function(){}}))},loadMoreSticked:function(){Komento.ajax("site.views.profile.getstickedcomments",{loadMore:1,uid:a.options.uid,start:a.loaded.sticked},{success:function(b,c,d){a.stickedTab().children("ul").append(b);a.loaded.sticked+=parseInt(c);a.loaded.sticked>=a.total.sticked&&a.hideLoadMore("sticked");a.loadMore().enable()},fail:function(){}})},hideLoadMore:function(a){d("#kmt-"+a).find(".loadMore").remove()}}});f.resolve()})});
Komento.module("komento.upload",function(d){var f=this;Komento.require().view("comment/form/uploadrow").library("plupload").done(function(){Komento.Controller("UploadForm",{defaults:{uploadUrl:d.indexUrl+"?option=com_komento&controller=file&task=upload&component="+Komento.component,uploadedId:[],"{uploader}":".uploaderForm","{uploadButton}":".uploadButton","{uploadArea}":".uploadArea","{uploadQueue}":".uploadQueue","{queueHeader}":".queueHeader","{queueRow}":".queueRow","{dragDrop}":".dragDrop","{removeFile}":".removeFile",
"{fileCounter}":".fileCounter",view:{uploadrow:"comment/form/uploadrow"}}},function(a){return{init:function(){a.uploader().implement("plupload",{settings:{url:a.options.uploadUrl,drop_element:"uploadArea",max_file_size:Komento.options.config.upload_max_size+"mb",filters:[{title:"Allowed File Type",extensions:Komento.options.config.upload_allowed_extension}]},"{uploader}":".uploaderForm","{uploadButton}":".uploadButton"},function(){a.plupload=this.plupload;"html5"==a.plupload.runtime&&a.enableDragDrop()})},
"{uploader} FilesAdded":function(b,c,d,e){a.addFiles(e)},"{uploader} UploadComplete":function(b,c,f,e){d(".queueRow").each(function(b,c){a.removeRow(d(c).attr("id"))});a.kmt.form.postComment()},"{uploader} FileUploaded":function(b,c,f,e,h){1==h.status&&a.options.uploadedId.push(h.id);"notallowed"==h.status?(a.plupload.stop(),a.kmt.form.errorNotification(d.language("COM_KOMENTO_FORM_NOTIFICATION_UPLOAD_NOT_ALLOWED"))):"exceedfilesize"==h.status&&(a.plupload.stop(),a.kmt.form.errorNotification(d.language("COM_KOMENTO_FORM_NOTIFICATION_MAX_FILE_SIZE",
Komento.options.config.upload_max_size+"mb")))},"{uploader} QueueChanged":function(b,c,d){a.fileCounter().text(d.files.length)},"{uploader} Error":function(b,c,f,e){a.kmt.form.clearNotification();switch(e.code){case -600:a.kmt.form.errorNotification(d.language("COM_KOMENTO_FORM_NOTIFICATION_MAX_FILE_SIZE",Komento.options.config.upload_max_size+"mb"));break;case -601:a.kmt.form.errorNotification(d.language("COM_KOMENTO_FORM_NOTIFICATION_FILE_EXTENSION",Komento.options.config.upload_allowed_extension))}},
"{removeFile} click":function(b){b=b.parents(".queueRow").attr("id");a.removeRow(b)},enableDragDrop:function(){a.dragDrop().show()},startUpload:function(){0<a.plupload.files.length?a.plupload.start():a.kmt.form.postComment()},addFiles:function(b){d.each(b,function(b,f){a.kmt.form.clearNotification();if(a.plupload.files.length>Komento.options.config.upload_max_file)return a.plupload.removeFile(f),a.kmt.form.errorNotification(d.language("COM_KOMENTO_FORM_NOTIFICATION_MAX_FILE_ITEM",Komento.options.config.upload_max_file)),
!0;if(1!=f.status)return!0;var e=parseInt(f.size/1024),e=a.view.uploadrow({id:f.id,filename:f.name,size:e});e.data("fileitem",f);a.uploadQueue().append(e)})},removeRow:function(b){d("#"+b).remove();b=a.plupload.getFile(b);a.plupload.removeFile(b)}}});f.resolve()})});Komento.module("location",function(d){var f=this;Komento.require().library("ui/autocomplete").done(function(){Komento.Controller("Location.Form.Simple",{defaultOptions:{language:"en",initialLocation:null,"{locationInput}":".locationInput",
"{locationLatitude}":".locationLatitude","{locationLongitude}":".locationLongitude","{autoDetectButton}":".autoDetectButton"}},function(a){return{init:function(){a.locationInput().val(d.language("COM_KOMENTO_COMMENT_WHERE_ARE_YOU"));a.locationLongitude().val("");a.locationLatitude().val("");a.locationInput().one("focus",function(){a.locationInput().val("")});var b=d.uid("ext");window[b]=function(){d.___GoogleMaps.resolve()};d.___GoogleMaps||(d.___GoogleMaps=d.Deferred(),void 0===window.google||void 0===
window.google.maps?Komento.require().script({prefetch:!1},"https://maps.googleapis.com/maps/api/js?sensor=true&language="+a.options.language+"&callback="+b):d.___GoogleMaps.resolve());d.___GoogleMaps.done(function(){a._init()})},_init:function(){a.geocoder=new google.maps.Geocoder;a.hasGeolocation=void 0!==navigator.geolocation;a.hasGeolocation?a.autoDetectButton().show():a.autoDetectButton().remove();a.locationInput().autocomplete({delay:300,minLength:0,source:a.retrieveSuggestions,select:function(b,
d){a.locationInput().autocomplete("close");a.setLocation(d.item.location)}}).prop("disabled",!1);a.locationInput().addClass("location-suggestion");var b=d.trim(a.options.initialLocation);b&&a.getLocationByAddress(b,function(b){a.setLocation(b[0])});a.busy(!1)},busy:function(b){a.locationInput().toggleClass("loading",b)},getUserLocations:function(b){a.getLocationAutomatically(function(c){a.userLocations=a.buildDataset(c);b&&b(c)})},getLocationByAddress:function(b,c){a.geocoder.geocode({address:b},
c)},getLocationByCoords:function(b,c,d){a.geocoder.geocode({location:new google.maps.LatLng(b,c)},d)},getLocationAutomatically:function(b,c){if(!navigator.geolocation)return c("ERRCODE","Browser does not support geolocation or do not have permission to retrieve location data.");navigator.geolocation.getCurrentPosition(function(c){a.getLocationByCoords(c.coords.latitude,c.coords.longitude,b)},c)},setLocation:function(b){b&&(a.locationResolved=!0,a.lastResolvedLocation=b,a.locationInput().val(b.formatted_address),
a.locationLatitude().val(b.geometry.location.lat()),a.locationLongitude().val(b.geometry.location.lng()))},removeLocation:function(){a.locationResolved=!1;a.locationInput().val("");a.locationLatitude().val("");a.locationLongitude().val("")},buildDataset:function(a){return d.map(a,function(a){return{label:a.formatted_address,value:a.formatted_address,location:a}})},retrieveSuggestions:function(b,c){a.busy(!0);var d=b.term,e=function(b){c(b);a.busy(!1)};""==d?e(a.userLocations||[]):a.getLocationByAddress(d,
function(b){e(a.buildDataset(b))})},suggestUserLocations:function(){a.hasGeolocation&&a.userLocations&&(a.removeLocation(),a.locationInput().autocomplete("search",""));a.autoDetectButton().text(d.language("COM_KOMENTO_FORM_LOCATION_AUTODETECT"));a.busy(!1)},"{locationInput} blur":function(){setTimeout(function(){var b=d.trim(a.locationInput().val());""==b?a.removeLocation():a.locationResolved?b!=a.lastResolvedLocation.formatted_address&&a.setLocation(a.lastResolvedLocation):a.removeLocation()},250)},
"{autoDetectButton} click":function(){a.busy(!0);a.autoDetectButton().text(d.language("COM_KOMENTO_FORM_LOCATION_DETECTING"));a.hasGeolocation&&!a.userLocations?a.getUserLocations(a.suggestUserLocations):a.suggestUserLocations()},"{locationInput} keypress":function(a){a.keypress(function(a){if(13==a.which)return!1})}}});f.resolve()})});Komento.module("migrator.actions",function(d){var f=this;Komento.require().script("admin.language","komento.common").done(function(){Komento.Controller("Migrator.Actions",
{defaults:{"{migrateButton}":".migrateButton","{deleteButton}":".deleteButton"}},function(a){return{init:function(){a.progress=a.element.find(".migratorProgress");a.migrator=a.element.find(".migratorTable")},"{migrateButton} click":function(b){b.checkClick()&&a.migrateStart()},migrateStart:function(){a.progress.controller().migratedComments().text("0");a.progress.controller().progressBar().width("0%");a.progress.controller().progressPercentage().text("0");a.progress.controller().progressStatus().html('<img src="'+
Komento.options.spinner+'" /> Migrating...');a.migrator.controller().getStatistic()},migrateComplete:function(){a.progress.controller().progressStatus().text(d.language("COM_KOMENTO_MIGRATORS_PROGRESS_DONE"));a.progress.controller().log(d.language("COM_KOMENTO_MIGRATORS_LOG_COMPLETE"));a.migrateButton().enable()}}});f.resolve()})});Komento.module("migrator.common",function(d){Komento.Controller("Migrator.Common",{defaults:{"{categoriesList}":"#category","{componentsList}":"#components","{publishingState}":"#publishingState",
"{migrateLikes}":"#migrateLikes"}},function(f){return{init:function(){f.migrationType=f.element.attr("migration-type");f.migratorType=f.element.attr("migrator-type");f.progress=f.element.find(".migratorProgress");f.actions=f.element.parents(".tab")},getStatistic:function(){var a,b;switch(f.migrationType){case "component":b="components";a=f.componentsList().val();break;case "article":b="categories";a=f.categoriesList().val();break;case "custom":b="data",a=d(".migrator-custom-data").controller().getData()}var c=
{};c[b]=a;Komento.ajax("admin.views.migrators.getmigrator",{type:f.migratorType,"function":"getstatistic",params:c},{success:function(a,b){f.progress.controller().setTotalPosts(a.length);f.progress.controller().setTotalComments(b);0<b&&("custom"==f.migratorType?f.migrateCustom(c,0,b):f.migrate(a,0,a[0]))},log:function(a){f.progress.controller().log(a)}})},migrate:function(a,b,c){if(void 0===c)f.actions.controller().migrateComplete();else{switch(f.migrationType){case "article":c={component:f.migratorType,
cid:c}}var d=f.publishingState().val(),e=f.migrateLikes().is(":checked")?1:0;Komento.ajax("admin.views.migrators.getmigrator",{type:f.migratorType,"function":"migrate",params:{component:c.component,cid:c.cid,publishingState:d,migrateLikes:e}},{success:function(){f.migrate(a,b+1,a[b+1])},fail:function(a){f.progress.controller().log("error: "+a)},update:function(a){f.progress.controller().updateMigratedComments(a)},log:function(a){f.progress.controller().log(a)}})}},migrateCustom:function(a,b,c){b>=
c?f.actions.controller().migrateComplete():(a.data.start=b,Komento.ajax("admin.views.migrators.getmigrator",{type:f.migratorType,"function":"migrate",params:a},{success:function(b){f.migrateCustom(a,b,c)},fail:function(a){f.progress.controller().log("error: "+a)},update:function(a){f.progress.controller().updateMigratedComments(a)},log:function(a){f.progress.controller().log(a)}}))}}});this.resolve()});Komento.module("migrator.custom",function(d){Komento.Controller("Migrator.Custom",{defaults:{"{migrateTable}":"#migrate-table",
"{componentFilter}":"#migrate-component-filter","{tableColumns}":".table-columns","{cycleAmount}":"#migrate-cycle"}},function(f){return{init:function(){f.loadTableColumns()},"{migrateTable} change":function(){f.loadTableColumns()},loadTableColumns:function(){var a={tableName:f.migrateTable().val()};Komento.ajax("admin.views.migrators.getmigrator",{type:"custom","function":"getColumns",params:a},{success:function(a){f.tableColumns().each(function(c,f){var e=a;d(f).data("required")||(e='<option value="kmt-none">none</option>'+
a);d(f).html(e)})}})},getData:function(){var a={};a.table=f.migrateTable().val();f.tableColumns().each(function(b,c){var f=d(c).attr("id").slice(15);a[f]=d(c).val()});a.componentFilter=f.componentFilter().val();a.cycle=f.cycleAmount().val();return a}}});this.resolve()});Komento.module("migrator.progress",function(d){var f=this;Komento.require().script("admin.language","komento.common").done(function(){Komento.Controller("Migrator.Progress",{defaults:{"{progressBar}":".progressBar","{progressStatus}":".progressStatus",
"{progressPercentage}":".progressPercentage","{logList}":".logList","{clearLog}":".clearLog","{totalComments}":".totalComments","{totalPosts}":".totalPosts","{migratedComments}":".migratedComments"}},function(a){return{init:function(){},"{clearLog} click":function(){a.logList().html("")},setTotalPosts:function(b){a.totalPosts().text(b)},setTotalComments:function(b){a.totalComments().text(b)},updateMigratedComments:function(b){var c=a.migratedComments().text();b=parseInt(c)+parseInt(b);a.migratedComments().text(b);
c=parseInt(a.totalComments().eq(0).text());b=Math.ceil(b/c*100);a.progressBar().animate({width:b.toString()+"%"});a.progressPercentage().text(b)},log:function(b){var c=new Date,d=9<c.getHours()?c.getHours():"0"+c.getHours(),e=9<c.getMinutes()?c.getMinutes():"0"+c.getMinutes(),c=9<c.getSeconds()?c.getSeconds():"0"+c.getSeconds();b="<li>"+("["+d+":"+e+":"+c+"]")+" "+b+"</li>";d=a.logList()[0].scrollHeight;a.logList().append(b).scrollTop(d)}}});f.resolve()})})});